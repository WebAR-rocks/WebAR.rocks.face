/**
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * 
 * You cannot reproduce, sublicense, distribute or sell this software or part of this software without an explicit (and written) authorization of WebAR.rocks.
 * 
 * You should be granted by a written agreement by WebAR.rocks to use this software for an explicit period of time (e.g. yearly).
 * This agreement should list the domain(s) where this software can be hosted. Each subdomain is considered as a separate domain. A 301 or 302 HTTP direction to an authorized domain is authorized too.
 * 
 * You cannot use this software or part of this software for other purpose than rigid head accessories virtual try-on.
 * 
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
 * 
*/

// BEGIN EMULATE DOM

// import some usefull stuffs
try {
  var Buffer = require('buffer').Buffer;
} catch(err) {
  console.log('Cannot import Buffer package');
}

// emulate global variables:
const navigator = {  
  platform: "Linux x86_64",
  userAgent: "forceWebGL1_noAntialiasing_noDOM"
};

const window = {
  canvas: null,
  innnerWidth: -1,
  innerHeight: -1,
  URL: {
    createObjectURL: function() {
      return null
    }
  },
  addEventListener: function() {},
  removeEventListener: function() {},
  requestAnimationFrame: function(step) {
    if (window.canvas === null){
      setTimeout(step, 1);
      return;
    }
    window.canvas.requestAnimationFrame(step)
  },
  cancelAnimationFrame: function(step) {
    if (window.canvas === null){
      return;
    }
    window.canvas.cancelAnimationFrame(step)
  },
  setCanvas: function(c) {
    window.canvas = c;
  }
};

const document = {
  createElement: function(elementType){
    switch(elementType){
      case 'canvas':
        return null; // return a real canvas
    }
  },
  getElementById: function(elementId){
    return null;
  },
  body: { appendChild: function(element){ return null; }}
};

if(typeof(wx) !== 'undefined'){ //WECHAT
  const systemInfo = wx.getSystemInfoSync()
  window.innnerWidth = systemInfo.windowWidth;
  window.innnerHeight = systemInfo.windowHeight;
}

const FAKEDOM = {
  window: window,
  document: document,
  navigator: navigator
};
// END EMULATE DOM


/*
 SharedContext.is_webgl2() &&*/
window.WEBARROCKSFACE=function(){function Jb(a){var c=null,d=null,e=null,r=0;this.v=function(m){this.hf(m.eb);e.ge({nc:m.nc,kc:m.kc})};this.De=function(m){return c[m]};this.hf=function(m){var l=null;r=m.length;c=m.map(function(n,f){n=Object.assign({},n,{index:f,parent:this,lb:l,Pe:f===r-1});return l=f=0===f?Kb.instance(n):Lb.instance(n)});d=c[0];e=c[r-1];c.forEach(function(n,f){0!==f&&n.Ze()})};this.X=function(m){var l=m;c.forEach(function(n){l=n.X(l,!1)});return l};this.Ce=function(){return d.D()};
this.Ge=function(){return e.D()};this.Qb=function(){return e.Fe()};this.ad=function(){return e.ad()};this.m=function(){c&&(c.forEach(function(m){m.m()}),e=d=c=null,r=0)};"undefined"!==typeof a&&this.v(a)}function fb(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function Mb(a){var c=JSON.parse(a);a=c.ne;var d=c.nf,e=c.n;var r="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var m=r.length;c=new Uint8Array(m);for(var l=0;l<m;++l)c[l]=r.charCodeAt(l);r=new Float32Array(e);
m=new Float32Array(d);l=a+d+1;for(var n=0;n<e;++n){for(var f=l*n,v=0===fb(c,f)?1:-1,x=f+1,p=1,g=0,A=x+a-1;A>=x;--A)g+=p*fb(c,A),p*=2;x=g;f=f+1+a;p=m.length;g=0;for(A=f;A<f+p;++A)m[g]=fb(c,A,!0),++g;for(p=f=0;p<d;++p)f+=m[p]*Math.pow(2,-p-1);r[n]=0===f&&0===x?0:v*(1+f)*Math.pow(2,1+x-Math.pow(2,a-1))}return r}function $a(){if(oa===ka.play)return!1;oa=ka.play;Ea.Kd();Qa.stop();tb(0)}function gb(){if(oa!==ka.play)return!1;Qa.stop();oa=ka.pause;return!0}function Fa(a,c,d,e,r){a=4*(c*Ga+a)+d;return e+
(aa.buffer[a]/255+aa.buffer[a+4*Ga]/65025)*(r-e)}function ub(){ua.ca();U.reset();Y.reset();z.T();z.Qc();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);U.Ca();z.xa()}function vb(){ua.S();b.viewport(0,0,Ga,2*L.o);z.set("s52");aa.ia.g(0);aa.ia.Xd(1);U.l(!1,!1);return Z.nb(0,0,Ga,2*L.o,aa.buffer)}function Nb(a){var c=Ra[a],d=hb[a],e=pa[a];a*=2;c.Qa=Fa(1,a,3,0,1);e.detected=za.ga(e.detected,c.Qa,ca.Rd);e.isDetected=e.detected>ra.threshold;if(e.isDetected){c.x=Fa(0,a,1,-1,1);c.y=Fa(0,a,2,-1,1);c.V=Fa(0,a,3,
0,1);c.oc=Fa(1,a,0,-aa.ha[0],aa.ha[0]);c.pc=Fa(1,a,1,-aa.ha[1],aa.ha[1]);c.Ia=Fa(1,a,2,-aa.ha[2],aa.ha[2]);for(var r=0;r<la.fc;++r){var m=2+Math.floor(r/2);c.ac[r][0]=Fa(m,a,r%2*2,-1.2,1.2);c.ac[r][1]=Fa(m,a,r%2*2+1,-1.2,1.2)}d.Ib=c.x-e.x;d.Jb=c.y-e.y;d.Hb=c.V-e.s;d.Eb=c.oc-e.rx;d.Fb=c.pc-e.ry;d.Gb=W.oa?c.Ia:c.Ia-e.rz;a=Ea.xe();d=za.ga(va.alphaRange[1],va.alphaRange[0],Math.pow((1-ib.bc(va.translationFactorRange[0],va.translationFactorRange[1],Math.sqrt(d.Ib*d.Ib+d.Jb*d.Jb+d.Hb*d.Hb)/a))*(1-ib.bc(va.rotationFactorRange[0],
va.rotationFactorRange[1],Math.sqrt(d.Eb*d.Eb+d.Fb*d.Fb+d.Gb*d.Gb)/a))*ib.bc(va.qualityFactorRange[0],va.qualityFactorRange[1],c.Qa),ca.Sd));ia.mode===ia.fb.qb&&(ia.ma.Ta=Math.cos(Math.sqrt(Math.abs(e.ry))),ia.ma.Mb=ia.Nc*Math.sin(e.ry));e.x=za.ga(e.x,c.x,d);e.y=za.ga(e.y,c.y,d);e.s=za.ga(e.s,c.V,d);e.rx=za.ga(e.rx,c.oc,d);e.ry=za.ga(e.ry,c.pc,d);var l=1,n=0;W.oa?(l=Math.cos(e.rz),n=Math.sin(e.rz),e.rz+=va.followZRotAlphaFactor*d*c.Ia):e.rz=za.ga(e.rz,c.Ia,d);e.landmarks.forEach(function(f,v){var x=
la.Ic[v],p=c.ac[v];v=c.Se[v];var g=x[0]+p[0]/la.Kb;x=x[1]+p[1]/la.Kb;ia.mode===ia.fb.qb&&(g=g*ia.ma.Ta+ia.ma.Mb*c.V);W.oa&&(p=x*l+g*n,g=g*l-x*n,x=p);v[0]=c.x+g*c.V;v[1]=c.y+x*c.V*S.wb;f[0]=v[0];f[1]=v[1]});++c.ib}else W.oa&&(e.rz=0),ia.mode===ia.fb.qb&&(ia.ma.Ta=1,ia.ma.Mb=0)}function tb(){oa===ka.play&&(z.Qc(),U.reset(),U.Ca(),b.disable(b.DEPTH_TEST),z.xa(),ca.ie?vb().then(function(){wb();xb()}).catch(jb):(wb(),vb().then(xb).catch(jb)))}function wb(){ua.ca();if(!B.ab)if(B.$a)B.element.needsUpdate&&
(B.L.zf(B.element.arrayBuffer),B.element.needsUpdate=!1);else{var a=B.element.currentTime,c=a-B.mb;0>c&&(B.mb=a);1E3*c<ca.Bf||(B.mb+=c,B.L.refresh())}a=Ea.Ee();if(L.Y.length>a)L.Y.splice(0,L.Y.length-a);else for(;L.Y.length<a;)L.Y.push(0);if(1!==L.o)if(pa.every(kb)){for(var d=0,e=c=0;e<pa.length;++e)pa[e].detected>d&&(d=pa[e].detected,c=0);for(d=0;d<a;++d)L.Y[d]=c}else{c=L.pd;d=0;for(e=!1;d<a;++d){if(kb(pa[c]))if(e){do++c===L.o&&(c=0);while(kb(pa[c]))}else e=!0;L.Y[d]=c++;c>=L.o&&(c=0)}L.pd=c}for(c=
0;c<a;++c)L.na=L.Y[c],L.jc=(.5+L.na)/L.o,L.ld=L.Y.lastIndexOf(L.na)===c,z.set("s54"),ia.mode===ia.fb.qb&&z.I("u42",ia.ma.Ta),W.oa&&z.I("u41",pa[L.na].rz),1!==L.o&&z.I("u40",L.jc),S.pa.aa(),B.L.g(0),aa.ia.g(1),U.l(!1,!1),S.pa.g(0),Aa.X(S.pa);Ea.Kd()}function xb(){for(var a=0;a<L.o;++a)-1!==L.Y.indexOf(a)&&Nb(a);ua.xf();ua.reset();Y.reset();b.enable(b.DEPTH_TEST);W.yb&&W.yb(1===L.o?pa[0]:pa);b.disable(b.BLEND);jb()}function jb(){oa===ka.play&&Qa.ef(tb)}function Ob(){function a(r,m){z.O(r,[{name:"u36",
type:"1f",value:m/Ga}])}function c(){return la.labels.map(function(){return[0,0]})}function d(r){for(var m=[],l=0;l<L.o;++l)m.push(JSON.parse(JSON.stringify(r)));return m}Ga=2+la.hc;var e=new Float32Array(4*Ga);e={width:Ga,height:L.o,isFloat:!0,isPot:!1,array:function(r){for(var m=new Float32Array(r.length*L.o),l=0,n;l<L.o;++l)for(n=0;n<r.length;++n)m[l*r.length+n]=r[n];return m}(e)};aa.ia&&aa.ia.remove();aa.ia=Pb.instance(e);aa.buffer=new Uint8Array(8*e.width*L.o);a("s53",.5);a("s52",1);a("s54",
.5);Ra=d({Qa:0,x:0,y:0,V:1,oc:0,pc:0,Ia:0,ac:c(),Se:c(),ib:0});pa=d({detected:0,isDetected:!1,x:0,y:0,s:1,rx:0,ry:0,rz:0,landmarks:c()});hb=d({Ib:0,Jb:0,Hb:0,Eb:0,Fb:0,Gb:0})}function lb(){z.O("s54",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u38",value:1},{type:"2f",name:"u39",value:S.H},{type:"1f",name:"u40",value:.5},{type:"1f",name:"u41",value:0},{type:"1f",name:"u42",value:1}]);var a=[{type:"1i",name:"u43",value:0},{type:"1f",name:"u49",value:aa.size}];z.O("s53",[{type:"1i",name:"u38",value:1},
{type:"1f",name:"u46",value:ca.vf},{type:"1f",name:"u47",value:ra.threshold},{type:"3f",name:"u45",value:[aa.P[0]*S.H[0],aa.P[1]*S.H[1],aa.P[2]]},{type:"1f",name:"u40",value:.5},{type:"1f",name:"u48",value:1},{type:"1f",name:"u41",value:0}].concat(a));z.O("s56",a);z.O("s57",a);z.O("s52",[{type:"1i",name:"u38",value:0},{type:"1i",name:"u51",value:1},{type:"1f",name:"u53",value:S.H[0]},{type:"2f",name:"u52",value:[0,.5/L.o]}])}function mb(){aa.size=Aa.Ge();S.H[0]=1;S.H[1]=S.B/S.G;yb.v({kb:ra.overlapFactors,
ud:ra.nScaleLevels,B:S.B,G:S.G,Cd:ra.scale0Factor,P:aa.P,Dd:ra.scanCenterFirst})}function zb(a){if(null!==W.Ka)Ab(W.Ka,a);else{var c=W.tb;"JSON"!==c.toUpperCase().split(".").pop()&&(c+=ca.neuralNetworkPath);Bb.get(c,function(d){d=JSON.parse(d);Ab(d,a)})}}function Ab(a,c){if(a.exportData){var d=a.exportData;d.rotationEulerAnglesFactors&&(aa.ha=d.rotationEulerAnglesFactors);d.translationScalingFactors&&(aa.P=d.translationScalingFactors);d.landmarksLabels&&(la.labels=d.landmarksLabels,la.fc=la.labels.length,
la.hc=Math.ceil(la.fc/2));la.Ic=d.landmarksCenters?d.landmarksCenters:la.labels.map(function(){return[0,0]});d.landmarksFactor&&(la.Kb=d.landmarksFactor);d.facegenMode&&(ia.mode=d.facegenMode,d.facegenDisplaceXFactor&&(ia.Nc=d.facegenDisplaceXFactor))}c(a)}function Cb(a){Aa=new Jb({eb:a.layers,nc:"gpuRawAvg",kc:Qb});S.pa&&S.pa.remove();S.pa=Y.instance({isPot:!0,isFloat:!1,width:Aa.Ce()});Ob();mb();lb()}function Rb(){if(Ma.v({Bb:W.Z,width:S.B,height:S.G,Wb:!1,debug:!1,vd:function(){Na("GLCONTEXT_LOST")},
antialias:!1,premultipliedAlpha:!0}))return!0;Na("GL_INCOMPATIBLE");return!1}function kb(a){return!a.isDetected}function Db(a,c,d,e){return d>a?Math.max(0,a+c/2-(d-e/2)):Math.max(0,d+e/2-(a-c/2))}function Sb(){return Ra.some(function(a,c){if(c===L.na)return!1;c=Ra[L.na];if(c.ib>a.ib||3>a.ib||Db(c.x,c.V,a.x,a.V)<ca.sd*c.V)return!1;var d=S.B/S.G;return Db(c.y,c.V*d,a.y,a.V*d)>ca.sd*c.V*d})}function Qb(){var a=L.na,c=pa[a];aa.ia.gf(1);1!==L.o&&(b.viewport(0,0,Ga,L.o),z.set("s0"),z.Hd("u1",1),U.l(!1,
!1),z.Hd("u1",0));b.viewport(0,a,1,1);z.set("s53");W.oa&&z.I("u41",c.rz);1!==L.o&&z.I("u40",L.jc);1<L.o&&(c=Sb()?0:1,z.I("u48",c));z.mf("u44",yb.get());U.l(!1,!1);L.ld&&(b.viewport(1,a,1,1),z.set("s56"),U.l(!1,!1),b.viewport(2,a,la.hc,1),z.set("s57"),U.l(!1,!1))}function Eb(){B.L&&B.L.remove();B.$a=B.element.isFakeVideo?!0:!1;B.tc=Y.instance(Object.assign({isPot:!1,isLinear:!0,isFloat:!1},B.$a?{isFlipY:!1,array:B.element.arrayBuffer,width:B.element.videoWidth,height:B.element.videoHeight,isKeepArray:!0}:
{N:B.element}));B.L=B.tc}function Ua(){var a=[{type:"mat2",name:"u37",value:B.C}];z.O("s55",[{type:"1i",name:"u1",value:0}].concat(a));z.O("s54",a)}function Sa(){B.M[0]=.5;B.M[1]=.5;var a=B.H[1]/B.H[0],c=Ma.W()/Ma.D();90===Math.abs(qa.rotate)&&(a=1/a);a>c?B.M[1]*=c/a:B.M[0]*=a/c;z.O("s53",[{name:"u50",type:"1f",value:c}]);B.C[0]=0;B.C[1]=0;B.C[2]=0;B.C[3]=0;switch(qa.rotate){case 0:B.C[0]=B.M[0];B.C[3]=B.M[1];break;case 180:B.C[0]=-B.M[0];B.C[3]=-B.M[1];break;case 90:B.C[1]=B.M[0];B.C[2]=-B.M[1];
break;case -90:B.C[1]=-B.M[0],B.C[2]=B.M[1]}B.ab||(B.C[1]*=-1,B.C[3]*=-1)}function nb(){var a=B.element.videoWidth,c=B.element.videoHeight,d=B.H[0]!==a||B.H[1]!==c;d&&(B.H[0]=a,B.H[1]=c);return d}function ab(a,c){if(oa===ka.error)return!1;B.element=a;nb();c&&c();return!0}function Fb(a,c,d){a&&a();B.Ea={video:{facingMode:{ideal:qa.facingMode},width:{min:qa.minWidth,max:qa.maxWidth,ideal:qa.idealWidth},height:{min:qa.minHeight,max:qa.maxHeight,ideal:qa.idealHeight}},audio:!1};qa.deviceId&&(B.Ea.deviceId=
qa.deviceId);X.get(X.Ie(),function(e){c&&c(e);d(e)},function(){Na("WEBCAM_UNAVAILABLE")},B.Ea)}function Na(a){oa!==ka.error&&(oa=ka.error,W.Da&&W.Da(a))}var ob=null,za={yg:function(a){return Math.ceil(Math.log2(a))},Qg:function(a){return Math.log2(a)},Ng:function(a){return 0===Math.log2(a)%1},Jf:function(a){var c=[0,0,0,0];a.forEach(function(d){c[0]+=d[0];c[1]+=d[1];c[2]+=d[2];c[3]+=d[3]});return c},Kf:function(a,c,d){return Math.min(Math.max(a,c),d)},Nf:function(a){return a*Math.PI/180},Xg:function(a,
c){c=Math.pow(10,c);return Math.round(a*c)/c},Yg:function(a){return Math.round(1E6*a)/1E6},zg:function(a,c){return(100*a/c).toFixed(3)},ga:function(a,c,d){return a*(1-d)+c*d},me:function(a,c){return za.de(a-c)},de:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},Vf:function(a,c){return Math.abs(za.me(a,c))},Cf:function(a,c){return Math.atan2(Math.sin(a)+Math.sin(c),Math.cos(a)+Math.cos(c))}},Bb={get:function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=
!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?c(e.responseText):"undefined"!==typeof d&&d(e.status))};e.send()},vg:function(a,c){Bb.get(a,function(d){c(JSON.parse(d))})},Tg:function(a,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(c)},lg:function(a,c){var d=new XMLHttpRequest;d.open("POST",
a,!0);d.responseType="arraybuffer";d.onload=function(){c(d.response)};d.send()}},pb={Cb:function(a,c){if(0===c||"object"!==typeof a)return a;a=Object.assign({},a);c=void 0===c||-1===c?-1:c-1;for(var d in a)a[d]=pb.Cb(a[d],c);return a}},ib={jh:function(a,c,d){a=Math.min(Math.max((d-a)/(c-a),0),1);return a*a*(3-2*a)},bc:function(a,c,d){return Math.min(Math.max((d-a)/(c-a),0),1)},fg:function(a,c,d,e){return Math.pow(Math.min(Math.max((e-a)/(c-a),0),1),d)},nh:function(){return 0},Sg:function(){return 1},
Pg:function(a){return a},cg:function(a){return a*a},hg:function(a){return a*(2-a)},$f:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},Yf:function(a){return a*a*a},gg:function(a){return--a*a*a+1},Zf:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},dg:function(a){return a*a*a*a},ig:function(a){return 1- --a*a*a*a},ag:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},eg:function(a){return a*a*a*a*a},jg:function(a){return 1+--a*a*a*a*a},bg:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},Tb={se:function(a,
c,d){switch(a){case "relu":return d+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return d+"=mix(exp(-abs("+c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return d+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+c+",step(0.,"+c+"));";case "arctan":return d+"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},z=function(){function a(u,t,D){t=u.createShader(t);u.shaderSource(t,D);u.compileShader(t);return u.getShaderParameter(t,u.COMPILE_STATUS)?
t:!1}function c(u,t,D){t=a(u,u.VERTEX_SHADER,t);D=a(u,u.FRAGMENT_SHADER,D);u===b&&l.push(t,D);var J=u.createProgram();u.attachShader(J,t);u.attachShader(J,D);u.linkProgram(J);return J}function d(u,t){t.F=t.F?!0:!1;if(!t.F){void 0===t.ta&&(t.ta="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===t.Oa&&(t.Oa=["a0"]);void 0===t.Aa&&(t.Aa=[2]);if(void 0===t.precision||"highp"===t.precision)t.precision=p;t.id=v++;void 0!==t.Ed&&
(t.Ed.forEach(function(J,N){t.h=t.h.replace(J,t.ob[N])}),t.Ed.splice(0));t.zc=0;t.Aa.forEach(function(J){t.zc+=4*J});t.ra=c(u,t.ta,"precision "+t.precision+" float;\n"+t.h);t.A={};t.i.forEach(function(J){t.A[J]=u.getUniformLocation(t.ra,J)});t.attributes={};t.Ba=[];t.Oa.forEach(function(J){var N=u.getAttribLocation(t.ra,J);t.attributes[J]=N;t.Ba.push(N)});if(t.j){u.useProgram(t.ra);f=t;n=t.id;for(var D in t.j)u.uniform1i(t.A[D],t.j[D])}t.qa=!0}}function e(u){wa.lf(I);n!==u.id&&(I.T(),n=u.id,f=u,b.useProgram(u.ra),
u.Ba.forEach(function(t){0!==t&&b.enableVertexAttribArray(t)}))}function r(u,t,D){d(u,t,D);u.useProgram(t.ra);u.enableVertexAttribArray(0);n=-1;return f=t}function m(){return{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],j:{u1:0}}}var l=[],n=-1,f=null,v=0,x=!1,p="highp",g=["u1"],A=["u0"],y={u1:0},k={u0:0},q={u1:0,u2:1},E={u3:0},M={s0:m(),s1:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:g,j:y,precision:"lowp"},
s2:{h:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",i:["u1","u2"],j:q},s3:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:g,j:y},s4:{h:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],j:q},s5:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
i:g,j:y},s6:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:g,j:y},s7:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",i:["u0","u4"],j:k},s8:{h:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",i:["u0","u4"],j:k},s9:{h:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
i:g,j:y},s10:{h:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",i:["u1","u5","u6"],j:{u1:0,u5:1}},s11:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",i:["u1","u7"],j:y},s12:{h:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
i:["u1","u8"],j:y},s13:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:A,j:k,F:!0},s14:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:A,j:k},s15:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:A,j:k},
s16:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:A,j:k},s17:{h:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",i:["u0","u6","u9"],j:{u0:0,u6:1,u9:2},F:!0},s18:{h:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",
i:A,j:k},s19:{h:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",i:A,j:k,F:!0},s20:{h:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u10","u11"],j:{u0:0,u10:1},F:!0},s21:{h:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u12"],j:y},s22:{h:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",i:["u13","u14","u15"],j:{u14:0,u13:1,u15:2},F:!0},s23:{h:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",i:["u14","u13","u16"],j:{u14:0,u13:1}},s24:{h:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
i:"u13 u14 u16 u20 u17 u18 u19".split(" "),j:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6},F:!0},s25:{h:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",i:"u13 u14 u16 u22 u23 u24 u21".split(" "),
j:{u14:0,u13:1,u21:2}},s26:{h:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",i:["u13","u14"],j:{u14:0,u13:1},F:!0},s27:{h:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",i:["u1","u21","u25"],j:{u1:0,u21:1}},s28:{h:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:g,j:y,precision:"lowp"},s29:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u26"],j:y,precision:"lowp"},s30:{h:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u26"],j:y,precision:"lowp"},s31:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u27"],j:q,F:!0},s32:{h:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u27"],j:q,F:!0},s33:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u3","u7"],j:E},s34:{h:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u3","u7"],j:E,F:!0},
s35:{h:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],j:y,precision:"lowp",F:!0},s36:{h:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",i:["u7","u1"],j:y,precision:"lowp",
F:!0},s37:{h:"uniform sampler2D u1,u10,u28;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u10,vv0),b=texture2D(u28,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u10","u28"],j:{u1:0,u10:1,u28:2},F:!0}},K={s38:{h:"uniform float u16,u29;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u29*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u16","u13","u14","u21","u29"],ob:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{h:"uniform float u16,u29,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u29*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u16 u24 u13 u14 u21 u29".split(" "),ob:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},O=null,G=null,I={cb:function(){return x},v:function(){if(!x){O=pb.Cb(M,2);G=pb.Cb(K,2);p="highp";for(var u in O)d(b,O[u],u);z.set("s0");b.enableVertexAttribArray(0);x=!0}},Cc:function(u){u.forEach(function(t){I.Bc(t)})},Bc:function(u){O[u.id]=u;d(b,u,u.id)},dd:function(u,t,D){t||(t=u);O[t]=Object.create(G[u]);O[t].Oe=!0;G[u].ob&&G[u].ob.forEach(function(J,N){O[t].h=O[t].h.replace(new RegExp(J,"g"),D[N])});d(b,
O[t],t)},set:function(u){u=O[u];u.F&&(u.F=!1,d(b,u,u.id));e(u)},Ja:function(u){return r(u,m(),"s40")},qc:function(u){return r(u,{h:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:"highp"},"s41")},qe:function(u){return"undefined"===typeof O[u]?!1:O[u].qa},T:function(){-1!==n&&(n=-1,f.Ba.forEach(function(u){0!==u&&b.disableVertexAttribArray(u)}))},sc:function(){var u=0;f.Ba.forEach(function(t,D){D=f.Aa[D];b.vertexAttribPointer(t,D,b.FLOAT,!1,f.zc,u);u+=4*D})},Qc:function(){b.enableVertexAttribArray(0)},
xa:function(){I.pb(b)},pb:function(u){u.vertexAttribPointer(f.Ba[0],2,u.FLOAT,!1,8,0)},Hd:function(u,t){b.uniform1i(f.A[u],t)},I:function(u,t){b.uniform1f(f.A[u],t)},sa:function(u,t,D){b.uniform2f(f.A[u],t,D)},dh:function(u,t){b.uniform2fv(f.A[u],t)},mf:function(u,t){b.uniform3fv(f.A[u],t)},eh:function(u,t,D,J){b.uniform3f(f.A[u],t,D,J)},fh:function(u,t,D,J,N){b.uniform4f(f.A[u],t,D,J,N)},rc:function(u,t){b.uniform4fv(f.A[u],t)},gh:function(u,t){b.uniformMatrix2fv(f.A[u],!1,t)},hh:function(u,t){b.uniformMatrix3fv(f.A[u],
!1,t)},ih:function(u,t){b.uniformMatrix4fv(f.A[u],!1,t)},O:function(u,t){I.set(u);t.forEach(function(D){switch(D.type){case "4f":b.uniform4fv(f.A[D.name],D.value);break;case "3f":b.uniform3fv(f.A[D.name],D.value);break;case "2f":b.uniform2fv(f.A[D.name],D.value);break;case "1f":b.uniform1f(f.A[D.name],D.value);break;case "1i":b.uniform1i(f.A[D.name],D.value);break;case "mat2":b.uniformMatrix2fv(f.A[D.name],!1,D.value);break;case "mat3":b.uniformMatrix3fv(f.A[D.name],!1,D.value);break;case "mat4":b.uniformMatrix4fv(f.A[D.name],
!1,D.value)}})},xg:function(){return"lowp"},m:function(){b.disableVertexAttribArray(0);I.T();for(var u in O){var t=O[u];t.qa&&(t.qa=!1,b.deleteProgram(t.ra));t.Oe&&delete O[u]}l.forEach(function(D){b.deleteShader(D)});l.splice(0);v=0;x=!1;f=null;n=-1}};return I}(),b=null,Ma=function(){function a(p){console.log("ERROR in ContextFF: ",p);return!1}function c(p){function g(){Ha.m();Z.reset();y.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;
var A=document.createElement("canvas");A.setAttribute("width",5);A.setAttribute("height",5);var y=null;try{y=A.getContext("webgl2",p)}catch(k){return!1}if(!y)return!1;d(y);Z.Rc(y);p=Z.Db(y);if(!p.da&&!p.ea)return g(),!1;p=Ha.Gc(y,p);g();return p?!0:!1}function d(p){p.clearColor(0,0,0,0);p.disable(p.DEPTH_TEST);p.disable(p.BLEND);p.disable(p.DITHER);p.disable(p.STENCIL_TEST);p.disable(p.CULL_FACE);p.GENERATE_MIPMAP_HINT&&p.hint(p.GENERATE_MIPMAP_HINT,p.FASTEST);p.disable(p.SAMPLE_ALPHA_TO_COVERAGE);
p.disable(p.SAMPLE_COVERAGE);p.depthFunc(p.LEQUAL);p.clearDepth(1)}var e=null,r=null,m=null,l=null,n=!0,f=null,v=null,x={D:function(){return e.width},W:function(){return e.height},pg:function(){return e},ng:function(){return b},fa:function(){return n},flush:function(){b.flush()},we:function(){f||(f=new Uint8Array(e.width*e.height*4));b.readPixels(0,0,e.width,e.height,b.RGBA,b.UNSIGNED_BYTE,f);return f},qg:function(){return e.toDataURL("image/jpeg")},rg:function(){ua.S();r||(r=document.createElement("canvas"),
m=r.getContext("2d"));r.width=e.width;r.height=e.height;for(var p=x.we(),g=m.createImageData(r.width,r.height),A=r.width,y=r.height,k=g.data,q=0;q<y;++q)for(var E=y-q-1,M=0;M<A;++M){var K=4*(q*A+M),O=4*(E*A+M);k[K]=p[O];k[K+1]=p[O+1];k[K+2]=p[O+2];k[K+3]=p[O+3]}m.putImageData(g,0,0);return r.toDataURL("image/png")},ve:function(p){!r&&p&&(r=document.createElement("canvas"),m=r.getContext("2d"));var g=p?r:document.createElement("canvas");g.width=e.width;g.height=e.height;(p?m:g.getContext("2d")).drawImage(e,
0,0);return g},v:function(p){p.he&&!p.Bb?e=document.getElementById(p.he):p.Bb&&(e=p.Bb);e||(e=document.createElement("canvas"));e.width=p&&void 0!==p.width?p.width:512;e.height=p&&void 0!==p.height?p.height:512;"undefined"===typeof p&&(p={});void 0===p.premultipliedAlpha&&(p.premultipliedAlpha=!1);void 0===p.Wb&&(p.Wb=!0);void 0===p.antialias&&(p.antialias=!1);if(b)n=b instanceof WebGL2RenderingContext;else{n=!0;var g={antialias:p.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:p.premultipliedAlpha,
stencil:!1,depth:p.Wb};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(g.antialias=!1);var A=c(g);!A&&g.antialias&&(g.antialias=!1,A=c(g));A&&(b=e.getContext("webgl2",g));b?n=!0:((b=e.getContext("webgl",g))||(b=e.getContext("experimental-webgl",g)),n=!1)}if(!b)return a("WebGL1 and 2 are not enabled");(l=b.getExtension("WEBGL_lose_context"))&&p.vd&&(v=p.vd,e.addEventListener("webglcontextlost",v,!1));if(!Z.v())return a("Not enough GL capabilities");d(b);z.v();U.v();
return Ha.Gc(b,Z.ue())?!0:a("Cannot filter float textures")},m:function(){b&&(Z.m(),Ha.m());l&&v&&(e.removeEventListener("webglcontextlost",v,!1),l=v=null);b=f=m=r=e=null}};return x}(),wa=function(){function a(){null===c&&("undefined"!==typeof z?c=z:"undefined"!==typeof JEShaders&&(c=JEShaders))}var c=null;a();return{lf:function(d){c!==d&&(c&&c.T(),c=d)},cb:function(){return c.cb()},xa:function(){return c.xa()},pb:function(d){return c.pb(d)},sc:function(){return c.sc()},T:function(){return c.T()},
set:function(d){return c.set(d)},Ja:function(d){a();return c.Ja(d)},qc:function(d){a();return c.qc(d)},m:function(){return c.m()}}}(),Da=function(){function a(h){b.bindTexture(b.TEXTURE_2D,h)}function c(h){t[0]=h;h=D[0];var H=h>>16&32768,F=h>>12&2047,T=h>>23&255;return 103>T?H:142<T?H|31744|((255==T?0:1)&&h&8388607):113>T?(F|=2048,H|(F>>114-T)+(F>>113-T&1)):H=(H|T-112<<10|F>>1)+(F&1)}function d(h){var H=new Uint16Array(h.length);h.forEach(function(F,T){H[T]=c(F)});return H}function e(){if(null!==
J.Tb)return J.Tb;var h=m(d([.5,.5,.5,.5]));return null===h?!0:J.Tb=h}function r(){if(null!==J.Ub)return J.Ub;var h=m(new Uint8Array([127,127,127,127]));return null===h?!0:J.Ub=h}function m(h){if(!wa.cb()||!k)return null;var H=null,F=Math.sqrt(h.length/4);try{var T=b.getError();if("FUCKING_BIG_ERROR"===T)return!1;H=N.instance({isFloat:!1,U:!0,array:h,width:F});T=b.getError();if(T!==b.NO_ERROR)return!1}catch(xa){return!1}ma.S();b.viewport(0,0,F,F);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);wa.set("s0");
H.Ec(0);na.l(!0,!0);h=4*F*F;T=new Uint8Array(h);b.readPixels(0,0,F,F,b.RGBA,b.UNSIGNED_BYTE,T);F=!0;for(var ea=0;ea<h;++ea)F=F&&3>Math.abs(T[ea]-127);H.remove();ma.ca();return F}var l=0,n=null,f=0,v=null,x=null,p=null,g=null,A=null,y=null,k=!1,q=[],E={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,N:null,Sb:null,Ne:!1,U:!1,la:null,hb:4,cc:0},M=!1,K=null,O=null,G=[[1,
0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],I=!1,u=!1,t=new Float32Array(1),D=new Int32Array(t.buffer),J={Tb:null,Ub:null},N={v:function(){k||(A=[b.RGBA,null,b.RGBA,b.RGBA],y=[b.RGBA,null,b.RGBA,b.RGBA],n=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7],I="undefined"!==typeof JEContext,u="undefined"!==typeof Z,I&&JEContext.Og()&&n.push(b.TEXTURE8,b.TEXTURE9),v=[-1,-1,-1,-1,-1,-1,-1,-1],g=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT],k=!0)},Ke:function(){if(!x){for(var h=new Float32Array(16384),
H=0;16384>H;++H)h[H]=2*Math.random()-1;x={random:N.instance({isFloat:!0,isPot:!0,array:h,width:64}),Nd:N.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}N.Af()},Fg:function(){return x.Nd},Af:function(){g[1]=Z.Ob(b)},jf:function(){y=A=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Bd:function(h){z.set("s1");ma.S();var H=h.D(),F=h.W();b.viewport(0,0,H,F);h.g(0);na.l(!1,!1)},Vg:function(h,H){N.Bd(h);b.readPixels(0,0,h.D(),h.W(),b.RGBA,b.UNSIGNED_BYTE,H)},Wg:function(h,H){N.Bd(h);return Z.nb(0,
0,h.D(),h.W(),H)},Yc:function(h,H,F,T,ea,xa,w){h.activeTexture(h.TEXTURE0);var sa=h.createTexture();h.bindTexture(h.TEXTURE_2D,sa);ea=ea instanceof Float32Array?ea:new Float32Array(ea);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,xa);h.texImage2D(h.TEXTURE_2D,0,
h.RGBA,F,T,0,h.RGBA,h.FLOAT,ea);h.bindTexture(h.TEXTURE_2D,null);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);w&&(ma.ca(),z.Ja(h));h.viewport(0,0,F,T);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,H,0);h.bindTexture(h.TEXTURE_2D,sa);w?na.l(!0,!0):U.Va(h);h.deleteTexture(sa);k&&(v[0]=-1,p=null,l=0)},vb:function(h){h!==l&&(b.activeTexture(n[h]),l=h)},instance:function(h){function H(C){var P=b.getError();if("FUCKING_BIG_ERROR"===P)return!1;b.texImage2D(b.TEXTURE_2D,0,fa,da,ha,C);P=
b.getError();P!==b.NO_ERROR&&da!==b.RGBA&&(da=b.RGBA,b.texImage2D(b.TEXTURE_2D,0,fa,da,ha,C));return!0}function F(){if(!Gb){a(ta);Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,Ba);w.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,w.isMirrorX?b.MIRRORED_REPEAT:b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,w.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));w.isAnisotropicFiltering&&
"undefined"!==typeof JESETTINGS&&b.texParameterf(b.TEXTURE_2D,JEContext.sg().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Df);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,w.isLinear?b.LINEAR:b.NEAREST);w.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,w.isMipmap&&!Oa?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,w.isMipmap&&!Oa?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);da=A[w.hb-1];fa=y[w.hb-1];ha=g[qb];if(Z.fa()){var C=Z.ye();da===b.RGBA&&ha===b.FLOAT?w.isMipmap||
w.isLinear?fa=Ha.Ae(b):Z.Hc()?C&&(fa=C):fa=b.RGBA16F||b.RGBA:da===b.RGB&&ha===b.FLOAT&&C&&(fa=C,da=b.RGBA)}if(w.U&&!w.isFloat||w.isFloat&&w.isMipmap&&Ha.Re())fa=Z.ze(),ha=Z.Ob(b);w.cc&&(bb=w.cc);w.isSrgb&&4===w.hb&&(da=JEContext.Dg());if(w.N)H(w.N);else if(w.url)H(Ka);else if(Ca){C=Ca;try{"FUCKING_BIG_ERROR"!==b.getError()&&(b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,C),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,
0,b.RGBA,Q,R,0,b.RGBA,b.UNSIGNED_BYTE,null)))}catch(gc){b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,null)}w.isKeepArray||(Ca=null)}else C=b.getError(),"FUCKING_BIG_ERROR"!==C&&(b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,null),C=b.getError(),C!==b.NO_ERROR&&(da=b.RGBA,w.U&&ha!==b.FLOAT&&(ha=b.FLOAT,b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,null))));if(w.isMipmap)if(!Oa&&ba)ba.Nb(),cb=!0;else if(Oa){C=Math.log2(Math.min(Q,R));Ta=Array(1+C);Ta[0]=ta;for(var P=1;P<=C;++P){var ja=Math.pow(2,P),V=Q/ja;
ja=R/ja;var Pa=b.createTexture();a(Pa);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,fa,V,ja,0,da,ha,null);a(null);Ta[P]=Pa}cb=!0}a(null);v[l]=-1;Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);Va=!0;w.la&&ba&&(w.la(ba),w.la=null)}}function T(){for(var C=Q*R,P=2*C,ja=3*C,V=0;V<C;++V)ya[0][V]=Wa[V],ya[1][V]=Wa[V+C],ya[2][V]=Wa[V+P],ya[3][V]=Wa[V+ja]}function ea(){var C=Q*R*4;Ia=[new Uint8Array(C),new Uint8Array(C),
new Uint8Array(C),new Uint8Array(C)];ya=[new Float32Array(Ia[0].buffer),new Float32Array(Ia[1].buffer),new Float32Array(Ia[2].buffer),new Float32Array(Ia[3].buffer)];db=new Uint8Array(4*C);Wa=new Float32Array(db.buffer);Xa=!0}function xa(){Ja.xb=new Uint8Array(Q*R*4);Ja.Zc=new Float32Array(Ja.buffer);Ja.Yb=!0}var w=Object.assign({},E,h),sa=f++;null===w.isFlipY&&(w.isFlipY=w.url||w.array?!0:!1);w.data&&(w.array="string"===typeof w.data?Mb(w.data):w.isFloat?new Float32Array(w.data):new Uint8Array(w.data),
w.isFlipY=!1);var qb=0,Ub=w.N?!0:!1,Ya=null,rb=null,Hb=!1,sb=null;w.U=w.U||w.isFloat;w.U&&(qb=1);!w.Ne&&w.isFloat&&u&&!Z.Hc()&&(w.isFloat=!1);w.isFloat&&(qb=2);w.isAnisotropicFiltering&&I&&!JEContext.Ig()&&(w.isAnisotropicFiltering=!1);var ta=w.Sb||b.createTexture(),Ka=null,Ca=!1,Q=0,R=0,Va=!1,Gb=!1,Xa=!1,ya=null,Ia=null,db=null,Wa=null,fa=null,da=null,ha=null,Ba=w.isFlipY,Vb=(h=w.U&&w.isMipmap)&&Ha.Zd(),Oa=h&&Vb?!0:!1,Ta=null,bb=-1,cb=!1,Ja={Yb:!1,xb:null,Zc:null};w.width&&(Q=w.width,R=w.height?
w.height:Q);var ba={get:function(){return ta},D:function(){return Q},W:function(){return R},Gg:function(){return w.url},Jg:function(){return w.isFloat},Lg:function(){return w.U},Mg:function(){return w.isLinear},Nb:function(){b.generateMipmap(b.TEXTURE_2D)},Wd:function(C,P){Oa?(C||(C=ba.bd()),N.vb(P),a(Ta[C]),v[P]=-1):ba.g(P)},bd:function(){-1===bb&&(bb=Math.log(Q)/Math.log(2));return bb},re:function(C){if(Oa){C||(C=ba.bd());z.set("s11");N.vb(0);for(var P=Q,ja=R,V=1;V<=C;++V)P/=2,ja/=2,z.sa("u7",.25/
P,.25/ja),b.viewport(0,0,P,ja),a(Ta[V-1]),b.framebufferTexture2D(ma.Ya(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Ta[V],0),na.l(!1,1===V);v[0]=-1}else ba.Nb()},g:function(C){if(!Va)return!1;N.vb(C);if(v[C]===sa)return!1;a(ta);v[C]=sa;return!0},Ec:function(C){b.activeTexture(n[C]);l=C;a(ta);v[C]=sa},u:function(){p=ba;b.framebufferTexture2D(ma.Ya(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ta,0)},aa:function(){p=ba;b.viewport(0,0,Q,R);b.framebufferTexture2D(ma.Ya(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,ta,0)},yc:N.yc,resize:function(C,
P){Q=C;R=P;F()},clone:function(C){C=N.instance({width:Q,height:R,U:w.U,isFloat:w.isFloat,isLinear:w.isLinear,isMirrorY:w.isMirrorY,isFlipY:C?!Ba:Ba,isPot:w.isPot});wa.set("s0");ma.ca();C.u();b.viewport(0,0,Q,R);ba.g(0);na.l(!0,!0);return C},pf:function(){b.viewport(0,0,Q,R)},remove:function(){b.deleteTexture(ta);Gb=!0;q.splice(q.indexOf(ba),1);ba=null},refresh:function(){ba.Ec(0);Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);Ub?b.texImage2D(b.TEXTURE_2D,0,fa,da,b.UNSIGNED_BYTE,w.N):b.texImage2D(b.TEXTURE_2D,
0,fa,Q,R,0,da,ha,Ca);Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Ad:function(){Xa||ea();b.readPixels(0,0,Q,4*R,b.RGBA,b.UNSIGNED_BYTE,db);T();return ya},bf:function(){Xa||ea();return Z.nb(0,0,Q,4*R,db).then(function(){T();return ya})},df:function(){Ja.Yb||xa();b.readPixels(0,0,Q,R,b.RGBA,b.UNSIGNED_BYTE,Ja.xb);return Ja.Zc},cf:function(){Ja.Yb||xa();return Z.nb(0,0,Q,R,Ja.xb)},Oc:function(C){ma.S();z.set("s12");ba.g(0);if(C)b.viewport(0,0,Q,R),z.rc("u8",.25,.25,.25,.25),na.l(!1,!0);else for(C=0;4>
C;++C)b.viewport(0,R*C,Q,R),z.rc("u8",G[C]),na.l(!1,0===C)},zf:function(C){var P=ha===g[0]&&!r();a(ta);Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);P?(Hb||(Ya=document.createElement("canvas"),Ya.width=Q,Ya.height=R,rb=Ya.getContext("2d"),sb=rb.createImageData(Q,R),Hb=!0),sb.data.set(C),rb.putImageData(sb,0,0),b.texImage2D(b.TEXTURE_2D,0,fa,da,ha,Ya)):b.texImage2D(b.TEXTURE_2D,0,fa,Q,R,0,da,ha,C);v[l]=sa;Ba&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},mh:function(C,P){a(ta);P&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,
!0);b.texImage2D(b.TEXTURE_2D,0,fa,da,ha,C);v[l]=sa;P&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},ah:function(C,P){var ja=Q*R,V=4*ja;C=w.U?C?"RGBE":"JSON":"RGBA";P&&(C=P);P=Z.fa()&&!1;var Pa=null;switch(C){case "RGBE":Pa="s42";break;case "JSON":Pa=P?"s0":"s12";break;case "RGBA":case "RGBAARRAY":Pa="s6"}Xa||("RGBA"===C||"RGBE"===C||"RGBAARRAY"===C?(Ia=new Uint8Array(V),Xa=!0):"JSON"!==C||P||ea());ma.S();z.set(Pa);ba.g(0);V=null;if("RGBA"===C||"RGBE"===C||"RGBAARRAY"===C){b.viewport(0,0,Q,R);na.l(!0,
!0);b.readPixels(0,0,Q,R,b.RGBA,b.UNSIGNED_BYTE,Ia);if("RGBAARRAY"===C)return{data:Ia};M||(K=document.createElement("canvas"),O=K.getContext("2d"),M=!0);K.width=Q;K.height=R;ja=O.createImageData(Q,R);ja.data.set(Ia);O.putImageData(ja,0,0);V=K.toDataURL("image/png")}else if("JSON"===C)if(P)V=new Float32Array(ja),b.viewport(0,0,Q,R),na.l(!0,!0),b.readPixels(0,0,Q,R,b.RGBA,b.FLOAT,V);else{for(V=0;4>V;++V)b.viewport(0,R*V,Q,R),z.rc("u8",G[V]),na.l(!V,!V);ba.Ad();V=Array(ja);for(P=0;P<ja;++P)V[4*P]=ya[0][P],
V[4*P+1]=ya[1][P],V[4*P+2]=ya[2][P],V[4*P+3]=ya[3][P]}return{format:C,data:V,width:Q,height:R,isMirrorY:w.isMirrorY,isFlipY:"RGBA"===C?w.isFlipY:!w.isFlipY}}};w.isMipmap&&!Oa&&Va&&!cb&&(ba.Nb(),cb=!0);if(w.url)a(ta),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Ka=new Image,Ka.Of="Anonymous",Ka.crossOrigin="Anonymous",Ka.src=w.url,Ka.onload=function(){Q=Ka.width;R=Ka.height;F()};else if(w.N){var Ib=function(){Q=void 0!==w.N.videoWidth?w.N.videoWidth:w.N.width;R=void 0!==w.N.videoHeight?
w.N.videoHeight:w.N.height;Q?F():setTimeout(Ib,1)};Ib()}else w.array?(w.U&&!w.isFloat?w.array instanceof Uint16Array?(Ca=w.array,F()):e()?(Ca=d(w.array),F()):(F(),N.Yc(b,ta,ba.D(),ba.W(),w.array,Ba,!0)):(Ca=w.isFloat?w.array instanceof Float32Array?w.array:new Float32Array(w.array):w.array instanceof Uint8Array?w.array:new Uint8Array(w.array),F()),w.isKeepArray||(Ca&&Ca!==w.array&&(Ca=null),delete w.array)):w.Sb?Va=!0:F();ba.Cg=ba.D;w.la&&Va&&(w.la(ba),w.la=null);q.push(ba);return ba},S:function(h){h!==
l&&(b.activeTexture(n[h]),l=h);v[h]=-1;a(null)},Ff:function(h){x.random.g(h)},yc:function(){p=null;b.framebufferTexture2D(ma.Ya(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){0!==l&&b.activeTexture(n[0]);for(var h=0;h<n.length;++h)v[h]=-1;l=-1},Zg:function(){l=-1},wf:function(){for(var h=0;h<n.length;++h)N.S(h)},$c:function(){x&&(x.random.remove(),x.Nd.remove())},lh:function(h,H){if("RGBA"===h.format||"RGBE"===h.format){var F=new Image;F.src=h.data;F.onload=function(){N.instance({isMirrorY:h.isMirrorY,
isFlipY:h.isFlipY,isFloat:!1,N:F,la:function(T){if("RGBA"===h.format)H(T);else{var ea=h.width,xa=h.height,w=N.instance({isMirrorY:h.isMirrorY,isFloat:!0,width:ea,height:xa,isFlipY:h.isFlipY});ma.ca();b.viewport(0,0,ea,xa);z.set("s43");w.u();T.g(0);na.l(!0,!0);N.S(0);H(w);b.flush();setTimeout(T.remove,50)}}})}}else"JSON"===h.format?H(N.instance({isFloat:!0,isFlipY:h.isFlipY,width:h.width,height:h.height,array:new Float32Array(h.data)})):H(!1)},ee:d,m:function(){p&&(ua.ca(),N.yc(),ua.S());N.wf();q.slice(0).forEach(function(h){h.remove()});
q.splice(0);k=!1;f=0;"undefined"!==typeof Ha&&Ha.m();x=null}};return N}(),Pb=function(){return{instance:function(a){var c=[Da.instance(a),Da.instance(a)],d=[c[1],c[0]],e=d,r={gf:function(m){e[1].u();e[0].g(m);r.Id()},bh:function(m){e[1].aa();e[0].g(m);r.Id()},Id:function(){e=e===c?d:c},refresh:function(){e[0].refresh();e[1].refresh()},g:function(m){e[0].g(m)},Xd:function(m){e[1].g(m)},wg:function(){return e[0]},Ag:function(){return e[1]},remove:function(){e[0].remove();e[1].remove();e=null}};return r}}}(),
na=function(){function a(f){var v={ba:null,K:null};v.ba=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,v.ba);f.bufferData(f.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),f.STATIC_DRAW);v.K=f.createBuffer();f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,v.K);f.bufferData(f.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),f.STATIC_DRAW);return v}var c=null,d=0,e=!1,r=[],m=-2,l=-2,n={reset:function(){l=m=-2},v:function(){e||(c=a(b),n.Ca(),e=!0)},instance:function(f){var v=d++,x=f.K?f.K.length:0,p="undefined"===typeof f.mode?
b.STATIC_DRAW:f.mode,g=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,g);b.bufferData(b.ARRAY_BUFFER,f.ba instanceof Float32Array?f.ba:new Float32Array(f.ba),p);m=v;var A=null,y=null,k=null;if(f.K){A=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,A);var q=null;65536>f.K.length?(q=Uint16Array,y=b.UNSIGNED_SHORT,k=2):(q=Uint32Array,y=b.UNSIGNED_INT,k=4);q=f.K instanceof q?f.K:new q(f.K);b.bufferData(b.ELEMENT_ARRAY_BUFFER,q,p);l=v}var E={Yd:function(M){m!==v&&(b.bindBuffer(b.ARRAY_BUFFER,g),m=v);
M&&wa.sc()},Ud:function(){l!==v&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,A),l=v)},bind:function(M){E.Yd(M);E.Ud()},Wf:function(){b.drawElements(b.TRIANGLES,x,y,0)},Xf:function(M,K){b.drawElements(b.TRIANGLES,M,y,K*k)},remove:function(){b.deleteBuffer(g);f.K&&b.deleteBuffer(A);E=null}};r.push(E);return E},Ca:function(){-1!==m&&(b.bindBuffer(b.ARRAY_BUFFER,c.ba),m=-1);-1!==l&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c.K),l=-1)},l:function(f,v){f&&na.Ca();v&&wa.xa();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,
0)},Va:function(f){f=f||b;var v=a(f);f.bindBuffer(f.ARRAY_BUFFER,v.ba);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,v.K);wa.pb(f);f.clear(f.COLOR_BUFFER_BIT);f.drawElements(f.TRIANGLES,3,f.UNSIGNED_SHORT,0);f.flush();f.bindBuffer(f.ARRAY_BUFFER,null);f.bindBuffer(f.ELEMENT_ARRAY_BUFFER,null);f.deleteBuffer(v.ba);f.deleteBuffer(v.K);n.reset();e&&(n.Ca(),wa.xa())},$c:function(){var f=b,v=c;f.deleteBuffer(v.ba);f.deleteBuffer(v.K)},m:function(){n.$c();r.forEach(function(f){f.remove()});b.bindBuffer(b.ARRAY_BUFFER,
null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);n.reset();e=!1;r.splice(0);d=0}};return n}(),ma=function(){var a=null,c=null,d=null,e=!1,r=[],m={J:-2,Xc:1},l={cb:function(){return e},v:function(){if(!e){a=b.createFramebuffer();var n=Z.fa();c=n&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;d=n&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},tg:function(){return c},Be:function(){return d},Ya:function(){return b.FRAMEBUFFER},Bg:function(){return m},mg:function(){return a},instance:function(n){void 0===
n.gd&&(n.gd=!1);var f=n.L?n.L:null,v=n.width,x=void 0!==n.height?n.height:n.width,p=a,g=null,A=!1,y=!1,k=0;f&&(v=v?v:f.D(),x=x?x:f.W());var q={Fd:function(){A||(p=b.createFramebuffer(),A=!0,k=m.Xc++)},Qd:function(){q.Fd();q.u();g=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,g);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,x);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,g);b.clearDepth(1)},bind:function(E,M){k!==m.J&&(b.bindFramebuffer(c,p),m.J=k);f&&f.u();
M&&b.viewport(0,0,v,x);E&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Ef:function(){k!==m.J&&(b.bindFramebuffer(c,p),m.J=k)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Lf:function(){b.clear(b.COLOR_BUFFER_BIT)},Mf:function(){b.clear(b.DEPTH_BUFFER_BIT)},pf:function(){b.viewport(0,0,v,x)},u:function(){k!==m.J&&(b.bindFramebuffer(c,p),m.J=k)},rtt:function(E){f=E;m.J!==k&&(b.bindFramebuffer(b.FRAMEBUFFER,p),m.J=k);E.u()},S:function(){b.bindFramebuffer(c,null);m.J=-1},resize:function(E,
M){v=E;x=M;g&&(b.bindRenderbuffer(b.RENDERBUFFER,g),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,v,x))},remove:function(){p===a||y||(b.bindFramebuffer(c,p),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),g&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(p),g&&b.deleteRenderbuffer(g));y=!0}};n.gd&&q.Qd();r.push(q);return q},S:function(){b.bindFramebuffer(c,null);m.J=-1},xf:function(){b.bindFramebuffer(c,
null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);b.viewport(0,0,Z.D(),Z.W());m.J=-1},reset:function(){m.J=-2},ca:function(){0!==m.J&&(b.bindFramebuffer(c,a),m.J=0)},clear:function(){b.viewport(0,0,Z.D(),Z.W());b.clear(b.COLOR_BUFFER_BIT)},m:function(){l.S();r.forEach(function(n){n.remove()});null!==a&&(b.deleteFramebuffer(a),a=null);l.reset();e=!1;r.splice(0);m.Xc=1}};return l}(),Z=function(){function a(){e="undefined"===typeof Ma?JEContext:Ma;r=!0}function c(k,q){for(var E=0;E<k.length;++E){var M=
q.getExtension(k[E]);if(M)return M}return null}function d(){null!==g.sb&&(clearInterval(g.sb),g.sb=null);g.Ga=!1}var e=null,r=!1,m={hd:!1,uc:null,vc:null,md:!1,Qe:!1,wc:null,nd:!1,xc:null,jd:!1,zb:null,Le:!1,Ab:null,Me:!1},l=null,n={da:!0,ea:!0,Lb:!0,zd:!1},f=null,v=!0,x=null,p=null,g={Ga:!1,ua:null,Za:null,Rb:-1,va:null,sb:null},A="undefined"===typeof window?{}:window,y={v:function(){if(r)return!0;y.reset();r||a();var k=b;if(!l.hd){l.uc=y.Uc(k);A.GL_EXT_FLOAT=l.uc;l.md=l.uc?!0:!1;if(l.md||y.fa())l.vc=
y.Vc(k),l.Qe=l.vc?!0:!1,A.GL_EXT_FLOATLINEAR=l.vc;l.hd=!0}if(!l.jd){l.wc=y.Ua(k);l.wc&&(l.nd=!0,A.GL_EXT_HALFFLOAT=l.wc);if(l.nd||y.fa())l.xc=y.Wc(k),A.GL_EXT_HALFFLOATLINEAR=l.xc;l.Hg=l.xc?!0:!1;l.jd=!0}l.zb=y.Sc(k);l.Le=l.zb?!0:!1;A.GL_EXT_COLORBUFFERFLOAT=l.zb;l.Ab=y.Tc(k);l.Me=l.Ab?!0:!1;A.GL_EXT_COLORBUFFERHALFFLOAT=l.Ab;ma.v();Da.v();if(!y.je())return!1;na.v();Da.Ke();return!0},reset:function(){l=Object.assign({},m);f=Object.assign({},n)},D:function(){r||a();return e.D()},W:function(){r||a();
return e.W()},fa:function(){r||a();return e.fa()},Rc:function(k){y.Sc(k);y.Tc(k);y.Uc(k);y.Vc(k);y.Ua(k);y.Wc(k)},Sc:c.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),Tc:c.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),Uc:c.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),Vc:c.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),
Ua:c.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),Wc:c.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),Ob:function(k){var q=y.Ua(k);return q&&q.HALF_FLOAT_OES?q.HALF_FLOAT_OES:k.HALF_FLOAT||k.FLOAT},ye:function(){return p||b.RGBA32F||b.RGBA},ze:function(){return x||b.RGBA16F||b.RGBA},ue:function(){return f},Hc:function(){return f.da},Hf:function(){return f.ea},Gf:function(){return f.Lb},
$d:function(){return f.zd&&v},Ld:function(k){v=k;!k&&g.Ga&&(b.deleteSync(g.Za),b.bindBuffer(g.va,null),g.Ga=!1)},rb:function(k,q,E){function M(){k.bindTexture(k.TEXTURE_2D,null);k.bindFramebuffer(K,null);k.deleteTexture(I);k.deleteFramebuffer(G)}var K=k.FRAMEBUFFER,O=k.NEAREST,G=k.createFramebuffer();k.bindFramebuffer(K,G);var I=k.createTexture();k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,I);k.pixelStorei(k.UNPACK_FLIP_Y_WEBGL,!1);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.CLAMP_TO_EDGE);
k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.CLAMP_TO_EDGE);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,O);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,O);k.texImage2D(k.TEXTURE_2D,0,q,3,3,0,k.RGBA,E,null);k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,I,0);if(k.checkFramebufferStatus(k.READ_FRAMEBUFFER||k.FRAMEBUFFER)!==k.FRAMEBUFFER_COMPLETE)return M(),!1;wa.qc(k);k.clearColor(0,0,0,0);k.viewport(0,0,3,3);k.disable(k.DEPTH_TEST);k.clear(k.COLOR_BUFFER_BIT);na.Va(k);
k.bindFramebuffer(K,null);wa.Ja(k);k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,I);na.Va(k);q=new Uint8Array(36);k.readPixels(0,0,3,3,k.RGBA,k.UNSIGNED_BYTE,q);M();for(E=0;36>E;++E)if(3!==E%4&&3<Math.abs(q[E]-127))return!1;return!0},Db:function(k){var q={da:!1,ea:!1};k.disable(k.BLEND);k.clearColor(0,0,0,0);k.clear(k.COLOR_BUFFER_BIT);k.RGBA32F&&y.rb(k,k.RGBA32F,k.FLOAT)&&(q.da=!0,p=k.RGBA32F);!q.da&&y.rb(k,k.RGBA,k.FLOAT)&&(q.da=!0,p=k.RGBA);var E=y.Ob(k);x=null;k.RGBA16F&&y.rb(k,k.RGBA16F,
E)&&(q.ea=!0,x=k.RGBA16F);!q.ea&&y.rb(k,k.RGBA,E)&&(q.ea=!0,x=k.RGBA);return q},ke:function(){var k=ma.instance({width:2});k.Fd();var q=Da.instance({width:2,isFloat:!0,hb:3});k.u();q.u();b.flush();b.checkFramebufferStatus(ma.Be())!==b.FRAMEBUFFER_COMPLETE?(Da.jf(),f.Lb=!1):f.Lb=!0;k.remove();q.remove()},le:function(){var k=!1;y.fa()&&(k="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(q){return"undefined"!==typeof b[q]}));
f.zd=k},je:function(){var k=y.Db(b);Object.assign(f,k);if(!f.da&&!f.ea)return!1;y.ke();y.le();return!0},nb:function(k,q,E,M,K){if(!y.$d())return b.readPixels(k,q,E,M,b.RGBA,b.UNSIGNED_BYTE,K),Promise.resolve(K);null===g.ua&&(g.va=b.PIXEL_PACK_BUFFER,g.ua=b.createBuffer(),g.Rb=-1);b.bindBuffer(g.va,g.ua);K.byteLength!==g.Rb&&(b.bufferData(g.va,K.byteLength,b.STREAM_READ),g.Rb=K.byteLength);b.readPixels(k,q,E,M,b.RGBA,b.UNSIGNED_BYTE,0);g.Za=b.fenceSync(b.SYNC_GPU_COMMANDS_COMPLETE,0);b.flush();return new Promise(function(O,
G){function I(){if(!g.Ga)return d(),G(),!1;switch(b.clientWaitSync(g.Za,0,0)){case b.TIMEOUT_EXPIRED:return!1;case b.WAIT_FAILED:return d(),G(),!1;default:return d(),b.deleteSync(g.Za),b.getBufferSubData(g.va,0,K),b.bindBuffer(g.va,null),O(K),!0}}d();g.Ga=!0;I()||(g.sb=setInterval(I,0))})},m:function(){d();Da.m();wa.m();ma.m();na.m();null!==g.ua&&(b.deleteBuffer(g.ua),g.ua=null);r=!1}};return y}(),U=na,ua=ma,Y=Da,Ha=function(){function a(G,I,u,t){q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,
t?q.NEAREST_MIPMAP_NEAREST:q.LINEAR);var D=null;if(null!==u)try{D=q.getError();if("FUCKING_BIG_ERROR"===D)return!1;q.texImage2D(q.TEXTURE_2D,0,G,4,4,0,q.RGBA,I,u);D=q.getError();if(D!==q.NO_ERROR)return!1}catch(J){return!1}t&&q.generateMipmap(q.TEXTURE_2D);q.clear(q.COLOR_BUFFER_BIT);U.Va(q);D=q.getError();if("FUCKING_BIG_ERROR"===D)return!1;q.readPixels(0,0,2,2,q.RGBA,q.UNSIGNED_BYTE,x);D=q.getError();D===q.INVALID_OPERATION&&"undefined"!==typeof q.PIXEL_PACK_BUFFER&&(q.bindBuffer(q.PIXEL_PACK_BUFFER,
null),q.readPixels(0,0,2,2,q.RGBA,q.UNSIGNED_BYTE,x),D=q.getError());if(D!==q.NO_ERROR)return!1;u=!0;for(t=0;16>t;++t)u=u&&4>Math.abs(x[t]-127);u&&(f.xd=I,f.fd=G);return u}function c(G,I){return E.da&&a(G,q.FLOAT,new Float32Array(p),I)?(n=l.Ac,!0):!1}function d(G,I,u){if(!E.ea)return!1;var t=Da.ee(p),D=Z.Ua(q);if(D&&D.HALF_FLOAT_OES&&a(G,D.HALF_FLOAT_OES,t,I)||q.HALF_FLOAT&&a(G,q.HALF_FLOAT,t,I))return n=l.za,!0;t=new Float32Array(p);if(a(G,q.FLOAT,t,I))return n=l.za,!0;q.bindTexture(q.TEXTURE_2D,
u);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,2,2,0,q.RGBA,q.UNSIGNED_BYTE,null);q.bindFramebuffer(f.Ra,O);Da.Yc(q,u,2,2,t,!1,!1);q.bindFramebuffer(f.Ra,null);q.bindTexture(q.TEXTURE_2D,u);return a(G,null,null,I)?(n=l.za,!0):!1}function e(G,I,u){v=!0;if(d(G,!0,u)||c(I,!0))return!0;v=!1;return d(G,!1,u)||c(I,!1)?!0:!1}function r(G){if(n===l.T){q=G||b;n=l.RGBA8;v=!0;Z.Rc(q);E||(E=Z.Db(q));ua.reset();O=q.createFramebuffer();f.Ra=q.DRAW_FRAMEBUFFER||q.FRAMEBUFFER;q.bindFramebuffer(f.Ra,null);q.clearColor(0,0,
0,0);q.viewport(0,0,2,2);z.T();M=z.Ja(q);G=q.createTexture();q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,G);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.REPEAT);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.REPEAT);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);K=G;var I=G=q.RGBA,u=q.RGBA16F,t=q.RGBA32F;t&&(G=t);u&&(I=u);if((u||t)&&e(I,G,K))return m(),!0;G=I=q.RGBA;if(e(I,G,K))return m(),!0;n=l.RGBA8;m();return!1}}function m(){q.deleteProgram(M.ra);q.deleteTexture(K);
K=M=null}for(var l={T:-1,Ac:3,za:2,RGBA8:0},n=l.T,f={xd:null,fd:null,Ra:null},v=!0,x=new Uint8Array(16),p=Array(64),g=0;4>g;++g)for(var A=0;4>A;++A){var y=0===(A+g)%2?1:0,k=4*g+A;p[4*k]=y;p[4*k+1]=y;p[4*k+2]=y;p[4*k+3]=y}var q=null,E=null,M=null,K=null,O=null;return{Zd:function(G){r(G);return v},Gc:function(G,I){n===l.T&&(typeof("undefined"!==I)&&(E=I),r(G));return n!==l.RGBA8},Kg:function(G){r(G);return n===l.Ac},Re:function(G){r(G);return n===l.za},ug:function(G){r(G);return f.xd},Ae:function(G){r(G);
return f.fd},m:function(){q=null;v=!0;n=l.T;E=null}}}(),Wb=function(){return{instance:function(a){var c=Y.instance(a.alpha),d=Y.instance(a.beta);return{oe:function(){c.g(1);d.g(2)}}}}}(),Kb=function(){return{instance:function(a){var c=null,d=!1,e=!1,r=null,m=!1,l=!1,n=null,f="undefined"===typeof a.preprocessing?!1:a.preprocessing,v="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,ca&&void 0!==ca.Td&&(a.mask=ca.Td+a.mask),c=Y.instance({isFloat:!1,url:a.mask}));var x=
!1;a.customInputShader&&(x="s44",z.Bc({name:"_",id:x,h:a.customInputShader,kh:["uSource"],precision:"lowp"}),z.O(x,[{type:"1i",name:"_",value:0}]));switch(f){case "sobel":n="s31";m=!0;break;case "meanNormalization":n="s32";m=!0;break;case "grayScale":n="s28";m=!1;break;case "grayScaleTilt":n="s29";l=!0;m=!1;break;case "rgbGrayTilt":n="s30";l=!0;m=!1;break;case "copy":n=x?x:"s0";break;case "inputLightRegulation":n=x?x:"s28";r=Xb.instance({ed:v,wd:a.size,td:a.nBlurPass,bb:!1});e=!0;break;case "inputMix0":n=
"none";r=Yb.instance({B:v,Pd:a.varianceMin,Fc:a.blurKernelSizePx,bb:!1});e=!0;break;case "direct":case "none":n="abort";break;default:n="s3"}l&&z.O(n,[{name:"u26",type:"1f",value:a.tilt}]);d&&(n+="Mask");var p=Y.instance({isFloat:!1,isPot:!1,width:a.size}),g={D:function(){return v},Pb:function(){return g.D()},Fe:function(){return e?r.Qb():p},X:function(A){ua.ca();"abort"!==n&&("none"!==n&&(z.set(n),m&&z.I("u27",1/a.size),p.aa(),d&&c.g(1),U.l(!1,!1),p.g(0),A=p),e&&r.process(A))},m:function(){p.remove();
d&&c.remove()}};return g}}}(),Lb=function(){return{instance:function(a){function c(h){r.forEach(function(H,F){m[F][0]=h[0][H];m[F][1]=h[1][H];m[F][2]=h[2][H];m[F][3]=h[3][H]});return m}"undefined"===typeof a.normalize&&(a.normalize=!1);var d={input:null,Pa:null,Vb:null,$:null,jb:null,lc:null,mc:null},e=null,r=[],m=[],l=!1,n=null,f=!0,v=-1,x=a.isReorganize?a.isReorganize:!1,p=a.kernelsCount?!0:!1,g=a.dynPelu?Wb.instance(a.dynPelu):!1,A=g?!0:!1,y={isEnabled:!1};a.Pe?(a.sparsity="undefined"!==typeof a.sparsity?
a.sparsity:a.lb.Pb(),f=!1):"full"===a.connectivityUp&&(a.sparsity=a.lb.Pb());var k={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[a.activation],q=a.sparsity*a.sparsity,E=!1,M=a.size,K="";if(a.maxPooling){switch(a.maxPooling.size){case 2:K="s33";break;case 4:K="s34"}E=!0;M/=a.maxPooling.size;d.lc=Y.instance({isFloat:!0,isPot:!1,width:M})}var O=void 0!==a.We&&a.We?!0:!1,G=null,I=null,u=null;if(O){G="s45"+a.index.toString();z.dd("s45",G,[((a.normalization.n-
1)/2).toFixed(1)]);z.O(G,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/a.size,1/a.size]},{type:"1f",name:"u6",value:a.normalization.alpha},{type:"1f",name:"u9",value:a.normalization.beta},{type:"1f",name:"u30",value:a.normalization.k}]);var t={isFloat:!0,isPot:!0,width:a.size};I=Y.instance(t);u=Y.instance(t)}var D=-1,J=null;f&&(d.$=Y.instance({isFloat:!0,isPot:!1,width:a.size}));d.Pa=Y.instance(a.bias);var N={D:function(){return a.size},Pb:function(){return M},ad:function(){return a.classesCount},
Vd:function(h){e.g(h)},Ze:function(){a.remap&&a.remap.isEnabled&&(y={isEnabled:!0,Te:Y.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),eb:a.remap.layers.map(function(h){return a.parent.De(h)}),depth:a.remap.depth})},kf:function(){switch(a.connectivityUp){case "direct":J=Zb.instance(a.connectivity);break;case "square":J=$b.instance(a.connectivity);break;case "squareFast":J=ac.instance(a.connectivity,a.activation);break;case "full":J=
bc.instance(a.connectivity);break;case "conv":v=a.kernelsCount,J=cc.instance(a.connectivity),x&&(d.jb=Y.instance({width:M,isFloat:!0,isFlipY:!1,isPot:!1}))}if(J.ya){var h=a.size*a.sparsity;D=Math.log(h/a.size)/Math.log(2);d.input=Y.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:h,cc:D});d.Vb=Y.instance({isFloat:!0,isPot:!0,width:a.size})}},X:function(h,H){e=h;J.ya?(d.input.aa(),p&&d.Pa.g(2),J.X(y),d.input.g(0),d.input.re(D),d.Vb.aa(),p?z.set("s0"):(z.set("s27"),z.I("u25",q),d.Pa.g(1)),d.input.Wd(D,
0),U.l(!1,!1),z.set(k),O?I.u():d.$.u(),d.Vb.g(0),A&&g.oe(),U.l(!1,!1)):(d.$.aa(),d.Pa.g(1),J.X());O&&(z.set(G),u.u(),I.g(0),U.l(!1,!1),z.set("s46"),z.I("u6",1),d.$.u(),u.g(1),U.l(!1,!1));if(f)return E?(d.lc.aa(),d.$.g(0),z.set(K),z.sa("u7",1/a.size,1/a.size),U.l(!1,!1),H=d.lc):H=d.$,H.g(0),x&&(d.jb.u(),z.set("s21"),z.sa("u12",v,M/v),U.l(!1,!1),H=d.jb,d.jb.g(0)),H;var F=d.$;a.normalize&&(z.set("gpuRawAvg"===l?"s8":"s7"),z.I("u4",1/a.size),d.mc.aa(),d.$.g(0),U.l(!1,!1),F=d.mc);h=null;switch(l){case "cpuRGBA2Float":F.Oc(!1);
H?h=N.$e(F).then(n):(F=N.af(F),n(F));break;case "cpuMeanFloat":F.Oc(!0);H?h=F.cf().then(n):(F=F.df(),n(F));break;case "gpuRawAvg":case "gpuRaw":F.g(0);case "none":null!==n&&n(F)}H&&null===h&&(h=Promise.resolve());return h},ge:function(h){h&&(l=h.nc||"none",n=h.kc||null);d.$=Y.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});h="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var H=0,F=0,T=0;H<h;++H)r.push(F+(a.size-1-T)*a.size),m.push([-1,-1,-1,-1]),++F,
F===a.size&&(F=0,++T);a.normalize&&(d.mc=Y.instance({isFloat:!0,isPot:!0,width:a.size}))},$e:function(h){return h.bf().then(c)},af:function(h){h=h.Ad();c(h);return m},m:function(){for(var h in d){var H=d[h];H&&H.remove()}J&&(J.m(),J=null)}};a.lb&&N.kf(a.lb);return N}}}(),Zb=function(){return{instance:function(a){var c=Y.instance(a.weights);return{ya:!0,Xa:function(){return 1},m:function(){c.remove()},Je:function(){return c},X:function(){z.set("s26");c.g(1);U.l(!1,!1)}}}}}(),bc=function(){return{instance:function(a){var c=
a.fromLayerSize,d=Y.instance(a.weights);return{ya:!0,Xa:function(){return c},m:function(){d.remove()},X:function(e){if(e.isEnabled){z.set("s24");e.Te.g(3);var r,m=Math.min(e.eb.length,e.depth);for(r=0;r<m;++r)e.eb[r].Vd(4+r)}else z.set("s23");z.I("u16",a.toLayerSize);d.g(1);U.l(!1,!1)}}}}}(),$b=function(){return{instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,r=e*d,m=r/c,l=c/d,n=0,f=0,v=0,x=Array(e*d*e*d*4),p=Array(e*d*e*d*4),g=Array(c*c),A=0;A<g.length;++A)g[A]=0;A=
Math.floor(e/2);for(var y=.5/d,k=.5/c,q=.5/r,E=0;E<d;++E)for(var M=Math.round(E*l),K=0;K<d;++K){var O=Math.round(K*l),G=E/d,I=K/d;G+=y;I+=y;for(var u=0;u<e;++u){var t=M+u-A;0>t&&(t+=c);t>=c&&(t-=c);for(var D=0;D<e;++D){var J=n/r,N=f/r,h=O+D-A;0>h&&(h+=c);h>=c&&(h-=c);var H=t/c,F=h/c;N=1-N-1/r;H+=k;F+=k;J+=q;N+=q;var T=E*e+u,ea=K*e+D;ea=d*e-ea-1;T=ea*d*e+T;x[4*T]=J;x[4*T+1]=N;x[4*T+2]=H;x[4*T+3]=F;F=g[h*c+t]++;T=F%m;H=t*m+T;h=h*m+(F-T)/m;h=c*m-1-h;h=h*c*m+H;p[4*h]=J;p[4*h+1]=N;p[4*h+2]=G;p[4*h+3]=
I;++n>=r&&(n=0,++f);++v}}}g=null;var xa=Y.instance(a.weights);delete a.weights.data;var w=Y.instance({width:r,isFloat:!0,array:new Float32Array(p),isPot:!0});p=null;var sa=Y.instance({width:r,isFloat:!0,array:new Float32Array(x),isPot:!0});x=null;return{ya:!0,Xa:function(){return m},m:function(){w.remove();sa.remove();xa.remove()},X:function(){z.set("s22");xa.g(1);sa.g(2);U.l(!1,!1)}}}}}(),cc=function(){return{instance:function(a){var c=a.kernelsCount,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,
r=Y.instance(a.weights);return{ya:!0,Xa:function(){return e},Eg:function(){return d},Je:function(){return r},m:function(){r.remove()},X:function(){z.set("s25");z.I("u22",c);z.I("u23",d);z.I("u16",a.toLayerSize);z.I("u24",a.fromLayerSize);r.g(1);U.l(!1,!1)}}}}}(),ac=function(){return{instance:function(a,c){var d=a.fromLayerSize,e=a.toLayerSize,r=a.toSparsity,m=a.stride?a.stride:1,l=r*e/d,n=e<d,f=d/e,v=Y.instance(a.weights),x="s47"+[d.toString(),e.toString(),r.toString(),m.toString(),c].join("_");z.qe(x)||
(a=Tb.se(c,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u16",value:e},{type:"1f",name:"u29",value:m}],n&&e.push({type:"1f",name:"u24",value:d}),d=[(n?l:r).toFixed(1),a],n&&d.push(f.toFixed(1)),z.dd(n?"s39":"s38",x,d),z.O(x,e.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",name:"u13",value:3}])));return{ya:!1,Xa:function(){return l},m:function(){v.remove()},X:function(){z.set(x);v.g(3);U.l(!1,!1)}}}}}(),Xb=function(){return{instance:function(a){var c=a.td?a.td:
3,d=a.ed?a.ed:64,e=a.wd?a.wd:64,r=a.bb?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var m=Y.instance(a),l=Y.instance(a),n=Y.instance(a),f=Y.instance(a),v=Y.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),x=1/d;return{process:function(p){z.set("s35");f.u();U.l(r,!1);z.set("s36");for(var g=0;g<c;++g)m.u(),z.sa("u7",x,0),U.l(r,!1),n.u(),f.g(0),U.l(r,!1),l.u(),m.g(0),z.sa("u7",0,x),U.l(r,!1),f.u(),n.g(0),U.l(r,!1),g!==c-1&&l.g(0);z.set("s37");v.u();p.g(0);l.g(1);f.g(2);U.l(r,!1);v.g(0)},Qb:function(){return v}}}}}(),
Yb=function(){return{instance:function(a){function c(v){return Y.instance({isFloat:v,width:d.B,isPot:!1,isFlipY:!1})}var d=Object.assign({Pd:.1,Fc:9,B:128,bb:!1},a),e=c(!1),r=[c(!1),c(!1),c(!1)],m=[c(!1),c(!1),c(!1)],l=c(!0),n=[e,m[0],m[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u31;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u31*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.Fc-1)/2).toFixed(2)).replace("2.2222",(1/d.B).toFixed(6));var f={u1:0};z.Cc([{id:"s49",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.,1.,1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",j:f,i:["u1"],precision:"lowp"},{id:"s50",name:"_",h:a,j:f,i:["u1","u31"],precision:"lowp"},{id:"s51",name:"_",h:"uniform sampler2D u32,u33,u34,u35;const float f=1.1111;const vec3 g=vec3(1.,1.,1.);varying vec2 vv0;void main(){vec3 a=texture2D(u32,vv0).rgb;float c=texture2D(u33,vv0).r,d=texture2D(u34,vv0).r,h=texture2D(u35,vv0).r,i=a.r*a.r;vec3 b=vec3(c,d,h),j=max(g*f,abs(i-b*b)),k=sqrt(j);gl_FragColor=vec4(a.r,(a-b)/k);}".replace("1.1111",
d.Pd.toFixed(4)),j:{u32:0,u33:1,u34:2,u35:3},i:["u32","u33","u34","u35"],precision:"highp"}]);return{process:function(){z.set("s49");e.aa();U.l(d.bb,!1);z.set("s50");for(var v=0;3>v;++v)z.sa("u31",1,0),r[v].u(),n[v].g(0),U.l(!1,!1),z.sa("u31",0,1),m[v].u(),r[v].g(0),U.l(!1,!1);z.set("s51");l.u();e.g(0);m[0].g(1);m[1].g(2);m[2].g(3);U.l(!1,!1);l.g(0)},Qb:function(){return l}}}}}(),X={Ie:function(){return X.Mc()?document.createElement("video"):!1},Fa:function(a,c){a[c]=!0;a.setAttribute(c,"true")},
ce:function(){var a=!1,c=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a},Jc:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},te:function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return a&&a.length&&2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]},od:function(){try{return window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(a){return window.innerHeight>window.innerWidth}},be:function(){return X.Kc()||X.Jc()},Kc:function(){var a=navigator.userAgent.toLowerCase();
return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1},kg:function(){return X.ce()?X.od()?window.innerHeight/window.innerWidth*45:45:45},Mc:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1},pause:function(a){a.pause()},$g:function(a){a.play()},release:function(a){a.pause();a.videoStream&&a.videoStream.stop();a.videoStream=null},Lc:function(a){if(!a)return a;var c=null;if(a.video){var d=function(e){return e&&"object"===typeof e?Object.assign({},e):e};c={};
"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=d(a.video.facingMode))}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&(c.deviceId=a.deviceId);return c},Jd:function(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a},fe:function(a){function c(g){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(A,
y){return Math.abs(A-g)-Math.abs(y-g)})}function d(g){var A=X.Lc(a);g=g(A);r.push(g);e(g)}function e(g){if(g.video&&g.video.facingMode&&g.video.facingMode.exact){var A=g.video.facingMode.exact;g=X.Lc(g);delete g.video.facingMode.exact;g.video.facingMode.ideal=A;r.push(g)}}var r=[];if(!a||!a.video)return r;e(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var m=c(a.video.width.ideal).slice(0,3),l=c(a.video.height.ideal).slice(0,3),n={},f=0;for(n.ka=void 0;f<m.length;n=
{ka:n.ka},++f){n.ka=m[f];var v={},x=0;for(v.ja=void 0;x<l.length;v={ja:v.ja},++x)if(v.ja=l[x],n.ka!==a.video.width.ideal||v.ja!==a.video.height.ideal){var p=Math.max(n.ka,v.ja)/Math.min(n.ka,v.ja);p<4/3-.1||p>16/9+.1||d(function(g,A){return function(y){y.video.width.ideal=g.ka;y.video.height.ideal=A.ja;return y}}(n,v))}}}d(function(g){return X.Jd(g)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(g){delete g.video.width.ideal;delete g.video.height.ideal;return g}),
d(function(g){delete g.video.width;delete g.video.height;return g}));a.video.facingMode&&(d(function(g){delete g.video.facingMode;return g}),a.video.width&&a.video.height&&d(function(g){X.Jd(g);delete g.video.facingMode;return g}));r.push({audio:a.audio,video:!0});return r},uf:function(a){if(X.od()){if(!a||!a.video)return!1;var c=a.video.width,d=a.video.height;if(!c||!d)return!1;if(c.ideal&&d.ideal&&c.ideal>d.ideal)return a.video.height=c,a.video.width=d,!0}return!1},gb:function(a){a.volume=0;X.Fa(a,
"muted");if(X.Kc()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;X.Fa(a,"muted")},5)}},Md:function(a,c,d){return new Promise(function(e,r){if(a.srcObject&&a.srcObject.getVideoTracks){var m=a.srcObject.getVideoTracks();1!==m.length?r("INVALID_TRACKNUMBER"):(m=m[0],c?X.get(a,e,r,d):(m.stop(),
e()))}else r("BAD_IMPLEMENTATION")})},cd:function(a,c,d,e){function r(l){m||(m=!0,d(l))}var m=!1;return navigator.mediaDevices.getUserMedia(e).then(function(l){function n(){setTimeout(function(){if(a.currentTime){var f=a.videoWidth,v=a.videoHeight;if(0===f||0===v)r("VIDEO_NULLSIZE");else{f&&(a.style.width=f.toString()+"px");v&&(a.style.height=v.toString()+"px");f={ae:null,qf:null,Ue:null};try{var x=l.getVideoTracks()[0];x&&(f.Ue=x,f.ae=x.getCapabilities(),f.qf=x.getSettings())}catch(p){}X.be()?a.parentNode&&
null!==a.parentNode?(m||c(a,l,f),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),X.gb(a),m||c(a,l,f),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";a.style.bottom="0px";a.style.right="0px";X.gb(a);setTimeout(function(){a.play()},100)},80)):m||c(a,l,f)}}else r("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof a.srcObject?a.srcObject=l:(a.src=window.URL.createObjectURL(l),a.videoStream=l);X.gb(a);a.addEventListener("loadeddata",function(){var f=
a.play();X.gb(a);"undefined"===typeof f?n():f.then(function(){n()}).catch(function(){r("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(l){r(l)})},get:function(a,c,d,e){if(!a)return d&&d("VIDEO_NOTPROVIDED"),!1;if(!X.Mc())return d&&d("MEDIASTREAMAPI_NOTFOUND"),!1;if(e&&e.video){if(X.Jc()){var r=X.te();0!==r[0]&&(12>r[0]||12===r[0]&&2>r[1])&&X.uf(e)}e.video.width&&e.video.width.ideal&&(a.style.width=e.video.width.ideal+"px");e.video.height&&e.video.height.ideal&&(a.style.height=e.video.height.ideal+
"px")}X.Fa(a,"autoplay");X.Fa(a,"playsinline");e&&e.audio?a.volume=0:X.Fa(a,"muted");X.cd(a,c,function(){function m(n){if(0===n.length)d("INVALID_FALLBACKCONSTRAINTS");else{var f=n.shift();X.cd(a,c,function(){m(n)},f)}}var l=X.fe(e);m(l)},e)},He:function(a){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a(!1,"NOTSUPPORTED"),!1;navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&
d.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")})},If:function(a,c,d){var e={};e[c]=d;c=[];c.push(e);a.applyConstraints({advanced:c}).catch(function(){})}},Ea=function(){var a={n:5,ec:1,qd:0,Wa:[30,45],Sa:[2,200],k:.7,yf:200,Ye:.05},c=-1,d=null,e=-1,r=-1,m=0,l=-1,n=-1,f=0,v=0,x=a.Sa[1],p={Ee:function(){switch(c){case -1:return-1;case 0:return n+d.qd;case 1:return f}},og:function(g){return Math.pow(Math.min(Math.max(l,0),d.n-1)/(d.n-1),
g||1)},v:function(g){d=Object.assign({},a,g);l=n=d.ec;c=0;p.reset()},Kd:function(g){g=("undefined"===typeof g?Date.now():g)||0;var A=Math.min(Math.max(g-v,d.Sa[0]),d.Sa[1]);x=A;v=g;var y=-1===e?0:d.k;e=Math.min(Math.max(1E3/A,5),120)*(1-y)+e*y;g-r>d.yf&&5<++m&&(A=d.k,l=l*(1-A)+(e<d.Wa[0]?n-1:e>d.Wa[1]?n+1:n)*A,Math.abs(l-n)>1-d.Ye&&(A=Math.min(Math.max(Math.round(l),0),d.n-1),A!==n&&(l=n=A,e=(d.Wa[1]-d.Wa[0])/2)),r=g)},Gd:function(g){f=g;c=1},Od:function(){c=0;p.reset()},reset:function(){x=a.Sa[1];
r=e=-1;m=0},xe:function(){return x}};return p}(),yb=function(){var a={ud:4,kb:[1.5,1.5,2],P:[.1,.1,.1],Cd:1,B:-1,G:-1,tf:2,Xe:1,Dd:!0,pe:.8},c=null,d=[],e=0,r=[.5,.5,1];return{v:function(m){c=Object.assign({},a,m);d.splice(0);m=c.kb[0]*c.P[0];var l=c.kb[1]*c.P[1],n=1/(1+c.kb[2]*c.P[2]),f=c.Cd*Math.min(c.B,c.G),v=f/c.B;f/=c.G;var x=.5*c.pe;x*=x;for(var p=0;p<c.ud;++p){var g=Math.pow(n,p),A=v*g,y=f*g;g=A*m;var k=y*l,q=A/2;y/=2;for(var E=1+(1-q-q)/g,M=1+(1-y-y)/k,K=0;K<M;++K)for(var O=y+K*k,G=O-.5,I=
0;I<E;++I){var u=q+I*g,t=u-.5;t*t+G*G>x||d.push([u,O,A*c.Xe])}}c.Dd&&d.sort(function(D,J){var N=D[0]-.5;D=D[1]-.5;var h=J[0]-.5;J=J[1]-.5;return N*N+D*D-(h*h+J*J)})},get:function(){var m=d.length;if(0===m)return r;e>=m&&(e=0);var l=d[Math.floor(e)];e=(e+1/c.tf)%m;return l}}}(),Qa=function(){function a(){d(x+f.dc)}function c(){A.Na=0===f.Ma?window.requestAnimationFrame(d):window.requestAnimationFrame(e)}function d(E){g.wa&&null!==v&&(E-=x,E=Math.min(Math.max(E,f.Pc[0]),f.Pc[1]),x+=E,m(),v(x))}function e(E){g.wa&&
(A.timeout=window.setTimeout(d.bind(null,E),f.Ma))}function r(){v=null;g.wa=!1;m()}function m(){A.Na&&(window.cancelAnimationFrame(A.Na),A.Na=null);A.timeout&&(window.clearTimeout(A.timeout),A.timeout=null)}function l(E){E?(g.Ha=!0,p.port.postMessage("STOP"),Z.Ld(!0),c()):(g.Ha=!1,Z.Ld(!1),p.port.postMessage("START"))}var n={kd:!0,Pc:[1,200],dc:50,Ma:0},f=null,v=null,x=0,p=null,g={qa:!1,Ha:!0,$b:!1,Zb:!1,Xb:!1,wa:!1},A={Na:null,timeout:null},y=l.bind(null,!0),k=l.bind(null,!1),q={v:function(E){f=
Object.assign(n,E);Object.assign(g,{Ha:!0,qa:!0,wa:!1});if(f.kd){E=!1;try{if("undefined"===typeof SharedWorker){var M=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        switch (e.data) {\n          case 'START':\n            if (handler === null){\n              handler = setInterval(function(){\n                self.postMessage('tick');\n              }, "+f.dc.toString()+");\n            }\n            break;\n          case 'STOP':\n            if (handler !== null){\n              clearInterval(handler);\n              handler = null;\n            }\n            break;\n        };\n      }, false);"],
{type:"text/javascript"})),K=new Worker(M);K.addEventListener("message",a);p={yd:K,port:K};g.$b=!0}else{var O=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          switch (e.data) {\n            case 'START':\n              if (handler === null){\n                handler = setInterval(function(){\n                  port.postMessage('tick');\n                }, "+
f.dc.toString()+");\n              }\n              break;\n            case 'STOP':\n              if (handler !== null){\n                clearInterval(handler);\n                handler = null;\n              }\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),G=new SharedWorker(O);G.port.start();G.port.addEventListener("message",a);p={yd:G,port:G.port};g.Zb=!0}E=!0}catch(I){}E&&(window.addEventListener("blur",
k),window.addEventListener("focus",y),g.Xb=!0)}},m:function(){r();g.Xb&&(window.removeEventListener("blur",k),window.removeEventListener("focus",y),g.Xb=!1);g.Zb?(p.port.close(),g.Zb=!1):g.$b&&(p.yd.terminate(),g.$b=!1);Object.assign(g,{Ha:!0,qa:!1,wa:!1});v=null},update:function(E){Object.assign(f,E)},ef:function(E){g.qa||q.v({});m();g.wa=!0;v=E;g.Ha&&c()},stop:r};return q}(),ca={neuralNetworkPath:"NN_FACE_0.json",Dc:0,ub:[2,6],ff:{threshold:.75,nDetectsPerLoop:0,
nScaleLevels:3,scale0Factor:.8,overlapFactors:[2,2,3],scanCenterFirst:!0},P:[.07,.07,.15],vf:50,sd:.6,Ve:8,sf:{translationFactorRange:[.0015,.005],rotationFactorRange:[.12,.25],qualityFactorRange:[.85,.95],alphaRange:[.05,.9],followZRotAlphaFactor:.01},Rd:.2,Sd:2,Bf:20,rf:12,ie:!0,Qf:0,Pf:0,Tf:0,Uf:0,Rf:0,Sf:0},qa={facingMode:"user",idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,rotate:0},ka={rd:-1,error:-2,ic:0,play:1,pause:2},oa=ka.ic,B=null,dc={ab:!1,tc:null,
element:null,L:null,H:[0,0],M:[.5,.5],C:[.5,0,0,.5],mb:0,Ea:null,$a:!1},W=null,ec={Da:null,yb:null,tb:"./",Ka:null,Z:null,La:ca.Dc,Ug:ca.Dc,oa:!0},Za=null,La=[-1,-1],Aa=null,ra=Object.create(ca.ff),va=Object.create(ca.sf),S=null,fc={B:0,G:0,wb:1,H:[0,0],pa:null},aa={size:0,ia:null,buffer:null,ha:null,P:null},Ra=null,pa=null,hb=null,Ga=null,L={o:1,na:0,Y:null,ld:!1,pd:0,jc:0},la={labels:[],fc:0,hc:0,Kb:1,Ic:!1},ia={fb:{Rg:3,qb:1,oh:0},mode:3,Nc:0,ma:{Ta:1,Mb:0}},eb={VERSION:"1.3.8",init:function(a){function c(){oa!==
ka.error&&2===++d&&(Sa(),Eb(),Ua(),W.Da&&(W.Da(!1,{GL:b,canvasElement:W.Z,video:B.element,videoTexture:B.L.get(),videoTransformMat2:B.C,maxFacesDetected:L.o,landmarksLabels:la.labels}),ub()),$a())}if(oa!==ka.ic)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;oa=ka.rd;B=Object.assign({},dc);W=Object.assign({},ec);S=Object.assign({},fc);L.Y=[0];aa.P=ca.P.slice(0);aa.ha=[0,0,0];!function(t){if(false&&false)module.exports=t();else if(false&&false)define([],t);else{("undefined"!=typeof window?window:false?global:"undefined"!=typeof self?self:this).zyp=t()}}(function(){return function(){return function t(e,r,s){function o(i,h){if(!r[i]){if(!e[i]){var u="function"==typeof require&&require;if(!h&&u)return u(i,!0);if(n)return n(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[i]={exports:{}};e[i][0].call(l.exports,function(t){return o(e[i][1][t]||t)},l,l.exports,t,e,r,s)}return r[i].exports}for(var n="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}}()({1:[function(t,e,r){const s=Object.prototype.toString;e.exports=function(t){return s.call(t).endsWith("Array]")}},{}],2:[function(t,e,r){var s,o=(s=t("zzJ2"))&&"object"==typeof s&&"default"in s?s.default:s;e.exports=function(t){if(!o(t))throw new Error();if(0===t.length)throw new Error();let e=t[0];for(let r=1;r<t.length;r++)t[r]>e&&(e=t[r]);return e}},{"zzJ2":1}],3:[function(t,e,r){var s,o=(s=t("zzJ2"))&&"object"==typeof s&&"default"in s?s.default:s;e.exports=function(t){if(!o(t))throw new Error();if(0===t.length)throw new Error();let e=t[0];for(let r=1;r<t.length;r++)t[r]<e&&(e=t[r]);return e}},{"zzJ2":1}],4:[function(t,e,r){function s(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var o=s(t("zzJ2")),n=s(t("zzL2")),i=s(t("zzK2"));e.exports=function(t,e={}){if(!o(t))throw new Error();if(0===t.length)throw new Error();let r;if(void 0!==e.output){if(!o(e.output))throw new Error();r=e.output}else r=new Array(t.length);const s=i(t),h=n(t);if(s===h)throw new Error();const{min:u=(e.autoMinMax?s:0),max:a=(e.autoMinMax?h:1)}=e;if(u>=a)throw new Error();const l=(a-u)/(h-s);for(let e=0;e<t.length;e++)r[e]=(t[e]-s)*l+u;return r}},{"zzJ2":1,"zzL2":2,"zzK2":3}],5:[function(t,e,r){Object.defineProperty(r,"zzB",{value:!0});var s,o=(s=t("zzM2"))&&"object"==typeof s&&"default"in s?s.default:s;const n=" ".repeat(2),i=" ".repeat(4);function h(t,e={}){const{zzgs:r=15,zzks:s=10,maxNumSize:o=8}=e;return`${t.constructor.name} {\\n${n}[\\n${i}${function(t,e,r,s){const{zzk2:o,zzj2:n}=t,h=Math.min(o,e),a=Math.min(n,r),l=[];for(let e=0;e<h;e++){let r=[];for(let o=0;o<a;o++)r.push(u(t.get(e,o),s));l.push(`${r.join(" ")}`)}a!==n&&(l[l.length-1]+=` ... ${n-r} more zzj2`);h!==o&&l.push(`... ${o-e} more zzk2`);return l.join(`\\n${i}`)}(t,r,s,o)}\\n${n}]\\n${n}zzk2: ${t.zzk2}\\n${n}zzj2: ${t.zzj2}\\n}`}function u(t,e){const r=String(t);if(r.length<=e)return r.padEnd(e," ");const s=t.toPrecision(e-2);if(s.length<=e)return s;const o=t.zzP3(e-2),n=o.indexOf("e"),i=o.slice(n);return o.slice(0,e-i.length)+i}function a(t,e,r){let s=r?t.zzk2:t.zzk2-1;if(e<0||e>s)throw new Error()}function l(t,e,r){let s=r?t.zzj2:t.zzj2-1;if(e<0||e>s)throw new Error()}function f(t,e){if(e.zzC&&(e=e.zzC()),e.length!==t.zzj2)throw new Error();return e}function c(t,e){if(e.zzC&&(e=e.zzC()),e.length!==t.zzk2)throw new Error();return e}function m(t,e,r){return{row:g(t,e),zz23:w(t,r)}}function g(t,e){if("object"!=typeof e)throw new Error();if(e.some(e=>e<0||e>=t.zzk2))throw new Error();return Array.isArray(e)||(e=Array.from(e)),e}function w(t,e){if("object"!=typeof e)throw new Error();if(e.some(e=>e<0||e>=t.zzj2))throw new Error();return Array.isArray(e)||(e=Array.from(e)),e}function p(t,e,r,s,o){if(5!==arguments.length)throw new Error();if(y("zz0",e),y("zz1",r),y("zz2",s),y("zz3",o),e>r||s>o||e<0||e>=t.zzk2||r<0||r>=t.zzk2||s<0||s>=t.zzj2||o<0||o>=t.zzj2)throw new Error()}function d(t,e=0){let r=[];for(let s=0;s<t;s++)r.push(e);return r}function y(t,e){if("number"!=typeof e)throw new Error()}class M{static zzD1(t,e,r){if(t*e!==r.length)throw new Error();let s=new x(t,e);for(let o=0;o<t;o++)for(let t=0;t<e;t++)s.set(o,t,r[o*e+t]);return s}static zzE1(t){let e=new x(1,t.length);for(let r=0;r<t.length;r++)e.set(0,r,t[r]);return e}static zzF1(t){let e=new x(t.length,1);for(let r=0;r<t.length;r++)e.set(r,0,t[r]);return e}static zzG1(t,e){return new x(t,e)}static zzH1(t,e){return new x(t,e).zzL(1)}static rand(t,e,r={}){if("object"!=typeof r)throw new Error();const{random:s=Math.random}=r;let o=new x(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++)o.set(r,t,s());return o}static zzI1(t,e,r={}){if("object"!=typeof r)throw new Error();const{min:s=0,max:o=1e3,random:n=Math.random}=r;if(!Number.isInteger(s))throw new Error();if(!Number.isInteger(o))throw new Error();if(s>=o)throw new Error();let i=o-s,h=new x(t,e);for(let r=0;r<t;r++)for(let t=0;t<e;t++){let e=s+Math.round(n()*i);h.set(r,t,e)}return h}static zzJ1(t,e,r){void 0===e&&(e=t),void 0===r&&(r=1);let s=Math.min(t,e),o=this.zzG1(t,e);for(let t=0;t<s;t++)o.set(t,t,r);return o}static zzo(t,e,r){let s=t.length;void 0===e&&(e=s),void 0===r&&(r=e);let o=Math.min(s,e,r),n=this.zzG1(e,r);for(let e=0;e<o;e++)n.set(e,e,t[e]);return n}static min(t,e){t=this.zzL1(t),e=this.zzL1(e);let r=t.zzk2,s=t.zzj2,o=new x(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)o.set(n,r,Math.min(t.get(n,r),e.get(n,r)));return o}static max(t,e){t=this.zzL1(t),e=this.zzL1(e);let r=t.zzk2,s=t.zzj2,o=new this(r,s);for(let n=0;n<r;n++)for(let r=0;r<s;r++)o.set(n,r,Math.max(t.get(n,r),e.get(n,r)));return o}static zzL1(t){return M.zzM1(t)?t:new x(t)}static zzM1(t){return null!=t&&"Matrix"===t.klass}get zzC1(){return this.zzk2*this.zzj2}apply(t){if("function"!=typeof t)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)t.call(this,e,r);return this}zzC(){let t=[];for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)t.push(this.get(e,r));return t}zzD(){let t=[];for(let e=0;e<this.zzk2;e++){t.push([]);for(let r=0;r<this.zzj2;r++)t[e].push(this.get(e,r))}return t}toJSON(){return this.zzD()}zzE(){return 1===this.zzk2}zzF(){return 1===this.zzj2}zzG(){return 1===this.zzk2||1===this.zzj2}zzH(){return this.zzk2===this.zzj2}zzI(){if(this.zzH()){for(let t=0;t<this.zzk2;t++)for(let e=0;e<=t;e++)if(this.get(t,e)!==this.get(e,t))return!1;return!0}return!1}zzJ(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.zzk2&&s;){for(e=0,o=!1;e<this.zzj2&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);t++}return s}zzK(){let t=0,e=0,r=-1,s=!0,o=!1;for(;t<this.zzk2&&s;){for(e=0,o=!1;e<this.zzj2&&!1===o;)0===this.get(t,e)?e++:1===this.get(t,e)&&e>r?(o=!0,r=e):(s=!1,o=!0);for(let r=e+1;r<this.zzk2;r++)0!==this.get(t,r)&&(s=!1);t++}return s}echelonForm(){let t=this.clone(),e=0,r=0;for(;e<t.zzk2&&r<t.zzj2;){let s=e;for(let o=e;o<t.zzk2;o++)t.get(o,r)>t.get(s,r)&&(s=o);if(0===t.get(s,r))r++;else{t.zzP(e,s);let o=t.get(e,r);for(let s=r;s<t.zzj2;s++)t.set(e,s,t.get(e,s)/o);for(let s=e+1;s<t.zzk2;s++){let o=t.get(s,r)/t.get(e,r);t.set(s,r,0);for(let n=r+1;n<t.zzj2;n++)t.set(s,n,t.get(s,n)-t.get(e,n)*o)}e++,r++}}return t}reducedEchelonForm(){let t=this.echelonForm(),e=t.zzj2,r=t.zzk2,s=r-1;for(;s>=0;)if(0===t.zzg(s))s--;else{let o=0,n=!1;for(;o<r&&!1===n;)1===t.get(s,o)?n=!0:o++;for(let r=0;r<s;r++){let n=t.get(r,o);for(let i=o;i<e;i++){let e=t.get(r,i)-n*t.get(s,i);t.set(r,i,e)}}s--}return t}set(){throw new Error()}get(){throw new Error()}repeat(t={}){if("object"!=typeof t)throw new Error();const{zzk2:e=1,zzj2:r=1}=t;if(!Number.isInteger(e)||e<=0)throw new Error();if(!Number.isInteger(r)||r<=0)throw new Error();let s=new x(this.zzk2*e,this.zzj2*r);for(let t=0;t<e;t++)for(let e=0;e<r;e++)s.zz61(this,this.zzk2*t,this.zzj2*e);return s}zzL(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,t);return this}neg(){return this.mulS(-1)}zzM(t){a(this,t);let e=[];for(let r=0;r<this.zzj2;r++)e.push(this.get(t,r));return e}zzMVector(t){return x.zzE1(this.zzM(t))}zzO(t,e){a(this,t),e=f(this,e);for(let r=0;r<this.zzj2;r++)this.set(t,r,e[r]);return this}zzP(t,e){a(this,t),a(this,e);for(let r=0;r<this.zzj2;r++){let s=this.get(t,r);this.set(t,r,this.get(e,r)),this.set(e,r,s)}return this}zzQ(t){l(this,t);let e=[];for(let r=0;r<this.zzk2;r++)e.push(this.get(r,t));return e}zzQVector(t){return x.zzF1(this.zzQ(t))}zzS(t,e){l(this,t),e=c(this,e);for(let r=0;r<this.zzk2;r++)this.set(r,t,e[r]);return this}zzT(t,e){l(this,t),l(this,e);for(let r=0;r<this.zzk2;r++){let s=this.get(r,t);this.set(r,t,this.get(r,e)),this.set(r,e,s)}return this}zzU(t){t=f(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)+t[r]);return this}zzV(t){t=f(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)-t[r]);return this}zzW(t){t=f(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)*t[r]);return this}zzX(t){t=f(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)/t[r]);return this}zzY(t){t=c(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)+t[e]);return this}zzZ(t){t=c(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)-t[e]);return this}zza(t){t=c(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)*t[e]);return this}zzb(t){t=c(this,t);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)/t[e]);return this}zzc(t,e){a(this,t);for(let r=0;r<this.zzj2;r++)this.set(t,r,this.get(t,r)*e);return this}zzd(t,e){l(this,t);for(let r=0;r<this.zzk2;r++)this.set(r,t,this.get(r,t)*e);return this}max(){let t=this.get(0,0);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.get(e,r)>t&&(t=this.get(e,r));return t}zze(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.zzk2;r++)for(let s=0;s<this.zzj2;s++)this.get(r,s)>t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}min(){let t=this.get(0,0);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.get(e,r)<t&&(t=this.get(e,r));return t}zzf(){let t=this.get(0,0),e=[0,0];for(let r=0;r<this.zzk2;r++)for(let s=0;s<this.zzj2;s++)this.get(r,s)<t&&(t=this.get(r,s),e[0]=r,e[1]=s);return e}zzg(t){a(this,t);let e=this.get(t,0);for(let r=1;r<this.zzj2;r++)this.get(t,r)>e&&(e=this.get(t,r));return e}zzgIndex(t){a(this,t);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.zzj2;s++)this.get(t,s)>e&&(e=this.get(t,s),r[1]=s);return r}zzi(t){a(this,t);let e=this.get(t,0);for(let r=1;r<this.zzj2;r++)this.get(t,r)<e&&(e=this.get(t,r));return e}zziIndex(t){a(this,t);let e=this.get(t,0),r=[t,0];for(let s=1;s<this.zzj2;s++)this.get(t,s)<e&&(e=this.get(t,s),r[1]=s);return r}zzk(t){l(this,t);let e=this.get(0,t);for(let r=1;r<this.zzk2;r++)this.get(r,t)>e&&(e=this.get(r,t));return e}zzkIndex(t){l(this,t);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.zzk2;s++)this.get(s,t)>e&&(e=this.get(s,t),r[0]=s);return r}zzm(t){l(this,t);let e=this.get(0,t);for(let r=1;r<this.zzk2;r++)this.get(r,t)<e&&(e=this.get(r,t));return e}zzmIndex(t){l(this,t);let e=this.get(0,t),r=[0,t];for(let s=1;s<this.zzk2;s++)this.get(s,t)<e&&(e=this.get(s,t),r[0]=s);return r}zzo(){let t=Math.min(this.zzk2,this.zzj2),e=[];for(let r=0;r<t;r++)e.push(this.get(r,r));return e}zzp(t="frobenius"){let e=0;if("max"===t)return this.max();if("frobenius"===t){for(let t=0;t<this.zzk2;t++)for(let r=0;r<this.zzj2;r++)e+=this.get(t,r)*this.get(t,r);return Math.sqrt(e)}throw new Error()}zzq(){let t=0;for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)t+=this.get(e,r),this.set(e,r,t);return this}dot(t){M.zzM1(t)&&(t=t.zzC());let e=this.zzC();if(e.length!==t.length)throw new Error();let r=0;for(let s=0;s<e.length;s++)r+=e[s]*t[s];return r}zzr(t){t=x.zzL1(t);let e=this.zzk2,r=this.zzj2,s=t.zzj2,o=new x(e,s),n=new Float64Array(r);for(let i=0;i<s;i++){for(let e=0;e<r;e++)n[e]=t.get(e,i);for(let t=0;t<e;t++){let e=0;for(let s=0;s<r;s++)e+=this.get(t,s)*n[s];o.set(t,i,e)}}return o}zzs(t){t=x.zzL1(t);let e=new x(2,2);const r=this.get(0,0),s=t.get(0,0),o=this.get(0,1),n=t.get(0,1),i=this.get(1,0),h=t.get(1,0),u=this.get(1,1),a=t.get(1,1),l=(r+u)*(s+a),f=(i+u)*s,c=r*(n-a),m=u*(h-s),g=(r+o)*a,w=l+m-g+(o-u)*(h+a),p=c+g,d=f+m,y=l-f+c+(i-r)*(s+n);return e.set(0,0,w),e.set(0,1,p),e.set(1,0,d),e.set(1,1,y),e}zzt(t){t=x.zzL1(t);let e=new x(3,3);const r=this.get(0,0),s=this.get(0,1),o=this.get(0,2),n=this.get(1,0),i=this.get(1,1),h=this.get(1,2),u=this.get(2,0),a=this.get(2,1),l=this.get(2,2),f=t.get(0,0),c=t.get(0,1),m=t.get(0,2),g=t.get(1,0),w=t.get(1,1),p=t.get(1,2),d=t.get(2,0),y=t.get(2,1),M=t.get(2,2),b=(r-n)*(-c+w),v=(-r+n+i)*(f-c+w),S=(n+i)*(-f+c),R=r*f,E=(-r+u+a)*(f-m+p),A=(-r+u)*(m-p),T=(u+a)*(-f+m),k=(-o+a+l)*(w+d-y),C=(o-l)*(w-y),D=o*d,V=(a+l)*(-d+y),I=(-o+i+h)*(p+d-M),N=(o-h)*(p-M),F=(i+h)*(-d+M),q=R+D+s*g,O=(r+s+o-n-i-a-l)*w+v+S+R+k+D+V,P=R+E+T+(r+s+o-i-h-u-a)*p+D+I+F,j=b+i*(-f+c+g-w-p-d+M)+v+R+D+I+N,z=b+v+S+R+h*y,L=D+I+N+F+n*m,$=R+E+A+a*(-f+m+g-w-p-d+y)+k+C+D,B=k+C+D+V+u*c,U=R+E+A+T+l*M;return e.set(0,0,q),e.set(0,1,O),e.set(0,2,P),e.set(1,0,j),e.set(1,1,z),e.set(1,2,L),e.set(2,0,$),e.set(2,1,B),e.set(2,2,U),e}zzrStrassen(t){t=x.zzL1(t);let e=this.clone(),r=e.zzk2,s=e.zzj2,o=t.zzk2,n=t.zzj2;function i(t,e,r){let s=t.zzk2,o=t.zzj2;if(s===e&&o===r)return t;{let s=M.zzG1(e,r);return s=s.zz61(t,0,0)}}s!==o&&1;let h=Math.max(r,o),u=Math.max(s,n);return function t(e,r,s,o){if(s<=512||o<=512)return e.zzr(r);s%2==1&&o%2==1?(e=i(e,s+1,o+1),r=i(r,s+1,o+1)):s%2==1?(e=i(e,s+1,o),r=i(r,s+1,o)):o%2==1&&(e=i(e,s,o+1),r=i(r,s,o+1));let n=parseInt(e.zzk2/2,10),h=parseInt(e.zzj2/2,10),u=e.zz31(0,n-1,0,h-1),a=r.zz31(0,n-1,0,h-1),l=e.zz31(0,n-1,h,e.zzj2-1),f=r.zz31(0,n-1,h,r.zzj2-1),c=e.zz31(n,e.zzk2-1,0,h-1),m=r.zz31(n,r.zzk2-1,0,h-1),g=e.zz31(n,e.zzk2-1,h,e.zzj2-1),w=r.zz31(n,r.zzk2-1,h,r.zzj2-1),p=t(M.add(u,g),M.add(a,w),n,h),d=t(M.add(c,g),a,n,h),y=t(u,M.sub(f,w),n,h),b=t(g,M.sub(m,a),n,h),x=t(M.add(u,l),w,n,h),v=t(M.sub(c,u),M.add(a,f),n,h),S=t(M.sub(l,g),M.add(m,w),n,h),R=M.add(p,b);R.sub(x),R.add(S);let E=M.add(y,x),A=M.add(d,b),T=M.sub(p,d);T.add(y),T.add(v);let k=M.zzG1(2*R.zzk2,2*R.zzj2);return(k=(k=(k=(k=k.zz61(R,0,0)).zz61(E,R.zzk2,0)).zz61(A,0,R.zzj2)).zz61(T,R.zzk2,R.zzj2)).zz31(0,s-1,0,o-1)}(e=i(e,h,u),t=i(t,h,u),h,u)}zzv(t={}){if("object"!=typeof t)throw new Error();const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(r))throw new Error();if(e>=r)throw new Error();let s=new x(this.zzk2,this.zzj2);for(let t=0;t<this.zzk2;t++){const n=this.zzM(t);o(n,{min:e,max:r,output:n}),s.zzO(t,n)}return s}zzw(t={}){if("object"!=typeof t)throw new Error();const{min:e=0,max:r=1}=t;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(r))throw new Error();if(e>=r)throw new Error();let s=new x(this.zzk2,this.zzj2);for(let t=0;t<this.zzj2;t++){const n=this.zzQ(t);o(n,{min:e,max:r,output:n}),s.zzS(t,n)}return s}zzx(){const t=Math.ceil(this.zzj2/2);for(let e=0;e<this.zzk2;e++)for(let r=0;r<t;r++){let t=this.get(e,r),s=this.get(e,this.zzj2-1-r);this.set(e,r,s),this.set(e,this.zzj2-1-r,t)}return this}zzy(){const t=Math.ceil(this.zzk2/2);for(let e=0;e<this.zzj2;e++)for(let r=0;r<t;r++){let t=this.get(r,e),s=this.get(this.zzk2-1-r,e);this.set(r,e,s),this.set(this.zzk2-1-r,e,t)}return this}zzz(t){t=x.zzL1(t);let e=this.zzk2,r=this.zzj2,s=t.zzk2,o=t.zzj2,n=new x(e*s,r*o);for(let i=0;i<e;i++)for(let e=0;e<r;e++)for(let r=0;r<s;r++)for(let h=0;h<o;h++)n.set(s*i+r,o*e+h,this.get(i,e)*t.get(r,h));return n}zz01(){let t=new x(this.zzj2,this.zzk2);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)t.set(r,e,this.get(e,r));return t}zz11(t=b){for(let e=0;e<this.zzk2;e++)this.zzO(e,this.zzM(e).sort(t));return this}zz21(t=b){for(let e=0;e<this.zzj2;e++)this.zzS(e,this.zzQ(e).sort(t));return this}zz31(t,e,r,s){p(this,t,e,r,s);let o=new x(e-t+1,s-r+1);for(let n=t;n<=e;n++)for(let e=r;e<=s;e++)o.set(n-t,e-r,this.get(n,e));return o}zz31Row(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.zzj2-1),e>r||e<0||e>=this.zzj2||r<0||r>=this.zzj2)throw new Error();let s=new x(t.length,r-e+1);for(let o=0;o<t.length;o++)for(let n=e;n<=r;n++){if(t[o]<0||t[o]>=this.zzk2)throw new Error();s.set(o,n-e,this.get(t[o],n))}return s}zz31Column(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=this.zzk2-1),e>r||e<0||e>=this.zzk2||r<0||r>=this.zzk2)throw new Error();let s=new x(r-e+1,t.length);for(let o=0;o<t.length;o++)for(let n=e;n<=r;n++){if(t[o]<0||t[o]>=this.zzj2)throw new Error();s.set(n-e,o,this.get(n,t[o]))}return s}zz61(t,e,r){p(this,e,e+(t=x.zzL1(t)).zzk2-1,r,r+t.zzj2-1);for(let s=0;s<t.zzk2;s++)for(let o=0;o<t.zzj2;o++)this.set(e+s,r+o,t.get(s,o));return this}zz71(t,e){let r=m(this,t,e),s=new x(t.length,e.length);for(let t=0;t<r.row.length;t++){let e=r.row[t];for(let o=0;o<r.zz23.length;o++){let n=r.zz23[o];s.set(t,o,this.get(e,n))}}return s}trace(){let t=Math.min(this.zzk2,this.zzj2),e=0;for(let r=0;r<t;r++)e+=this.get(r,r);return e}clone(){let t=new x(this.zzk2,this.zzj2);for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)t.set(e,r,this.get(e,r));return t}sum(t){switch(t){case"row":return function(t){let e=d(t.zzk2);for(let r=0;r<t.zzk2;++r)for(let s=0;s<t.zzj2;++s)e[r]+=t.get(r,s);return e}(this);case"zz23":return function(t){let e=d(t.zzj2);for(let r=0;r<t.zzk2;++r)for(let s=0;s<t.zzj2;++s)e[s]+=t.get(r,s);return e}(this);case void 0:return function(t){let e=0;for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)e+=t.get(r,s);return e}(this);default:throw new Error()}}zz81(t){switch(t){case"row":return function(t){let e=d(t.zzk2,1);for(let r=0;r<t.zzk2;++r)for(let s=0;s<t.zzj2;++s)e[r]*=t.get(r,s);return e}(this);case"zz23":return function(t){let e=d(t.zzj2,1);for(let r=0;r<t.zzk2;++r)for(let s=0;s<t.zzj2;++s)e[s]*=t.get(r,s);return e}(this);case void 0:return function(t){let e=1;for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)e*=t.get(r,s);return e}(this);default:throw new Error()}}zz91(t){const e=this.sum(t);switch(t){case"row":for(let t=0;t<this.zzk2;t++)e[t]/=this.zzj2;return e;case"zz23":for(let t=0;t<this.zzj2;t++)e[t]/=this.zzk2;return e;case void 0:return e/this.zzC1;default:throw new Error()}}zzA1(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new Error();const{unbiased:r=!0,zz91:s=this.zz91(t)}=e;if("boolean"!=typeof r)throw new Error();switch(t){case"row":if(!Array.isArray(s))throw new Error();return function(t,e,r){const s=t.zzk2,o=t.zzj2,n=[];for(let i=0;i<s;i++){let s=0,h=0,u=0;for(let e=0;e<o;e++)s+=u=t.get(i,e)-r[i],h+=u*u;e?n.push((h-s*s/o)/(o-1)):n.push((h-s*s/o)/o)}return n}(this,r,s);case"zz23":if(!Array.isArray(s))throw new Error();return function(t,e,r){const s=t.zzk2,o=t.zzj2,n=[];for(let i=0;i<o;i++){let o=0,h=0,u=0;for(let e=0;e<s;e++)o+=u=t.get(e,i)-r[i],h+=u*u;e?n.push((h-o*o/s)/(s-1)):n.push((h-o*o/s)/s)}return n}(this,r,s);case void 0:if("number"!=typeof s)throw new Error();return function(t,e,r){const s=t.zzk2,o=t.zzj2,n=s*o;let i=0,h=0,u=0;for(let e=0;e<s;e++)for(let s=0;s<o;s++)i+=u=t.get(e,s)-r,h+=u*u;return e?(h-i*i/n)/(n-1):(h-i*i/n)/n}(this,r,s);default:throw new Error()}}zzB1(t,e){"object"==typeof t&&(e=t,t=void 0);const r=this.zzA1(t,e);if(void 0===t)return Math.sqrt(r);for(let t=0;t<r.length;t++)r[t]=Math.sqrt(r[t]);return r}center(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new Error();const{center:r=this.zz91(t)}=e;switch(t){case"row":if(!Array.isArray(r))throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)-e[r])}(this,r),this;case"zz23":if(!Array.isArray(r))throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)-e[s])}(this,r),this;case void 0:if("number"!=typeof r)throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)-e)}(this,r),this;default:throw new Error()}}scale(t,e={}){if("object"==typeof t&&(e=t,t=void 0),"object"!=typeof e)throw new Error();let r=e.scale;switch(t){case"row":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.zzk2;r++){let s=0;for(let e=0;e<t.zzj2;e++)s+=Math.pow(t.get(r,e),2)/(t.zzj2-1);e.push(Math.sqrt(s))}return e}(this);else if(!Array.isArray(r))throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)/e[r])}(this,r),this;case"zz23":if(void 0===r)r=function(t){const e=[];for(let r=0;r<t.zzj2;r++){let s=0;for(let e=0;e<t.zzk2;e++)s+=Math.pow(t.get(e,r),2)/(t.zzk2-1);e.push(Math.sqrt(s))}return e}(this);else if(!Array.isArray(r))throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)/e[s])}(this,r),this;case void 0:if(void 0===r)r=function(t){const e=t.zzC1-1;let r=0;for(let s=0;s<t.zzj2;s++)for(let o=0;o<t.zzk2;o++)r+=Math.pow(t.get(o,s),2)/e;return Math.sqrt(r)}(this);else if("number"!=typeof r)throw new Error();return function(t,e){for(let r=0;r<t.zzk2;r++)for(let s=0;s<t.zzj2;s++)t.set(r,s,t.get(r,s)/e)}(this,r),this;default:throw new Error()}}toString(t){return h(this,t)}}function b(t,e){return t-e}M.prototype.klass="Matrix","undefined"!=typeof Symbol&&(M.prototype[Symbol.for("zze3")]=function(){return h(this)}),M.random=M.rand,M.randomInt=M.zzI1,M.zzoonal=M.zzo,M.prototype.zzoonal=M.prototype.zzo,M.zzo2=M.zzJ1,M.prototype.negate=M.prototype.neg,M.prototype.zzI3=M.prototype.zzz;class x extends M{constructor(t,e){if(super(),x.zzM1(t))return t.clone();if(Number.isInteger(t)&&t>0){if(this.data=[],!(Number.isInteger(e)&&e>0))throw new Error();for(let r=0;r<t;r++)this.data.push(new Float64Array(e))}else{if(!Array.isArray(t))throw new Error();{const r=t;if(t=r.length,"number"!=typeof(e=r[0].length)||0===e)throw new Error();this.data=[];for(let s=0;s<t;s++){if(r[s].length!==e)throw new Error();this.data.push(Float64Array.from(r[s]))}}}return this.zzk2=t,this.zzj2=e,this}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}zzN1(t){if(a(this,t),1===this.zzk2)throw new Error();return this.data.splice(t,1),this.zzk2-=1,this}zzO1(t,e){return void 0===e&&(e=t,t=this.zzk2),a(this,t,!0),e=Float64Array.from(f(this,e)),this.data.splice(t,0,e),this.zzk2+=1,this}zzQ1(t){if(l(this,t),1===this.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++){const r=new Float64Array(this.zzj2-1);for(let s=0;s<t;s++)r[s]=this.data[e][s];for(let s=t+1;s<this.zzj2;s++)r[s-1]=this.data[e][s];this.data[e]=r}return this.zzj2-=1,this}zzR1(t,e){void 0===e&&(e=t,t=this.zzj2),l(this,t,!0),e=c(this,e);for(let r=0;r<this.zzk2;r++){const s=new Float64Array(this.zzj2+1);let o=0;for(;o<t;o++)s[o]=this.data[r][o];for(s[o++]=e[r];o<this.zzj2+1;o++)s[o]=this.data[r][o-1];this.data[r]=s}return this.zzj2+=1,this}}!function(t,e){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)+t);return this},t.prototype.addM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)+t.get(e,r));return this},t.add=function(t,r){return new e(t).add(r)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)-t);return this},t.prototype.subM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)-t.get(e,r));return this},t.sub=function(t,r){return new e(t).sub(r)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)*t);return this},t.prototype.mulM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)*t.get(e,r));return this},t.mul=function(t,r){return new e(t).mul(r)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)/t);return this},t.prototype.divM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)/t.get(e,r));return this},t.div=function(t,r){return new e(t).div(r)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)%t);return this},t.prototype.modM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)%t.get(e,r));return this},t.mod=function(t,r){return new e(t).mod(r)},t.prototype.zzO3=t.prototype.mod,t.prototype.zzO3S=t.prototype.modS,t.prototype.zzO3M=t.prototype.modM,t.zzO3=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)&t);return this},t.prototype.andM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)&t.get(e,r));return this},t.and=function(t,r){return new e(t).and(r)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)|t);return this},t.prototype.orM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)|t.get(e,r));return this},t.or=function(t,r){return new e(t).or(r)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)^t);return this},t.prototype.xorM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)^t.get(e,r));return this},t.xor=function(t,r){return new e(t).xor(r)},t.prototype.zzQ3=function(t){return"number"==typeof t?this.zzQ3S(t):this.zzQ3M(t)},t.prototype.zzQ3S=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)<<t);return this},t.prototype.zzQ3M=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)<<t.get(e,r));return this},t.zzQ3=function(t,r){return new e(t).zzQ3(r)},t.prototype.zzJ3=function(t){return"number"==typeof t?this.zzJ3S(t):this.zzJ3M(t)},t.prototype.zzJ3S=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)>>t);return this},t.prototype.zzJ3M=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)>>t.get(e,r));return this},t.zzJ3=function(t,r){return new e(t).zzJ3(r)},t.prototype.zzL3=function(t){return"number"==typeof t?this.zzL3S(t):this.zzL3M(t)},t.prototype.zzL3S=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)>>>t);return this},t.prototype.zzL3M=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,this.get(e,r)>>>t.get(e,r));return this},t.zzL3=function(t,r){return new e(t).zzL3(r)},t.prototype.zzK3=t.prototype.zzL3,t.prototype.zzK3S=t.prototype.zzL3S,t.prototype.zzK3M=t.prototype.zzL3M,t.zzK3=t.zzL3,t.prototype.not=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,~this.get(t,e));return this},t.not=function(t){return new e(t).not()},t.prototype.abs=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.abs(this.get(t,e)));return this},t.abs=function(t){return new e(t).abs()},t.prototype.acos=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.acos(this.get(t,e)));return this},t.acos=function(t){return new e(t).acos()},t.prototype.zzM3=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.zzM3(this.get(t,e)));return this},t.zzM3=function(t){return new e(t).zzM3()},t.prototype.asin=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.asin(this.get(t,e)));return this},t.asin=function(t){return new e(t).asin()},t.prototype.zzN3=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.zzN3(this.get(t,e)));return this},t.zzN3=function(t){return new e(t).zzN3()},t.prototype.atan=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.atan(this.get(t,e)));return this},t.atan=function(t){return new e(t).atan()},t.prototype.atanh=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.atanh(this.get(t,e)));return this},t.atanh=function(t){return new e(t).atanh()},t.prototype.cbrt=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.cbrt(this.get(t,e)));return this},t.cbrt=function(t){return new e(t).cbrt()},t.prototype.ceil=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.ceil(this.get(t,e)));return this},t.ceil=function(t){return new e(t).ceil()},t.prototype.clz32=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.clz32(this.get(t,e)));return this},t.clz32=function(t){return new e(t).clz32()},t.prototype.cos=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.cos(this.get(t,e)));return this},t.cos=function(t){return new e(t).cos()},t.prototype.cosh=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.cosh(this.get(t,e)));return this},t.cosh=function(t){return new e(t).cosh()},t.prototype.exp=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.exp(this.get(t,e)));return this},t.exp=function(t){return new e(t).exp()},t.prototype.expm1=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.expm1(this.get(t,e)));return this},t.expm1=function(t){return new e(t).expm1()},t.prototype.floor=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.floor(this.get(t,e)));return this},t.floor=function(t){return new e(t).floor()},t.prototype.fround=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.fround(this.get(t,e)));return this},t.fround=function(t){return new e(t).fround()},t.prototype.log=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.log(this.get(t,e)));return this},t.log=function(t){return new e(t).log()},t.prototype.log1p=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.log1p(this.get(t,e)));return this},t.log1p=function(t){return new e(t).log1p()},t.prototype.log10=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.log10(this.get(t,e)));return this},t.log10=function(t){return new e(t).log10()},t.prototype.log2=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.log2(this.get(t,e)));return this},t.log2=function(t){return new e(t).log2()},t.prototype.round=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.round(this.get(t,e)));return this},t.round=function(t){return new e(t).round()},t.prototype.sign=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.sign(this.get(t,e)));return this},t.sign=function(t){return new e(t).sign()},t.prototype.sin=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.sin(this.get(t,e)));return this},t.sin=function(t){return new e(t).sin()},t.prototype.sinh=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.sinh(this.get(t,e)));return this},t.sinh=function(t){return new e(t).sinh()},t.prototype.sqrt=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.sqrt(this.get(t,e)));return this},t.sqrt=function(t){return new e(t).sqrt()},t.prototype.tan=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.tan(this.get(t,e)));return this},t.tan=function(t){return new e(t).tan()},t.prototype.tanh=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.tanh(this.get(t,e)));return this},t.tanh=function(t){return new e(t).tanh()},t.prototype.trunc=function(){for(let t=0;t<this.zzk2;t++)for(let e=0;e<this.zzj2;e++)this.set(t,e,Math.trunc(this.get(t,e)));return this},t.trunc=function(t){return new e(t).trunc()},t.pow=function(t,r){return new e(t).pow(r)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,Math.pow(this.get(e,r),t));return this},t.prototype.powM=function(t){if(t=e.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(let e=0;e<this.zzk2;e++)for(let r=0;r<this.zzj2;r++)this.set(e,r,Math.pow(this.get(e,r),t.get(e,r)));return this}}(M,x);class v extends M{constructor(t,e,r){super(),this.matrix=t,this.zzk2=e,this.zzj2=r}}class S extends v{constructor(t,e,r){let s=m(t,e,r);super(t,s.row.length,s.zz23.length),this.rowIndices=s.row,this.zzl2=s.zz23}set(t,e,r){return this.matrix.set(this.rowIndices[t],this.zzl2[e],r),this}get(t,e){return this.matrix.get(this.rowIndices[t],this.zzl2[e])}}class R extends M{constructor(t,e={}){const{zzk2:r=1}=e;if(t.length%r!=0)throw new Error();super(),this.zzk2=r,this.zzj2=t.length/r,this.data=t}set(t,e,r){let s=this.zzS1(t,e);return this.data[s]=r,this}get(t,e){let r=this.zzS1(t,e);return this.data[r]}zzS1(t,e){return t*this.zzj2+e}}class E extends M{constructor(t){super(),this.data=t,this.zzk2=t.length,this.zzj2=t[0].length}set(t,e,r){return this.data[t][e]=r,this}get(t,e){return this.data[t][e]}}class A{constructor(t){let e,r,s,o,n,i,h,u,a,l=(t=E.zzL1(t)).clone(),f=l.zzk2,c=l.zzj2,m=new Float64Array(f),g=1;for(e=0;e<f;e++)m[e]=e;for(u=new Float64Array(f),r=0;r<c;r++){for(e=0;e<f;e++)u[e]=l.get(e,r);for(e=0;e<f;e++){for(a=Math.min(e,r),n=0,s=0;s<a;s++)n+=l.get(e,s)*u[s];u[e]-=n,l.set(e,r,u[e])}for(o=r,e=r+1;e<f;e++)Math.abs(u[e])>Math.abs(u[o])&&(o=e);if(o!==r){for(s=0;s<c;s++)i=l.get(o,s),l.set(o,s,l.get(r,s)),l.set(r,s,i);h=m[o],m[o]=m[r],m[r]=h,g=-g}if(r<f&&0!==l.get(r,r))for(e=r+1;e<f;e++)l.set(e,r,l.get(e,r)/l.get(r,r))}this.LU=l,this.pivotVector=m,this.zzm2=g}zzT1(){let t=this.LU,e=t.zzj2;for(let r=0;r<e;r++)if(0===t.get(r,r))return!0;return!1}solve(t){t=x.zzL1(t);let e=this.LU;if(e.zzk2!==t.zzk2)throw new Error();if(this.zzT1())throw new Error();let r,s,o,n=t.zzj2,i=t.zz31Row(this.pivotVector,0,n-1),h=e.zzj2;for(o=0;o<h;o++)for(r=o+1;r<h;r++)for(s=0;s<n;s++)i.set(r,s,i.get(r,s)-i.get(o,s)*e.get(r,o));for(o=h-1;o>=0;o--){for(s=0;s<n;s++)i.set(o,s,i.get(o,s)/e.get(o,o));for(r=0;r<o;r++)for(s=0;s<n;s++)i.set(r,s,i.get(r,s)-i.get(o,s)*e.get(r,o))}return i}get zzU1(){let t=this.LU;if(!t.zzH())throw new Error();let e=this.zzm2,r=t.zzj2;for(let s=0;s<r;s++)e*=t.get(s,s);return e}get zzV1(){let t=this.LU,e=t.zzk2,r=t.zzj2,s=new x(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o>e?s.set(o,e,t.get(o,e)):o===e?s.set(o,e,1):s.set(o,e,0);return s}get zzW1(){let t=this.LU,e=t.zzk2,r=t.zzj2,s=new x(e,r);for(let o=0;o<e;o++)for(let e=0;e<r;e++)o<=e?s.set(o,e,t.get(o,e)):s.set(o,e,0);return s}get zzX1(){return Array.from(this.pivotVector)}}function T(t,e){let r=0;return Math.abs(t)>Math.abs(e)?(r=e/t,Math.abs(t)*Math.sqrt(1+r*r)):0!==e?(r=t/e,Math.abs(e)*Math.sqrt(1+r*r)):0}class k{constructor(t){let e,r,s,o,n=(t=E.zzL1(t)).clone(),i=t.zzk2,h=t.zzj2,u=new Float64Array(h);for(s=0;s<h;s++){let t=0;for(e=s;e<i;e++)t=T(t,n.get(e,s));if(0!==t){for(n.get(s,s)<0&&(t=-t),e=s;e<i;e++)n.set(e,s,n.get(e,s)/t);for(n.set(s,s,n.get(s,s)+1),r=s+1;r<h;r++){for(o=0,e=s;e<i;e++)o+=n.get(e,s)*n.get(e,r);for(o=-o/n.get(s,s),e=s;e<i;e++)n.set(e,r,n.get(e,r)+o*n.get(e,s))}}u[s]=-t}this.QR=n,this.Rzzo=u}solve(t){t=x.zzL1(t);let e=this.QR,r=e.zzk2;if(t.zzk2!==r)throw new Error();if(!this.zzY1())throw new Error();let s,o,n,i,h=t.zzj2,u=t.clone(),a=e.zzj2;for(n=0;n<a;n++)for(o=0;o<h;o++){for(i=0,s=n;s<r;s++)i+=e.get(s,n)*u.get(s,o);for(i=-i/e.get(n,n),s=n;s<r;s++)u.set(s,o,u.get(s,o)+i*e.get(s,n))}for(n=a-1;n>=0;n--){for(o=0;o<h;o++)u.set(n,o,u.get(n,o)/this.Rzzo[n]);for(s=0;s<n;s++)for(o=0;o<h;o++)u.set(s,o,u.get(s,o)-u.get(n,o)*e.get(s,n))}return u.zz31(0,a-1,0,h-1)}zzY1(){let t=this.QR.zzj2;for(let e=0;e<t;e++)if(0===this.Rzzo[e])return!1;return!0}get zzW1(){let t,e,r=this.QR,s=r.zzj2,o=new x(s,s);for(t=0;t<s;t++)for(e=0;e<s;e++)t<e?o.set(t,e,r.get(t,e)):t===e?o.set(t,e,this.Rzzo[t]):o.set(t,e,0);return o}get zzZ1(){let t,e,r,s,o=this.QR,n=o.zzk2,i=o.zzj2,h=new x(n,i);for(r=i-1;r>=0;r--){for(t=0;t<n;t++)h.set(t,r,0);for(h.set(r,r,1),e=r;e<i;e++)if(0!==o.get(r,r)){for(s=0,t=r;t<n;t++)s+=o.get(t,r)*h.get(t,e);for(s=-s/o.get(r,r),t=r;t<n;t++)h.set(t,e,h.get(t,e)+s*o.get(t,r))}}return h}}class C{constructor(t,e={}){let r=(t=E.zzL1(t)).zzk2,s=t.zzj2;const{computeLeftSingularVectors:o=!0,zzZ2:n=!0,zz43:i=!1}=e;let h,u=Boolean(o),a=Boolean(n),l=!1;if(r<s)if(i){r=(h=t.zz01()).zzk2,s=h.zzj2,l=!0;let e=u;u=a,a=e}else h=t.clone(),1;else h=t.clone();let f=Math.min(r,s),c=Math.min(r+1,s),m=new Float64Array(c),g=new x(r,f),w=new x(s,s),p=new Float64Array(s),d=new Float64Array(r),y=new Float64Array(c);for(let t=0;t<c;t++)y[t]=t;let M=Math.min(r-1,s),b=Math.max(0,Math.min(s-2,r)),v=Math.max(M,b);for(let t=0;t<v;t++){if(t<M){m[t]=0;for(let e=t;e<r;e++)m[t]=T(m[t],h.get(e,t));if(0!==m[t]){h.get(t,t)<0&&(m[t]=-m[t]);for(let e=t;e<r;e++)h.set(e,t,h.get(e,t)/m[t]);h.set(t,t,h.get(t,t)+1)}m[t]=-m[t]}for(let e=t+1;e<s;e++){if(t<M&&0!==m[t]){let s=0;for(let o=t;o<r;o++)s+=h.get(o,t)*h.get(o,e);s=-s/h.get(t,t);for(let o=t;o<r;o++)h.set(o,e,h.get(o,e)+s*h.get(o,t))}p[e]=h.get(t,e)}if(u&&t<M)for(let e=t;e<r;e++)g.set(e,t,h.get(e,t));if(t<b){p[t]=0;for(let e=t+1;e<s;e++)p[t]=T(p[t],p[e]);if(0!==p[t]){p[t+1]<0&&(p[t]=0-p[t]);for(let e=t+1;e<s;e++)p[e]/=p[t];p[t+1]+=1}if(p[t]=-p[t],t+1<r&&0!==p[t]){for(let e=t+1;e<r;e++)d[e]=0;for(let e=t+1;e<r;e++)for(let r=t+1;r<s;r++)d[e]+=p[r]*h.get(e,r);for(let e=t+1;e<s;e++){let s=-p[e]/p[t+1];for(let o=t+1;o<r;o++)h.set(o,e,h.get(o,e)+s*d[o])}}if(a)for(let e=t+1;e<s;e++)w.set(e,t,p[e])}}let S=Math.min(s,r+1);if(M<s&&(m[M]=h.get(M,M)),r<S&&(m[S-1]=0),b+1<S&&(p[b]=h.get(b,S-1)),p[S-1]=0,u){for(let t=M;t<f;t++){for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}for(let t=M-1;t>=0;t--)if(0!==m[t]){for(let e=t+1;e<f;e++){let s=0;for(let o=t;o<r;o++)s+=g.get(o,t)*g.get(o,e);s=-s/g.get(t,t);for(let o=t;o<r;o++)g.set(o,e,g.get(o,e)+s*g.get(o,t))}for(let e=t;e<r;e++)g.set(e,t,-g.get(e,t));g.set(t,t,1+g.get(t,t));for(let e=0;e<t-1;e++)g.set(e,t,0)}else{for(let e=0;e<r;e++)g.set(e,t,0);g.set(t,t,1)}}if(a)for(let t=s-1;t>=0;t--){if(t<b&&0!==p[t])for(let e=t+1;e<s;e++){let r=0;for(let o=t+1;o<s;o++)r+=w.get(o,t)*w.get(o,e);r=-r/w.get(t+1,t);for(let o=t+1;o<s;o++)w.set(o,e,w.get(o,e)+r*w.get(o,t))}for(let e=0;e<s;e++)w.set(e,t,0);w.set(t,t,1)}let R=S-1,A=Number.EPSILON;for(;S>0;){let t,e;for(t=S-2;t>=-1&&-1!==t;t--){const e=Number.MIN_VALUE+A*Math.abs(m[t]+Math.abs(m[t+1]));if(Math.abs(p[t])<=e||Number.isNaN(p[t])){p[t]=0;break}}if(t===S-2)e=4;else{let r;for(r=S-1;r>=t&&r!==t;r--){let e=(r!==S?Math.abs(p[r]):0)+(r!==t+1?Math.abs(p[r-1]):0);if(Math.abs(m[r])<=A*e){m[r]=0;break}}r===t?e=3:r===S-1?e=1:(e=2,t=r)}switch(t++,e){case 1:{let e=p[S-2];p[S-2]=0;for(let r=S-2;r>=t;r--){let o=T(m[r],e),n=m[r]/o,i=e/o;if(m[r]=o,r!==t&&(e=-i*p[r-1],p[r-1]=n*p[r-1]),a)for(let t=0;t<s;t++)o=n*w.get(t,r)+i*w.get(t,S-1),w.set(t,S-1,-i*w.get(t,r)+n*w.get(t,S-1)),w.set(t,r,o)}break}case 2:{let e=p[t-1];p[t-1]=0;for(let s=t;s<S;s++){let o=T(m[s],e),n=m[s]/o,i=e/o;if(m[s]=o,e=-i*p[s],p[s]=n*p[s],u)for(let e=0;e<r;e++)o=n*g.get(e,s)+i*g.get(e,t-1),g.set(e,t-1,-i*g.get(e,s)+n*g.get(e,t-1)),g.set(e,s,o)}break}case 3:{const e=Math.max(Math.abs(m[S-1]),Math.abs(m[S-2]),Math.abs(p[S-2]),Math.abs(m[t]),Math.abs(p[t])),o=m[S-1]/e,n=m[S-2]/e,i=p[S-2]/e,h=m[t]/e,l=p[t]/e,f=((n+o)*(n-o)+i*i)/2,c=o*i*(o*i);let d=0;0===f&&0===c||(d=c/(f+(d=f<0?0-Math.sqrt(f*f+c):Math.sqrt(f*f+c))));let y=(h+o)*(h-o)+d,M=h*l;for(let e=t;e<S-1;e++){let o=T(y,M);0===o&&(o=Number.MIN_VALUE);let n=y/o,i=M/o;if(e!==t&&(p[e-1]=o),y=n*m[e]+i*p[e],p[e]=n*p[e]-i*m[e],M=i*m[e+1],m[e+1]=n*m[e+1],a)for(let t=0;t<s;t++)o=n*w.get(t,e)+i*w.get(t,e+1),w.set(t,e+1,-i*w.get(t,e)+n*w.get(t,e+1)),w.set(t,e,o);if(0===(o=T(y,M))&&(o=Number.MIN_VALUE),n=y/o,i=M/o,m[e]=o,y=n*p[e]+i*m[e+1],m[e+1]=-i*p[e]+n*m[e+1],M=i*p[e+1],p[e+1]=n*p[e+1],u&&e<r-1)for(let t=0;t<r;t++)o=n*g.get(t,e)+i*g.get(t,e+1),g.set(t,e+1,-i*g.get(t,e)+n*g.get(t,e+1)),g.set(t,e,o)}p[S-2]=y;break}case 4:if(m[t]<=0&&(m[t]=m[t]<0?-m[t]:0,a))for(let e=0;e<=R;e++)w.set(e,t,-w.get(e,t));for(;t<R&&!(m[t]>=m[t+1]);){let e=m[t];if(m[t]=m[t+1],m[t+1]=e,a&&t<s-1)for(let r=0;r<s;r++)e=w.get(r,t+1),w.set(r,t+1,w.get(r,t)),w.set(r,t,e);if(u&&t<r-1)for(let s=0;s<r;s++)e=g.get(s,t+1),g.set(s,t+1,g.get(s,t)),g.set(s,t,e);t++}S--}}if(l){let t=w;w=g,g=t}this.m=r,this.n=s,this.s=m,this.U=g,this.V=w}solve(t){let e=t,r=this.zzf1,s=this.s.length,o=x.zzG1(s,s);for(let t=0;t<s;t++)Math.abs(this.s[t])<=r?o.set(t,t,0):o.set(t,t,1/this.s[t]);let n=this.U,i=this.zzh1,h=i.zzr(o),u=i.zzk2,a=n.zzk2,l=x.zzG1(u,a);for(let t=0;t<u;t++)for(let e=0;e<a;e++){let r=0;for(let o=0;o<s;o++)r+=h.get(t,o)*n.get(e,o);l.set(t,e,r)}return l.zzr(e)}zza1(t){return this.solve(x.zzo(t))}inverse(){let t=this.V,e=this.zzf1,r=t.zzk2,s=t.zzj2,o=new x(r,this.s.length);for(let n=0;n<r;n++)for(let r=0;r<s;r++)Math.abs(this.s[r])>e&&o.set(n,r,t.get(n,r)/this.s[r]);let n=this.U,i=n.zzk2,h=n.zzj2,u=new x(r,i);for(let t=0;t<r;t++)for(let e=0;e<i;e++){let r=0;for(let s=0;s<h;s++)r+=o.get(t,s)*n.get(e,s);u.set(t,e,r)}return u}get zzb1(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get zzp2(){return this.s[0]}get zzd1(){let t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,e=0,r=this.s;for(let s=0,o=r.length;s<o;s++)r[s]>t&&e++;return e}get zzoonal(){return Array.from(this.s)}get zzf1(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get zzg1(){return this.U}get zzh1(){return this.V}get zzoonalMatrix(){return x.zzo(this.s)}}function D(t,e,r=!1){return t=E.zzL1(t),e=E.zzL1(e),r?new C(t).solve(e):t.zzH()?new A(t).solve(e):new k(t).solve(e)}function V(t,e){let r=[];for(let s=0;s<t;s++)s!==e&&r.push(s);return r}function I(t,e,r,s=1e-9,o=1e-9){if(t>o)return new Array(e.zzk2+1).zzL(0);{let t=e.zzO1(r,[0]);for(let e=0;e<t.zzk2;e++)Math.abs(t.get(e,0))<s&&t.set(e,0,0);return t.zzC()}}class N{constructor(t,e={}){const{zzb3:r=!1}=e;if(!(t=E.zzL1(t)).zzH())throw new Error();let s,o,n=t.zzj2,i=new x(n,n),h=new Float64Array(n),u=new Float64Array(n),a=t,l=!1;if(l=!!r||t.zzI()){for(s=0;s<n;s++)for(o=0;o<n;o++)i.set(s,o,a.get(s,o));!function(t,e,r,s){let o,n,i,h,u,a,l,f;for(u=0;u<t;u++)r[u]=s.get(t-1,u);for(h=t-1;h>0;h--){for(f=0,i=0,a=0;a<h;a++)f+=Math.abs(r[a]);if(0===f)for(e[h]=r[h-1],u=0;u<h;u++)r[u]=s.get(h-1,u),s.set(h,u,0),s.set(u,h,0);else{for(a=0;a<h;a++)r[a]/=f,i+=r[a]*r[a];for(o=r[h-1],n=Math.sqrt(i),o>0&&(n=-n),e[h]=f*n,i-=o*n,r[h-1]=o-n,u=0;u<h;u++)e[u]=0;for(u=0;u<h;u++){for(o=r[u],s.set(u,h,o),n=e[u]+s.get(u,u)*o,a=u+1;a<=h-1;a++)n+=s.get(a,u)*r[a],e[a]+=s.get(a,u)*o;e[u]=n}for(o=0,u=0;u<h;u++)e[u]/=i,o+=e[u]*r[u];for(l=o/(i+i),u=0;u<h;u++)e[u]-=l*r[u];for(u=0;u<h;u++){for(o=r[u],n=e[u],a=u;a<=h-1;a++)s.set(a,u,s.get(a,u)-(o*e[a]+n*r[a]));r[u]=s.get(h-1,u),s.set(h,u,0)}}r[h]=i}for(h=0;h<t-1;h++){if(s.set(t-1,h,s.get(h,h)),s.set(h,h,1),0!==(i=r[h+1])){for(a=0;a<=h;a++)r[a]=s.get(a,h+1)/i;for(u=0;u<=h;u++){for(n=0,a=0;a<=h;a++)n+=s.get(a,h+1)*s.get(a,u);for(a=0;a<=h;a++)s.set(a,u,s.get(a,u)-n*r[a])}}for(a=0;a<=h;a++)s.set(a,h+1,0)}for(u=0;u<t;u++)r[u]=s.get(t-1,u),s.set(t-1,u,0);s.set(t-1,t-1,1),e[0]=0}(n,u,h,i),function(t,e,r,s){let o,n,i,h,u,a,l,f,c,m,g,w,p,d,y,M;for(i=1;i<t;i++)e[i-1]=e[i];e[t-1]=0;let b=0,x=0,v=Number.EPSILON;for(a=0;a<t;a++){for(x=Math.max(x,Math.abs(r[a])+Math.abs(e[a])),l=a;l<t&&!(Math.abs(e[l])<=v*x);)l++;if(l>a)do{for(o=r[a],f=(r[a+1]-o)/(2*e[a]),c=T(f,1),f<0&&(c=-c),r[a]=e[a]/(f+c),r[a+1]=e[a]*(f+c),m=r[a+1],n=o-r[a],i=a+2;i<t;i++)r[i]-=n;for(b+=n,f=r[l],w=g=1,p=g,d=e[a+1],y=0,M=0,i=l-1;i>=a;i--)for(p=w,w=g,M=y,o=g*e[i],n=g*f,c=T(f,e[i]),e[i+1]=y*c,y=e[i]/c,f=(g=f/c)*r[i]-y*o,r[i+1]=n+y*(g*o+y*r[i]),u=0;u<t;u++)n=s.get(u,i+1),s.set(u,i+1,y*s.get(u,i)+g*n),s.set(u,i,g*s.get(u,i)-y*n);f=-y*M*p*d*e[a]/m,e[a]=y*f,r[a]=g*f}while(Math.abs(e[a])>v*x);r[a]=r[a]+b,e[a]=0}for(i=0;i<t-1;i++){for(u=i,f=r[i],h=i+1;h<t;h++)r[h]<f&&(u=h,f=r[h]);if(u!==i)for(r[u]=r[i],r[i]=f,h=0;h<t;h++)f=s.get(h,i),s.set(h,i,s.get(h,u)),s.set(h,u,f)}}(n,u,h,i)}else{let t=new x(n,n),e=new Float64Array(n);for(o=0;o<n;o++)for(s=0;s<n;s++)t.set(s,o,a.get(s,o));!function(t,e,r,s){let o,n,i,h,u,a,l,f=t-1;for(a=1;a<=f-1;a++){for(l=0,h=a;h<=f;h++)l+=Math.abs(e.get(h,a-1));if(0!==l){for(i=0,h=f;h>=a;h--)r[h]=e.get(h,a-1)/l,i+=r[h]*r[h];for(n=Math.sqrt(i),r[a]>0&&(n=-n),i-=r[a]*n,r[a]=r[a]-n,u=a;u<t;u++){for(o=0,h=f;h>=a;h--)o+=r[h]*e.get(h,u);for(o/=i,h=a;h<=f;h++)e.set(h,u,e.get(h,u)-o*r[h])}for(h=0;h<=f;h++){for(o=0,u=f;u>=a;u--)o+=r[u]*e.get(h,u);for(o/=i,u=a;u<=f;u++)e.set(h,u,e.get(h,u)-o*r[u])}r[a]=l*r[a],e.set(a,a-1,l*n)}}for(h=0;h<t;h++)for(u=0;u<t;u++)s.set(h,u,h===u?1:0);for(a=f-1;a>=1;a--)if(0!==e.get(a,a-1)){for(h=a+1;h<=f;h++)r[h]=e.get(h,a-1);for(u=a;u<=f;u++){for(n=0,h=a;h<=f;h++)n+=r[h]*s.get(h,u);for(n=n/r[a]/e.get(a,a-1),h=a;h<=f;h++)s.set(h,u,s.get(h,u)+n*r[h])}}}(n,t,e,i),function(t,e,r,s,o){let n,i,h,u,a,l,f,c,m,g,w,p,d,y,M,b=t-1,x=t-1,v=Number.EPSILON,S=0,R=0,E=0,A=0,T=0,k=0,C=0,D=0;for(n=0;n<t;n++)for((n<0||n>x)&&(r[n]=o.get(n,n),e[n]=0),i=Math.max(n-1,0);i<t;i++)R+=Math.abs(o.get(n,i));for(;b>=0;){for(u=b;u>0&&(0===(k=Math.abs(o.get(u-1,u-1))+Math.abs(o.get(u,u)))&&(k=R),!(Math.abs(o.get(u,u-1))<v*k));)u--;if(u===b)o.set(b,b,o.get(b,b)+S),r[b]=o.get(b,b),e[b]=0,b--,D=0;else if(u===b-1){if(f=o.get(b,b-1)*o.get(b-1,b),E=(o.get(b-1,b-1)-o.get(b,b))/2,A=E*E+f,C=Math.sqrt(Math.abs(A)),o.set(b,b,o.get(b,b)+S),o.set(b-1,b-1,o.get(b-1,b-1)+S),c=o.get(b,b),A>=0){for(C=E>=0?E+C:E-C,r[b-1]=c+C,r[b]=r[b-1],0!==C&&(r[b]=c-f/C),e[b-1]=0,e[b]=0,c=o.get(b,b-1),k=Math.abs(c)+Math.abs(C),E=c/k,A=C/k,T=Math.sqrt(E*E+A*A),E/=T,A/=T,i=b-1;i<t;i++)C=o.get(b-1,i),o.set(b-1,i,A*C+E*o.get(b,i)),o.set(b,i,A*o.get(b,i)-E*C);for(n=0;n<=b;n++)C=o.get(n,b-1),o.set(n,b-1,A*C+E*o.get(n,b)),o.set(n,b,A*o.get(n,b)-E*C);for(n=0;n<=x;n++)C=s.get(n,b-1),s.set(n,b-1,A*C+E*s.get(n,b)),s.set(n,b,A*s.get(n,b)-E*C)}else r[b-1]=c+E,r[b]=c+E,e[b-1]=C,e[b]=-C;b-=2,D=0}else{if(c=o.get(b,b),m=0,f=0,u<b&&(m=o.get(b-1,b-1),f=o.get(b,b-1)*o.get(b-1,b)),10===D){for(S+=c,n=0;n<=b;n++)o.set(n,n,o.get(n,n)-c);k=Math.abs(o.get(b,b-1))+Math.abs(o.get(b-1,b-2)),c=m=.75*k,f=-.4375*k*k}if(30===D&&(k=(k=(m-c)/2)*k+f)>0){for(k=Math.sqrt(k),m<c&&(k=-k),k=c-f/((m-c)/2+k),n=0;n<=b;n++)o.set(n,n,o.get(n,n)-k);S+=k,c=m=f=.964}for(D+=1,a=b-2;a>=u&&(C=o.get(a,a),E=((T=c-C)*(k=m-C)-f)/o.get(a+1,a)+o.get(a,a+1),A=o.get(a+1,a+1)-C-T-k,T=o.get(a+2,a+1),k=Math.abs(E)+Math.abs(A)+Math.abs(T),E/=k,A/=k,T/=k,a!==u)&&!(Math.abs(o.get(a,a-1))*(Math.abs(A)+Math.abs(T))<v*(Math.abs(E)*(Math.abs(o.get(a-1,a-1))+Math.abs(C)+Math.abs(o.get(a+1,a+1)))));)a--;for(n=a+2;n<=b;n++)o.set(n,n-2,0),n>a+2&&o.set(n,n-3,0);for(h=a;h<=b-1&&(y=h!==b-1,h!==a&&(E=o.get(h,h-1),A=o.get(h+1,h-1),T=y?o.get(h+2,h-1):0,0!==(c=Math.abs(E)+Math.abs(A)+Math.abs(T))&&(E/=c,A/=c,T/=c)),0!==c);h++)if(k=Math.sqrt(E*E+A*A+T*T),E<0&&(k=-k),0!==k){for(h!==a?o.set(h,h-1,-k*c):u!==a&&o.set(h,h-1,-o.get(h,h-1)),c=(E+=k)/k,m=A/k,C=T/k,A/=E,T/=E,i=h;i<t;i++)E=o.get(h,i)+A*o.get(h+1,i),y&&(E+=T*o.get(h+2,i),o.set(h+2,i,o.get(h+2,i)-E*C)),o.set(h,i,o.get(h,i)-E*c),o.set(h+1,i,o.get(h+1,i)-E*m);for(n=0;n<=Math.min(b,h+3);n++)E=c*o.get(n,h)+m*o.get(n,h+1),y&&(E+=C*o.get(n,h+2),o.set(n,h+2,o.get(n,h+2)-E*T)),o.set(n,h,o.get(n,h)-E),o.set(n,h+1,o.get(n,h+1)-E*A);for(n=0;n<=x;n++)E=c*s.get(n,h)+m*s.get(n,h+1),y&&(E+=C*s.get(n,h+2),s.set(n,h+2,s.get(n,h+2)-E*T)),s.set(n,h,s.get(n,h)-E),s.set(n,h+1,s.get(n,h+1)-E*A)}}}if(0===R)return;for(b=t-1;b>=0;b--)if(E=r[b],0===(A=e[b]))for(u=b,o.set(b,b,1),n=b-1;n>=0;n--){for(f=o.get(n,n)-E,T=0,i=u;i<=b;i++)T+=o.get(n,i)*o.get(i,b);if(e[n]<0)C=f,k=T;else if(u=n,0===e[n]?o.set(n,b,0!==f?-T/f:-T/(v*R)):(c=o.get(n,n+1),m=o.get(n+1,n),A=(r[n]-E)*(r[n]-E)+e[n]*e[n],l=(c*k-C*T)/A,o.set(n,b,l),o.set(n+1,b,Math.abs(c)>Math.abs(C)?(-T-f*l)/c:(-k-m*l)/C)),l=Math.abs(o.get(n,b)),v*l*l>1)for(i=n;i<=b;i++)o.set(i,b,o.get(i,b)/l)}else if(A<0)for(u=b-1,Math.abs(o.get(b,b-1))>Math.abs(o.get(b-1,b))?(o.set(b-1,b-1,A/o.get(b,b-1)),o.set(b-1,b,-(o.get(b,b)-E)/o.get(b,b-1))):(M=F(0,-o.get(b-1,b),o.get(b-1,b-1)-E,A),o.set(b-1,b-1,M[0]),o.set(b-1,b,M[1])),o.set(b,b-1,0),o.set(b,b,1),n=b-2;n>=0;n--){for(g=0,w=0,i=u;i<=b;i++)g+=o.get(n,i)*o.get(i,b-1),w+=o.get(n,i)*o.get(i,b);if(f=o.get(n,n)-E,e[n]<0)C=f,T=g,k=w;else if(u=n,0===e[n]?(M=F(-g,-w,f,A),o.set(n,b-1,M[0]),o.set(n,b,M[1])):(c=o.get(n,n+1),m=o.get(n+1,n),p=(r[n]-E)*(r[n]-E)+e[n]*e[n]-A*A,d=2*(r[n]-E)*A,0===p&&0===d&&(p=v*R*(Math.abs(f)+Math.abs(A)+Math.abs(c)+Math.abs(m)+Math.abs(C))),M=F(c*T-C*g+A*w,c*k-C*w-A*g,p,d),o.set(n,b-1,M[0]),o.set(n,b,M[1]),Math.abs(c)>Math.abs(C)+Math.abs(A)?(o.set(n+1,b-1,(-g-f*o.get(n,b-1)+A*o.get(n,b))/c),o.set(n+1,b,(-w-f*o.get(n,b)-A*o.get(n,b-1))/c)):(M=F(-T-m*o.get(n,b-1),-k-m*o.get(n,b),C,A),o.set(n+1,b-1,M[0]),o.set(n+1,b,M[1]))),l=Math.max(Math.abs(o.get(n,b-1)),Math.abs(o.get(n,b))),v*l*l>1)for(i=n;i<=b;i++)o.set(i,b-1,o.get(i,b-1)/l),o.set(i,b,o.get(i,b)/l)}for(n=0;n<t;n++)if(n<0||n>x)for(i=n;i<t;i++)s.set(n,i,o.get(n,i));for(i=t-1;i>=0;i--)for(n=0;n<=x;n++){for(C=0,h=0;h<=Math.min(i,x);h++)C+=s.get(n,h)*o.get(h,i);s.set(n,i,C)}}(n,u,h,i,t)}this.n=n,this.e=u,this.d=h,this.V=i}get zzX2(){return Array.from(this.d)}get zzU2(){return Array.from(this.e)}get zzc3rMatrix(){return this.V}get zzoonalMatrix(){let t,e,r=this.n,s=this.e,o=this.d,n=new x(r,r);for(t=0;t<r;t++){for(e=0;e<r;e++)n.set(t,e,0);n.set(t,t,o[t]),s[t]>0?n.set(t,t+1,s[t]):s[t]<0&&n.set(t,t-1,s[t])}return n}}function F(t,e,r,s){let o,n;return Math.abs(r)>Math.abs(s)?[(t+(o=s/r)*e)/(n=r+o*s),(e-o*t)/n]:[((o=r/s)*t+e)/(n=s+o*r),(o*e-t)/n]}class q{constructor(t){if(!(t=E.zzL1(t)).zzI())throw new Error();let e,r,s,o=t,n=o.zzk2,i=new x(n,n),h=!0;for(r=0;r<n;r++){let t=0;for(s=0;s<r;s++){let n=0;for(e=0;e<s;e++)n+=i.get(s,e)*i.get(r,e);n=(o.get(r,s)-n)/i.get(s,s),i.set(r,s,n),t+=n*n}for(h&=(t=o.get(r,r)-t)>0,i.set(r,r,Math.sqrt(Math.max(t,0))),s=r+1;s<n;s++)i.set(r,s,0)}this.L=i,this.positiveDefinite=Boolean(h)}isPositiveDefinite(){return this.positiveDefinite}solve(t){t=E.zzL1(t);let e=this.L,r=e.zzk2;if(t.zzk2!==r)throw new Error();if(!1===this.isPositiveDefinite())throw new Error();let s,o,n,i=t.zzj2,h=t.clone();for(n=0;n<r;n++)for(o=0;o<i;o++){for(s=0;s<n;s++)h.set(n,o,h.get(n,o)-h.get(s,o)*e.get(n,s));h.set(n,o,h.get(n,o)/e.get(n,n))}for(n=r-1;n>=0;n--)for(o=0;o<i;o++){for(s=n+1;s<r;s++)h.set(n,o,h.get(n,o)-h.get(s,o)*e.get(s,n));h.set(n,o,h.get(n,o)/e.get(n,n))}return h}get zzV1(){return this.L}}class O{constructor(t,e={}){t=E.zzL1(t);let{Y:r}=e;const{scaleScores:s=!1,maxIterations:o=1e3,terminationCriteria:n=1e-10}=e;let i;if(r){if(!(r=Array.isArray(r)&&"number"==typeof r[0]?x.zzF1(r):E.zzL1(r)).zzF()||r.zzk2!==t.zzk2)throw new Error();i=r}else i=t.zzQVector(0);let h,u,a,l,f=1;for(let e=0;e<o&&f>n;e++)a=(a=t.zz01().zzr(i).div(i.zz01().zzr(i).get(0,0))).div(a.zzp()),h=t.zzr(a).div(a.zz01().zzr(a).get(0,0)),e>0&&(f=h.clone().sub(l).pow(2).sum()),l=h.clone(),r?(u=(u=r.zz01().zzr(h).div(h.zz01().zzr(h).get(0,0))).div(u.zzp()),i=r.zzr(u).div(u.zz01().zzr(u).get(0,0))):i=h;if(r){let e=t.zz01().zzr(h).div(h.zz01().zzr(h).get(0,0));e=e.div(e.zzp());let s=t.clone().sub(h.clone().zzr(e.zz01())),o=i.zz01().zzr(h).div(h.zz01().zzr(h).get(0,0)),n=r.clone().sub(h.clone().mulS(o.get(0,0)).zzr(u.zz01()));this.t=h,this.p=e.zz01(),this.w=a.zz01(),this.q=u,this.u=i,this.s=h.zz01().zzr(h),this.xResidual=s,this.yResidual=n,this.betas=o}else this.w=a.zz01(),this.s=h.zz01().zzr(h).sqrt(),this.t=s?h.clone().div(this.s.get(0,0)):h,this.xResidual=t.sub(h.zzr(a.zz01()))}}r.zz4=M,r.CHO=q,r.zzW2=q,r.EVD=N,r.zzY2=N,r.LU=A,r.zzd3=A,r.Matrix=x,r.MatrixzzD3=class extends v{constructor(t,e){e=w(t,e),super(t,t.zzk2,e.length),this.zzl2=e}set(t,e,r){return this.matrix.set(t,this.zzl2[e],r),this}get(t,e){return this.matrix.get(t,this.zzl2[e])}},r.zzh3=class extends v{constructor(t,e){l(t,e),super(t,t.zzk2,1),this.zz23=e}set(t,e,r){return this.matrix.set(t,this.zz23,r),this}get(t){return this.matrix.get(t,this.zz23)}},r.MatrixzzH3=class extends v{constructor(t){super(t,t.zzk2,t.zzj2)}set(t,e,r){return this.matrix.set(t,this.zzj2-e-1,r),this}get(t,e){return this.matrix.get(t,this.zzj2-e-1)}},r.MatrixFlipzzF3=class extends v{constructor(t){super(t,t.zzk2,t.zzj2)}set(t,e,r){return this.matrix.set(this.zzk2-t-1,e,r),this}get(t,e){return this.matrix.get(this.zzk2-t-1,e)}},r.MatrixzzE3=class extends v{constructor(t,e){super(t,(e=g(t,e)).length,t.zzj2),this.rowIndices=e}set(t,e,r){return this.matrix.set(this.rowIndices[t],e,r),this}get(t,e){return this.matrix.get(this.rowIndices[t],e)}},r.MatrixzzF3=class extends v{constructor(t,e){a(t,e),super(t,1,t.zzj2),this.row=e}set(t,e,r){return this.matrix.set(this.row,e,r),this}get(t,e){return this.matrix.get(this.row,e)}},r.MatrixSelectionView=S,r.MatrixzzG3=class extends v{constructor(t,e,r,s,o){p(t,e,r,s,o),super(t,r-e+1,o-s+1),this.zz0=e,this.zz2=s}set(t,e,r){return this.matrix.set(this.zz0+t,this.zz2+e,r),this}get(t,e){return this.matrix.get(this.zz0+t,this.zz2+e)}},r.MatrixzzC3=class extends v{constructor(t){super(t,t.zzj2,t.zzk2)}set(t,e,r){return this.matrix.set(e,t,r),this}get(t,e){return this.matrix.get(e,t)}},r.NIPALS=O,r.Nipals=O,r.QR=k,r.zzT2=k,r.zzA=C,r.zz9=C,r.zz6=R,r.zz7=E,r.correlation=function(t,e=t,r={}){t=new x(t);let s=!1;if("object"!=typeof e||x.zzM1(e)||Array.isArray(e)?e=new x(e):(r=e,e=t,s=!0),t.zzk2!==e.zzk2)throw new Error();const{center:o=!0,scale:n=!0}=r;o&&(t.center("zz23"),s||e.center("zz23")),n&&(t.scale("zz23"),s||e.scale("zz23"));const i=t.zzB1("zz23",{unbiased:!0}),h=s?i:e.zzB1("zz23",{unbiased:!0}),u=t.zz01().zzr(e);for(let e=0;e<u.zzk2;e++)for(let r=0;r<u.zzj2;r++)u.set(e,r,u.get(e,r)*(1/(i[e]*h[r]))*(1/(t.zzk2-1)));return u},r.cozzA1=function(t,e=t,r={}){t=new x(t);let s=!1;if("object"!=typeof e||x.zzM1(e)||Array.isArray(e)?e=new x(e):(r=e,e=t,s=!0),t.zzk2!==e.zzk2)throw new Error();const{center:o=!0}=r;o&&(t=t.center("zz23"),s||(e=e.center("zz23")));const n=t.zz01().zzr(e);for(let e=0;e<n.zzk2;e++)for(let r=0;r<n.zzj2;r++)n.set(e,r,n.get(e,r)*(1/(t.zzk2-1)));return n},r.default=x,r.zzU1=function t(e){if((e=x.zzL1(e)).zzH()){let r,s,o,n;if(2===e.zzj2)return r=e.get(0,0),s=e.get(0,1),o=e.get(1,0),r*(n=e.get(1,1))-s*o;if(3===e.zzj2){let n,i,h;return n=new S(e,[1,2],[1,2]),i=new S(e,[1,2],[0,2]),h=new S(e,[1,2],[0,1]),r=e.get(0,0),s=e.get(0,1),o=e.get(0,2),r*t(n)-s*t(i)+o*t(h)}return new A(e).zzU1}throw new Error()},r.inverse=function(t,e=!1){return t=E.zzL1(t),e?new C(t).inverse():D(t,x.zzJ1(t.zzk2))},r.zza3=function(t,e={}){const{zzf1Value:r=1e-9,zzf1Error:s=1e-9}=e;let o=(t=x.zzL1(t)).zzk2,n=new x(o,o);for(let e=0;e<o;e++){let i=x.zzF1(t.zzM(e)),h=t.zz31Row(V(o,e)).zz01(),u=new C(h).solve(i),a=x.sub(i,h.zzr(u)).abs().max();n.zzO(e,I(a,u,e,r,s))}return n},r.zz8=function(t,e=Number.EPSILON){t=x.zzL1(t);let r=new C(t,{zz43:!0}),s=r.zzg1,o=r.zzh1,n=r.zzoonal;for(let t=0;t<n.length;t++)Math.abs(n[t])>e?n[t]=1/n[t]:n[t]=0;return o.zzr(x.zzo(n).zzr(s.zz01()))},r.solve=D,r.zz5=function(t,e){if(Array.isArray(t))return t[0]&&Array.isArray(t[0])?new E(t):new R(t,e);throw new Error()}},{"zzM2":4}],6:[function(t,e,r){Object.defineProperty(r,"zzB",{value:!0}),r.default=r.zzZ3=void 0;var s=t("zzU3"),o=t("./lib/mathFuncs");function n(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}var i=function t(e){var r=e.shift();if(0===e.length)return new Float32Array(r);for(var s=Array(r),o=0;o<r;++o)s[o]=t(e.slice(0));return s},h=function(t,e){var r,s=t[0][0]+t[1][1]+t[2][2];s>0?(e[0]=t[1][2]-t[2][1],e[1]=t[2][0]-t[0][2],e[2]=t[0][1]-t[1][0],e[3]=s+1,r=e[3]):t[0][0]>t[1][1]&&t[0][0]>t[2][2]?(e[0]=1+t[0][0]-t[1][1]-t[2][2],e[1]=t[1][0]+t[0][1],e[2]=t[2][0]+t[0][2],e[3]=t[1][2]-t[2][1],r=e[0]):t[1][1]>t[2][2]?(e[0]=t[1][0]+t[0][1],e[1]=1+t[1][1]-t[0][0]-t[2][2],e[2]=t[2][1]+t[1][2],e[3]=t[2][0]-t[0][2],r=e[1]):(e[0]=t[2][0]+t[0][2],e[1]=t[2][1]+t[1][2],e[2]=1+t[2][2]-t[0][0]-t[1][1],e[3]=t[0][1]-t[1][0],r=e[2]);var n=.5/(0,o.SQRT)(r);e[0]*=n,e[1]*=n,e[2]*=n,e[3]*=n};r.zzZ3=h;var u=function(){function t(e){var r=e.cameraFocals,o=void 0===r?[1,1]:r,n=e.zz32,h=void 0===n?9:n;!function(t,e){if(!(t instanceof e))throw new Error()}(this,t),this.rMat=s.Matrix.zzJ1(3,3),this.tVec=[0,0,0],this.zyp14(o),this.zz32=h,this.zz42=new Float32Array,this.us=new Float32Array,this.zz52=new Float32Array,this.zz62=new Float32Array,this.zz72=0,this.zz82=0,this.zz92=s.Matrix.zzG1(4,3),this.zzA2=s.Matrix.zzG1(4,3),this.mem={dv:i([4,6,3]),v:new Uint8Array([11,10,9,8]),zzX3:i([3,4]),zzW3:new Float32Array(3),Rs:i([3,3,3]),ts:i([3,3]),CC:s.Matrix.zzG1(3,3),L6x4:s.Matrix.zzG1(6,4),L6x3:s.Matrix.zzG1(6,3),L6x5:s.Matrix.zzG1(6,5),A:s.Matrix.zzG1(6,4),B:s.Matrix.zzG1(6,1),zzG141:s.Matrix.zzG1(4,1),pc0:new Float32Array(3),pw0:new Float32Array(3),ABt:s.Matrix.zzG1(3,3),L6x10:s.Matrix.zzG1(6,10),zzY3:s.Matrix.zzG1(6,1)},this.zzB2={PW0:null,M:null},this.zzV3={zyp13:!1,R:null,t:null,repError:-1,q:new Float32Array(4)}}var e,r,u;return e=t,(r=[{key:"solve",value:function(t,e){this.zzV3.zyp13=!1;var r=t.length;if(r!==e.length||r<4)throw new Error();this.zzk1(r);for(var s=0;s<r;++s)this.zzl1(t[s],e[s],s);return this.zzj1(),this.zzV3}},{key:"zyp14",value:function(t){this.fu=t[0],this.fv=t[1]}},{key:"zzk1",value:function(t){this.zz82!==t&&(this.zzB2.PW0=s.Matrix.zzG1(t,3),this.zzB2.M=s.Matrix.zzG1(2*t,12),this.zz82=t),this.zz72<t&&(this.zz42=new Float32Array(3*t),this.us=new Float32Array(2*t),this.zz52=new Float32Array(4*t),this.zz62=new Float32Array(3*t),this.zz72=t)}},{key:"zzl1",value:function(t,e,r){var s=this.zz42,o=this.us;s[3*r]=t[0],s[3*r+1]=t[1],s[3*r+2]=t[2],o[2*r]=e[0],o[2*r+1]=e[1]}},{key:"zzm1",value:function(){var t=this.zz92,e=this.zz82,r=this.zz42,n=t.data,i=this.zzB2.PW0;n[0][0]=n[0][1]=n[0][2]=0;for(var h=0;h<e;++h)for(var u=0;u<3;++u)n[0][u]+=r[3*h+u];for(var a=0;a<3;++a)n[0][a]/=e;for(var l=0;l<e;++l)for(var f=0;f<3;++f)i.set(l,f,r[3*l+f]-n[0][f]);for(var c=i.zz01().zzr(i),m=new s.zz9(c,{zzZ2:!1}),g=m.U.zz01(),w=m.s,p=1;p<4;++p)for(var d=(0,o.SQRT)(w[p-1]/e),y=0;y<3;++y)n[p][y]=n[0][y]+d*g.get(p-1,y)}},{key:"zzn1",value:function(){for(var t=this.zz42,e=this.zz52,r=this.zz92,o=this.zz82,n=this.mem.CC,i=r.data,h=0;h<3;++h)for(var u=1;u<4;++u)n.set(h,u-1,i[u][h]-i[0][h]);for(var a=(0,s.inverse)(n,!0),l=0;l<o;++l){for(var f=3*l,c=4*l,m=0;m<3;++m)e[c+1+m]=a.get(m,0)*(t[f]-i[0][0])+a.get(m,1)*(t[f+1]-i[0][1])+a.get(m,2)*(t[f+2]-i[0][2]);e[c]=1-e[c+1]-e[c+2]-e[c+3]}}},{key:"zzLM",value:function(t,e,r,s,o){for(var n=this.zz52,i=this.fu,h=this.fv,u=0;u<4;++u){var a=n[r+u];t.set(e,3*u,a*i),t.set(e,3*u+1,0),t.set(e,3*u+2,-s*a),t.set(e+1,3*u,0),t.set(e+1,3*u+1,a*h),t.set(e+1,3*u+2,-o*a)}}},{key:"zzp1",value:function(t,e){for(var r=this.mem,s=r.dv,n=r.v,i=0;i<4;++i)for(var h=0,u=1,a=0;a<6;++a)s[i][a][0]=t.get(n[i],3*h)-t.get(n[i],3*u),s[i][a][1]=t.get(n[i],3*h+1)-t.get(n[i],3*u+1),s[i][a][2]=t.get(n[i],3*h+2)-t.get(n[i],3*u+2),++u>3&&(u=++h+1);for(var l=0;l<6;++l)e.set(l,0,(0,o.DOT)(s[0][l],s[0][l])),e.set(l,1,2*(0,o.DOT)(s[0][l],s[1][l])),e.set(l,2,(0,o.DOT)(s[1][l],s[1][l])),e.set(l,3,2*(0,o.DOT)(s[0][l],s[2][l])),e.set(l,4,2*(0,o.DOT)(s[1][l],s[2][l])),e.set(l,5,(0,o.DOT)(s[2][l],s[2][l])),e.set(l,6,2*(0,o.DOT)(s[0][l],s[3][l])),e.set(l,7,2*(0,o.DOT)(s[1][l],s[3][l])),e.set(l,8,2*(0,o.DOT)(s[2][l],s[3][l])),e.set(l,9,(0,o.DOT)(s[3][l],s[3][l]))}},{key:"zzq1",value:function(t){var e=this.zz92.data;t.set(0,0,(0,o.DIST2)(e[0],e[1])),t.set(1,0,(0,o.DIST2)(e[0],e[2])),t.set(2,0,(0,o.DIST2)(e[0],e[3])),t.set(3,0,(0,o.DIST2)(e[1],e[2])),t.set(4,0,(0,o.DIST2)(e[1],e[3])),t.set(5,0,(0,o.DIST2)(e[2],e[3]))}},{key:"zzr1",value:function(t,e,r){for(var n=this.mem.L6x4,i=0;i<6;++i)n.set(i,0,t.get(i,0)),n.set(i,1,t.get(i,1)),n.set(i,2,t.get(i,3)),n.set(i,3,t.get(i,6));var h=new s.solve(n,e,!0),u=(0,o.SIGN)(h.get(0,0));r[0]=(0,o.SQRT)(u*h.get(0,0)),r[1]=u*h.get(1,0)/r[0],r[2]=u*h.get(2,0)/r[0],r[3]=u*h.get(3,0)/r[0]}},{key:"zzs1",value:function(t,e,r){for(var n=this.mem.L6x3,i=0;i<6;++i)n.set(i,0,t.get(i,0)),n.set(i,1,t.get(i,1)),n.set(i,2,t.get(i,2));var h=new s.solve(n,e,!0),u=(0,o.SIGN)(h.get(0,0));r[0]=(0,o.SQRT)(u*h.get(0,0)),r[1]=u*h.get(2,0)>0?(0,o.SQRT)(u*h.get(2,0)):0,r[0]*=(0,o.SIGN)(h.get(1,0)),r[2]=0,r[3]=0}},{key:"zzt1",value:function(t,e,r){for(var n=this.mem.L6x5,i=0;i<6;++i)n.set(i,0,t.get(i,0)),n.set(i,1,t.get(i,1)),n.set(i,2,t.get(i,2)),n.set(i,3,t.get(i,3)),n.set(i,4,t.get(i,4));var h=new s.solve(n,e,!0),u=(0,o.SIGN)(h.get(0,0));r[0]=(0,o.SQRT)(u*h.get(0,0)),r[1]=u*h.get(2,0)>0?(0,o.SQRT)(u*h.get(2,0)):0,h.get(1,0)<0&&(r[0]*=-1),r[2]=h.get(3,0)/r[0],r[3]=0}},{key:"zzu1",value:function(t,e,r){for(var s=this.mem,o=s.A,n=s.B,i=0;i<this.zz32;++i){this.zzv1(t,e,r,o,n);for(var h=this.zzw1(o,n),u=0;u<4;++u)r[u]+=h.get(u,0)}}},{key:"zzv1",value:function(t,e,r,s,o){for(var n=0;n<6;++n){var i=t.data[n],h=s.data[n];h[0]=2*i[0]*r[0]+i[1]*r[1]+i[3]*r[2]+i[6]*r[3],h[1]=i[1]*r[0]+2*i[2]*r[1]+i[4]*r[2]+i[7]*r[3],h[2]=i[3]*r[0]+i[4]*r[1]+2*i[5]*r[2]+i[8]*r[3],h[3]=i[6]*r[0]+i[7]*r[1]+i[8]*r[2]+2*i[9]*r[3],o.set(n,0,e.get(n,0)-(i[0]*r[0]*r[0]+i[1]*r[0]*r[1]+i[2]*r[1]*r[1]+i[3]*r[0]*r[2]+i[4]*r[1]*r[2]+i[5]*r[2]*r[2]+i[6]*r[0]*r[3]+i[7]*r[1]*r[3]+i[8]*r[2]*r[3]+i[9]*r[3]*r[3]))}}},{key:"zzw1",value:function(t,e){var r=new s.zzT2(t);return r.zzY1()?r.solve(e):this.mem.zzG141}},{key:"zzx1",value:function(t,e){for(var r=this.zzA2.data,s=0;s<4;++s)r[s][0]=r[s][1]=r[s][2]=0;for(var o=0;o<4;++o)for(var n=0;n<4;++n)for(var i=0;i<3;++i)r[n][i]+=t[o]*e.get(11-o,3*n+i)}},{key:"zzy1",value:function(){for(var t=this.zzA2,e=this.zz82,r=this.zz52,s=this.zz62,o=t.data,n=0;n<e;++n)for(var i=4*n,h=3*n,u=0;u<3;++u)s[h+u]=r[i]*o[0][u]+r[i+1]*o[1][u]+r[i+2]*o[2][u]+r[i+3]*o[3][u]}},{key:"zzz1",value:function(){var t=this.zz62,e=this.zz82,r=this.zzA2.data;if(t[2]<0){for(var s=0;s<4;++s)for(var o=0;o<3;++o)r[s][o]=-r[s][o];for(var n=0;n<e;++n)t[3*n]=-t[3*n],t[3*n+1]=-t[3*n+1],t[3*n+2]=-t[3*n+2]}}},{key:"zz02",value:function(t,e){var r=this.zz62,n=this.zz42,i=this.zz82,h=this.mem,u=h.pc0,a=h.pw0,l=h.ABt;l.mul(0);for(var f=0;f<i;++f)for(var c=0;c<3;++c)u[c]+=r[3*f+c],a[c]+=n[3*f+c];for(var m=0;m<3;++m)u[m]/=i,a[m]/=i;for(var g=0;g<i;++g)for(var w=0;w<3;++w)l.data[w][0]+=(r[3*g+w]-u[w])*(n[3*g]-a[0]),l.data[w][1]+=(r[3*g+w]-u[w])*(n[3*g+1]-a[1]),l.data[w][2]+=(r[3*g+w]-u[w])*(n[3*g+2]-a[2]);for(var p=new s.zz9(l),d=p.U,y=p.V,M=0;M<3;++M)for(var b=0;b<3;++b)t[M][b]=(0,o.DOT)(d.zzM(M),y.zzM(b));var x=new s.Matrix(t);(0,s.zzU1)(x)<0&&(t[2][0]*=-1,t[2][1]*=-1,t[2][2]*=-1),e[0]=u[0]-(0,o.DOT)(t[0],a),e[1]=u[1]-(0,o.DOT)(t[1],a),e[2]=u[2]-(0,o.DOT)(t[2],a)}},{key:"zz12",value:function(t,e){for(var r=0,s=this.zz82,n=this.fu,i=this.fv,h=this.zz42,u=this.us,a=0;a<s;++a){var l=h.slice(3*a,3*a+3),f=(0,o.DOT)(t[0],l)+e[0],c=(0,o.DOT)(t[1],l)+e[1],m=1/((0,o.DOT)(t[2],l)+e[2]),g=n*f*m,w=i*c*m,p=u[2*a],d=u[2*a+1];r+=(0,o.SQRT)((p-g)*(p-g)+(d-w)*(d-w))}return r/s}},{key:"zz22",value:function(t,e,r,s){return this.zzx1(e,t),this.zzy1(),this.zzz1(),this.zz02(r,s),this.zz12(r,s)}},{key:"zzj1",value:function(){var t=this.zz82,e=this.us,r=this.mem,o=this.zzV3,n=r.L6x10,i=r.zzY3,u=r.zzX3,a=r.zzW3,l=r.Rs,f=r.ts,c=this.zzB2.M;this.zzm1(),this.zzn1();for(var m=0;m<t;++m)this.zzLM(c,2*m,4*m,e[2*m],e[2*m+1]);var g=c.zz01().zzr(c),w=new s.zz9(g,{zzZ2:!1}).U.zz01();this.zzp1(w,n),this.zzq1(i),this.zzr1(n,i,u[0]),this.zzu1(n,i,u[0]),a[0]=this.zz22(w,u[0],l[0],f[0]),this.zzs1(n,i,u[1]),this.zzu1(n,i,u[1]),a[1]=this.zz22(w,u[1],l[1],f[1]),this.zzt1(n,i,u[2]),this.zzu1(n,i,u[2]),a[2]=this.zz22(w,u[2],l[2],f[2]);var p=0;a[1]<a[0]&&(p=1),a[2]<a[p]&&(p=2);var d=l[p];d[0][2]*=-1,d[1][2]*=-1,d[2][0]*=-1,d[2][1]*=-1,h(d,o.q),o.zyp13=!0,o.repError=a[p],o.R=d,o.t=f[p]}}])&&n(e.prototype,r),u&&n(e,u),t}();r.default=u},{"./lib/mathFuncs":8,"zzU3":5}],7:[function(t,e,r){var s,o=(s=t("./zypSolver"))&&s.zzB?s:{default:s};e.exports={zypSolver:o.default}},{"./zypSolver":6}],8:[function(t,e,r){Object.defineProperty(r,"zzB",{value:!0}),r.DIST2=r.DOT=r.SIGN=r.SQRT=void 0;var s=Math.sqrt;r.SQRT=s;var o=Math.sign;r.SIGN=o;r.DOT=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]};r.DIST2=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])+(t[2]-e[2])*(t[2]-e[2])}},{}]},{},[7])(7)});;ob=window.zyp;a.callbackReady&&(W.Da=a.callbackReady);a.callbackTrack&&(W.yb=a.callbackTrack);
"undefined"!==typeof a.animateDelay&&(W.La=a.animateDelay);"undefined"!==typeof a.NNCPath&&(W.tb=a.NNCPath);"undefined"!==typeof a.NN&&(W.Ka=a.NN);"undefined"!==typeof a.maxFacesDetected&&(L.o=Math.max(1,a.maxFacesDetected));"undefined"!==typeof a.followZRot&&(W.oa=a.followZRot?!0:!1);if(L.o>ca.Ve)return Na("MAXFACES_TOOHIGH"),!1;if(a.canvas)W.Z=a.canvas;else{if(!a.canvasId)return Na("NO_CANVASID"),!1;W.Z=document.getElementById(a.canvasId);if(!W.Z)return Na("INVALID_CANVASID"),!1}S.B=W.Z.width;S.G=
W.Z.height;if(!S.B||!S.G)return Na("INVALID_CANVASDIMENSIONS"),!1;S.wb=S.B/S.G;Qa.v({kd:a.isKeepRunningOnWinFocusLost||!1,Ma:W.La});Ea.v({ec:0,n:ca.ub[1]-ca.ub[0]+1,qd:ca.ub[0]});a.scanSettings&&(Object.assign(ra,a.scanSettings),0!==ra.nDetectsPerLoop?Ea.Gd(ra.nDetectsPerLoop):Ea.Od());a.stabilizationSettings&&Object.assign(va,a.stabilizationSettings);var d=0;a.videoSettings&&a.videoSettings.videoElement?ab(a.videoSettings.videoElement,c):(a.videoSettings&&Object.assign(qa,a.videoSettings),Fb(a.onWebcamAsk,
a.onWebcamGet,function(e){ab(e,c)}));zb(function(e){if(!Rb())return!1;z.Cc([{id:"s55",name:"_",ta:"attribute vec2 a0;uniform mat2 u37;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u37*a0*vec2(1.,-1.);}",Oa:["a0"],Aa:[2],h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1","u37"],precision:"lowp"},{id:"s54",name:"_",h:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",ta:"attribute vec2 a0;uniform sampler2D u38;uniform mat2 u37;uniform vec2 u39;uniform float u40,u36,u41,u42;varying vec2 vv0;void main(){vec2 f=a0;vec4 a=texture2D(u38,vec2(u36,u40));vec2 g=a.gb,b=a.a*u39;b.x*=u42;float c=cos(u41),d=sin(u41);vec2 h=mat2(c,d,-d,c)*f,i=g+.5*h*b;vv0=.5+2.*u37*(i-.5),gl_Position=vec4(a0,0.,1.);}",
Oa:["a0"],Aa:[2],i:"u1 u38 u39 u40 u36 u41 u42 u37".split(" "),precision:"lowp"},{id:"s53",name:"_",h:"uniform sampler2D u43,u38;uniform vec3 u44,u45;uniform float u46,u47,u40,u36,u48,u49,u41,u50;const vec4 e=vec4(.25,.25,.25,.25);void main(){float b=(u49-.5)/u49;vec4 f=texture2D(u43,vec2(3.5/u49,b));bool g=dot(f,e)>u47;vec4 a=texture2D(u38,vec2(u36,u40));g?a.r=2.:a.r>u46?a.r=0.:a.r>1.9?a.r+=1.:0.,a.r*=u48;if(a.r<.9)a=vec4(1.,u44);else{a.r*=step(1.9,a.r);float h=dot(e,texture2D(u43,vec2(.5/u49,b))),i=dot(e,texture2D(u43,vec2(1.5/u49,b))),j=dot(e,texture2D(u43,vec2(2.5/u49,b))),c=cos(u41),d=sin(u41);vec2 k=mat2(c,d*u50,-d/u50,c)*vec2(h,i);a.gba+=vec3(k,j)*u45*a.a;}gl_FragColor=a;}",
ta:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",i:"u43 u38 u44 u46 u45 u48 u47 u40 u36 u49 u41 u50".split(" ")},{id:"s56",name:"_",ta:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u43;uniform float u49;const vec4 e=vec4(.25,.25,.25,.25);void main(){float a=(u49-.5)/u49,b=dot(e,texture2D(u43,vec2(5.5/u49,a))),c=dot(e,texture2D(u43,vec2(6.5/u49,a))),d=dot(e,texture2D(u43,vec2(7.5/u49,a))),f=dot(e,texture2D(u43,vec2(3.5/u49,a)));vec3 g=vec3(b,c,d);gl_FragColor=vec4(g,f);}",
i:["u43","u49"]},{id:"s57",name:"_",ta:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",h:"uniform sampler2D u43;uniform float u49;const vec4 e=vec4(.25,.25,.25,.25),h=vec4(.5,.5,.5,.5);vec2 f(float a){float b=floor(a/u49),c=a-b*u49;return vec2(c,u49-.5-b)/u49;}vec2 g(float a){vec2 b=f(a*2.),c=f(a*2.+1.);float d=dot(e,texture2D(u43,b)),i=dot(e,texture2D(u43,c));return vec2(d,i);}void main(){float a=2.*gl_FragCoord.x;vec2 b=g(a-1.),c=g(a);gl_FragColor=h+.5*vec4(b,c)/1.2;}",i:["u43","u49"]},
{id:"s52",name:"_",h:"uniform sampler2D u38,u51;uniform vec2 u52;uniform float u53,u36;varying vec2 vv0;void main(){float f=step(.5,mod(gl_FragCoord.y+1.5,2.)),b=step(u36,vv0.x);vec2 d=vv0+u52;vec4 a=mix(texture2D(u51,d),texture2D(u38,d),b);a.a*=mix(u53,1.,b);vec4 g=floor(255.*a),h=255.*fract(255.*a),c=mix(g,h,f)/255.;c.x=mix(step(a.x,1.5),c.x,b),gl_FragColor=c;}",i:["u38","u51","u53","u52","u36"]}]);Cb(e);c()});return!0},update:function(a){a.scanSettings&&eb.set_scanSettings(a.scanSettings);a.stabilizationSettings&&
eb.set_stabilizationSettings(a.stabilizationSettings);var c=Promise.resolve();if(a.NNCPath||a.NN){gb();oa=ka.rd;Aa&&Aa.m();Aa=null;for(c=0;c<L.o;++c)pa[c].detected=0,pa.isDetected=!1,Ra[c].Qa=0;a.NNCPath?W.tb=a.NNCPath:a.NN&&(W.Ka=a.NN);c=new Promise(function(d){zb(function(e){Cb(e);$a();d()})})}return c},destroy:function(){Za=null;Qa.m();return new Promise(function(a){eb.toggle_pause(!0,!0).finally(function(){Aa&&Aa.m();Ma.m();Aa=hb=pa=Ra=null;S.pa=null;aa.ia=null;B.L=null;oa=ka.ic;a()}).catch(function(){})})},
toggle_pause:function(a,c){if(-1===[ka.play,ka.pause].indexOf(oa))return Promise.reject("NOT_READY");var d=null;d=B.$a?Promise.resolve():c?X.Md(B.element,!a,B.Ea):Promise.resolve();a?gb():d.then(function(){$a()});return d},update_videoSettings:function(a){gb();return new Promise(function(c){X.Md(B.element,!1,B.Ea).then(function(){Object.assign(qa,a);Fb(null,null,function(d){ab(d,function(){Sa();Ua();$a();c()})})})})},set_animateDelay:function(a){W.La=a;Qa.update({Ma:W.La})},resize:function(){if(!B.element)return!1;
var a=W.Z.width,c=W.Z.height;if(!nb()&&a===S.B&&c===S.G)return!1;S.B=a;S.G=c;S.wb=S.B/S.G;z.T();mb();lb();Sa();Ua();return!0},set_inputTexture:function(a,c,d){B.H[0]=c;B.H[1]=d;B.L=Y.instance({width:c,height:d,Sb:a});B.ab=!0;Sa();ub();Ua()},reset_inputTexture:function(){B.ab=!1;B.L=B.tc;nb();Sa();Ua()},render_video:function(){ua.S();z.set("s55");b.viewport(0,0,S.B,S.G);B.L.g(0);U.l(!0,!0)},get_videoDevices:function(a){return X.He(a)},get_videoUVScaleMat2:function(){return B.C},set_scanSettings:function(a){Object.assign(ra,
a);0!==ra.nDetectsPerLoop?Ea.Gd(ra.nDetectsPerLoop):Ea.Od();mb();lb()},set_stabilizationSettings:function(a){Object.assign(va,a)},update_videoElement:function(a,c){ab(a,function(){Eb();Sa();c&&c(B.L.get())})},capture_image:function(a){return Ma.ve(a)},get_LMLabels:function(){return la.labels},get_widthPx:function(){return S.B},get_heightPx:function(){return S.G},compute_pose:function(a,c,d,e){null===Za&&(La[0]=d,La[1]=e,Za=new ob.zypSolver({cameraFocals:La,zyp15:ca.rf}));if(La[0]!==
d||La[1]!==e)La[0]=d,La[1]=e,Za.zyp14(La);a=Za.solve(a,c,!1);return{ok:a.zyp13,repError:a.repError,rotation:a.R,translation:a.t}}};return eb}();
if(typeof(module)!=='undefined'){module.exports=window.WEBARROCKSFACE;}
window.WEBARROCKSFACE.FAKEDOM=FAKEDOM;