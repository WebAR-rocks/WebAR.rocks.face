/**
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * 
 * You cannot reproduce, sublicense, distribute or sell this software or part of this software without an explicit (and written) authorization of WebAR.rocks.
 * 
 * You should be granted by a written agreement by WebAR.rocks to use this software for an explicit period of time (e.g. yearly).
 * This agreement should list the domain(s) where this software can be hosted. Each subdomain is considered as a separate domain. A 301 or 302 HTTP direction to an authorized domain is authorized too.
 * 
 * You cannot use this software or part of this software for other purpose than rigid head accessories virtual try-on.
 * 
 * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 
 * 
*/

var WEBARROCKSFACE=(function(){window.WEBARROCKSFACE=function(){function pb(){var a=null,c=null,d=null,e=0;this.xd=function(g){return a[g]};this.Zd=function(g){var h=null;e=g.length;a=g.map(function(k,p){k=Object.assign({},k,{index:p,parent:this,Sa:h,Hd:p===e-1});return h=p=0===p?Bb.instance(k):Cb.instance(k)});c=a[0];d=a[e-1];a.forEach(function(k,p){0!==p&&k.Ud()})};this.N=function(g,h){var k=h;a.forEach(function(p){k=p.N(k,g)});return k};this.cc=function(){return c.w()};this.zd=function(){return d.w()};this.ec=function(){return d.yd()};
this.ae=function(g){d.gd(g)};this.bc=function(){return d.bc()};this.h=function(){a.forEach(function(g){g.h()});d=c=a=null;e=0}}function fb(a,c){var d=c%8;return a[(c-d)/8]>>7-d&1}function Db(a){var c=JSON.parse(a);a=c.ne;var d=c.nf,e=c.n;var g="undefined"===typeof btoa?Buffer.from(c.data,"base64").toString("latin1"):atob(c.data);var h=g.length;c=new Uint8Array(h);for(var k=0;k<h;++k)c[k]=g.charCodeAt(k);g=new Float32Array(e);h=new Float32Array(d);k=a+d+1;for(var p=0;p<e;++p){for(var q=k*p,y=0===fb(c,
q)?1:-1,l=q+1,n=1,t=0,v=l+a-1;v>=l;--v)t+=n*fb(c,v),n*=2;l=t;q=q+1+a;n=h.length;t=0;for(v=q;v<q+n;++v)h[t]=fb(c,v,!0),++t;for(n=q=0;n<d;++n)q+=h[n]*Math.pow(2,-n-1);g[p]=0===q&&0===l?0:y*(1+q)*Math.pow(2,1+l-Math.pow(2,a-1))}return g}function Eb(a){if(da!==aa.pause){var c=da===aa.play?K.Aa:U.Pc;Xa=setTimeout(qb.bind(null,a),c)}}function rb(){if(da===aa.play)return!1;da=aa.play;S.timestamp=Date.now();Oa&&window.cancelAnimationFrame(Oa);qb(0)}function Da(a,c,d,e,g){a=4*(c*Ea+a)+d;return e+(Y.buffer[a]/
255+Y.buffer[a+4*Ea]/65025)*(g-e)}function sb(){ra.S();Q.reset();R.reset();u.la();u.Xb();b.disable(b.DEPTH_TEST);b.disable(b.BLEND);Q.oa();u.xa()}function Fb(a){var c=Ra[a],d=[a],e=pa[a],g=gb[a],h=2*a;c.bb=Da(1,h,3,0,1);e.detected=ua.W(e.detected,c.bb,U.Nc);e.isDetected=e.detected>na.threshold;if(e.isDetected){c.x=Da(0,h,1,-1,1);c.y=Da(0,h,2,-1,1);c.D=Da(0,h,3,0,1);c.Cb=Da(1,h,0,-Y.X[0],Y.X[0]);c.Db=Da(1,h,1,-Y.X[1],Y.X[1]);c.va=Da(1,h,2,-Y.X[2],Y.X[2]);for(var k=0;k<W.ta;++k){var p=2+Math.floor(k/
2);c.vb[k][0]=Da(p,h,k%2*2,-1.2,1.2);c.vb[k][1]=Da(p,h,k%2*2+1,-1.2,1.2)}d.hb=c.x-e.x;d.ib=c.y-e.y;d.gb=c.D-e.s;d.cb=c.Cb-e.rx;d.eb=c.Db-e.ry;d.fb=K.ca?c.va:c.va-e.rz;d=(1-Ya.Ka(Z.translationFactorRange[0],Z.translationFactorRange[1],Math.sqrt(d.hb*d.hb+d.ib*d.ib+d.gb*d.gb)/S.qa))*(1-Ya.Ka(Z.rotationFactorRange[0],Z.rotationFactorRange[1],Math.sqrt(d.cb*d.cb+d.eb*d.eb+d.fb*d.fb)/S.qa))*Ya.Ka(Z.qualityFactorRange[0],Z.qualityFactorRange[1],c.bb);h=g[++hb[a]%g.length]=d;for(k=0;k<g.length;++k)h=Math.min(h,
g[k]);h=Math.max(.5,h);d=Math.min(h,d);g=Math.pow(d,U.Oc);d=ua.W(Z.alphaRange[1],Z.alphaRange[0],g);Za[a]=g<Z.qualityGoodDetectionThreshold?Sa.Qc:Sa.hc;fa.mode===fa.Ma.Va&&(fa.aa.Fa=Math.cos(Math.sqrt(Math.abs(e.ry))),fa.aa.lb=fa.Ub*Math.sin(e.ry));e.x=ua.W(e.x,c.x,d);e.y=ua.W(e.y,c.y,d);e.s=ua.W(e.s,c.D,d);e.rx=ua.W(e.rx,c.Cb,d);e.ry=ua.W(e.ry,c.Db,d);var q=1,y=0;K.ca?(q=Math.cos(e.rz),y=Math.sin(e.rz),e.rz+=Z.followZRotAlphaFactor*d*c.va):e.rz=ua.W(e.rz,c.va,d);e.landmarks.forEach(function(l,n){var t=
W.Pb[n],v=c.vb[n],G=c.Kd[n],B=t[0]+v[0]/W.kb;t=t[1]+v[1]/W.kb;fa.mode===fa.Ma.Va&&(B=B*fa.aa.Fa+fa.aa.lb*c.D);K.ca&&(v=t*q+B*y,B=B*q-t*y,t=v);G[0]=c.x+B*c.D;G[1]=c.y+t*c.D*J.Ba;n=W.pc[n];if(Za[a]===Sa.hc){n.x[W.La]=G[0];n.y[W.La]=G[1];G=n.x.slice(0).sort().slice(Z.LMmedianFilterSkip,Z.LMmedianFilterLength-Z.LMmedianFilterSkip);t=n.y.slice(0).sort().slice(Z.LMmedianFilterSkip,Z.LMmedianFilterLength-Z.LMmedianFilterSkip);n=G.length;for(var D=B=v=0;D<n;++D)v+=G[D],B+=t[D];G=l[0]-v/n;n=l[1]-B/n;B=G*J.sa/
c.D;t=n*J.sa/(c.D*J.Ba);B=Ya.Ka(Z.LMDisplacementRange[0],Z.LMDisplacementRange[1],Math.sqrt(B*B+t*t));l[0]-=B*G;l[1]-=B*n}else{for(B=0;B<Z.LMmedianFilterLength;++B)n.x[B]=G[0],n.y[B]=G[1];l[0]=G[0];l[1]=G[1]}});W.La=(W.La+1)%Z.LMmedianFilterLength;++c.Pa}else K.ca&&(e.rz=0),Za[a]=Sa.wc,fa.mode===fa.Ma.Va&&(fa.aa.Fa=1,fa.aa.lb=0)}function qb(){if(da!==aa.pause){u.Xb();Q.reset();Q.oa();b.disable(b.DEPTH_TEST);ra.S();u.xa();if(!A.tb){var a=A.element.currentTime-A.Ta;0>a&&(A.Ta=A.element.currentTime);
1E3*a<U.re||(A.ea.refresh(),A.Ta+=a,u.set("s48"),A.ya.O(),A.ea.b(0),Q.g(!1,!1))}if(I.P.length>S.H)I.P.splice(0,I.P.length-S.H);else for(;I.P.length<S.H;)I.P.push(0);if(1!==I.i)if(pa.every(ib)){for(var c=0,d=a=0;d<pa.length;++d)pa[d].detected>c&&(c=pa[d].detected,a=0);for(c=0;c<S.H;++c)I.P[c]=a}else{a=0;c=!1;for(d=I.oc;a<S.H;++a){if(ib(pa[d]))if(c){do++d===I.i&&(d=0);while(ib(pa[d]))}else c=!0;I.P[a]=d++;d>=I.i&&(d=0)}I.oc=iFace}a=[];for(c=0;c<S.H;++c){I.ba=I.P[c];I.zb=(.5+I.ba)/I.i;u.set("s50");fa.mode===
fa.Ma.Va&&u.B("u39",fa.aa.Fa);K.ca&&u.B("u38",pa[I.ba].rz);1!==I.i&&u.B("u37",I.zb);J.Ia.O();A.ya.b(0);Y.za.b(1);Q.g(!1,!1);J.Ia.b(0);wa.N(!1,J.Ia);a.push(I.ba);var e=(d=c===S.H-1)?-1:I.P[c+1];if(d||-1!==a.indexOf(e))ra.J(),b.viewport(0,0,Ea,2*I.i),u.set("s47"),Y.za.b(0),Y.za.Vc(1),Q.g(!1,!1),b.readPixels(0,0,Ea,2*I.i,b.RGBA,b.UNSIGNED_BYTE,Y.buffer),a.forEach(Fb),a.splice(0,a.length),d||ra.S()}a=Date.now();S.qa=a-S.timestamp;S.timestamp=a;na.nDetectsPerLoop||(a=U.$a,S.sc=S.H/S.qa,S.tc=S.sc*a+S.tc*
(1-a),S.uc=1E3/S.qa,S.ja=S.uc*U.$a+S.ja*(1-U.$a),S.ja>U.ga[1]?(a=U.Xa[1],1<I.i&&(++a,c=pa.filter(is_faceDetected).length,a*=Math.max(1,c)),S.H=Math.min(S.H+1,a),S.ja=(U.ga[0]+U.ga[1])/2):S.ja<U.ga[0]&&(S.H=Math.max(S.H-1,U.Xa[0]),S.ja=(U.ga[0]+U.ga[1])/2));ra.pe();ra.reset();R.reset();b.enable(b.DEPTH_TEST);K.Da&&(1===I.i?K.Da(pa[0]):K.Da(pa));b.disable(b.BLEND);if(da===aa.play||da===aa.Kf)Oa=window.requestAnimationFrame(Eb)}}function Gb(){function a(g,h){u.L(g,[{name:"u33",type:"1f",value:h/Ea}])}
function c(){return W.labels.map(function(){return[0,0]})}function d(g){for(var h=[],k=0;k<I.i;++k)h.push(Object.assign({},g));return h}Ea=2+W.xb;var e={width:Ea,height:I.i,isFloat:!0,isPot:!1,array:function(g){for(var h=new Float32Array(g.length*I.i),k=0,p;k<I.i;++k)for(p=0;p<g.length;++p)h[k*g.length+p]=g[p];return h}(new Float32Array(4*Ea))};Y.za=Hb.instance(e);Y.buffer=new Uint8Array(8*e.width*I.i);a("s49",.5);a("s47",1);a("s50",.5);Ra=d({bb:0,x:0,y:0,D:1,Cb:0,Db:0,va:0,vb:c(),Kd:c(),Pa:0});pa=
d({detected:0,isDetected:!1,x:0,y:0,s:1,rx:0,ry:0,rz:0,landmarks:c()});d({hb:0,ib:0,gb:0,cb:0,eb:0,fb:0})}function jb(){u.L("s50",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u35",value:1},{type:"2f",name:"u36",value:J.u},{type:"1f",name:"u37",value:.5},{type:"1f",name:"u38",value:0},{type:"1f",name:"u39",value:1}]);var a=[{type:"1i",name:"u40",value:0},{type:"1f",name:"u47",value:Y.size}];u.L("s49",[{type:"1i",name:"u35",value:1},{type:"1f",name:"u43",value:U.me},{type:"1f",name:"u44",value:na.threshold},
{type:"1f",name:"u45",value:na.dThreshold},{type:"3f",name:"u42",value:[Y.I[0]*J.u[0],Y.I[1]*J.u[1],Y.I[2]]},{type:"1f",name:"u37",value:.5},{type:"1f",name:"u46",value:1},{type:"1f",name:"u38",value:0}].concat(a));u.L("s51",a);u.L("s52",a);u.L("s47",[{type:"1i",name:"u35",value:0},{type:"1i",name:"u49",value:1},{type:"1f",name:"u51",value:J.u[0]},{type:"2f",name:"u50",value:[0,.5/I.i]}])}function kb(){J.sa=wa.cc();Y.size=wa.zd();J.u[0]=J.sa/J.C;J.u[1]=J.sa/J.A;tb.m({Ra:na.overlapFactors,vc:na.nScaleLevels,
C:J.C,A:J.A,Dc:na.scale0Factor,I:Y.I,yc:2,Ec:na.scanCenterFirst})}function Ib(a){if(null!==K.Wa)ub(K.Wa,a);else{var c=K.Ib;"JSON"!==c.toUpperCase().split(".").pop()&&(c+=U.save);vb.get(c,function(d){d=JSON.parse(d);ub(d,a)})}}function ub(a,c){if(a.exportData){var d=a.exportData;d.thetaXYZfactor&&(Y.X=d.thetaXYZfactor);d.trackingDxysFactor&&(Y.I=d.trackingDxysFactor);if(d.landmarksLabels){W.labels=d.landmarksLabels;W.ta=W.labels.length;W.xb=Math.ceil(W.ta/2);W.pc=Array(W.ta);for(var e=0;e<W.ta;++e)W.La=
0,W.pc[e]={x:new Float32Array(Z.LMmedianFilterLength),y:new Float32Array(Z.LMmedianFilterLength)}}W.Pb=d.landmarksCenters?d.landmarksCenters:W.labels.map(function(){return[0,0]});d.landmarksFactor&&(W.kb=d.landmarksFactor);d.facegenMode&&(fa.mode=d.facegenMode,d.facegenDisplaceXFactor&&(fa.Ub=d.facegenDisplaceXFactor))}c(a)}function Jb(){if(xa.m({ab:K.T,width:J.C,height:J.A,debug:!1,xc:function(){Ga("GLCONTEXT_LOST")},antialias:!0,premultipliedAlpha:!0})){if(xa.Ed())return!0;Ga("GL_INCOMPATIBLE");
return!1}Ga("GL_INCOMPATIBLE");return!1}function ib(a){return!a.isDetected}function wb(a,c,d,e){return d>a?Math.max(0,a+c/2-(d-e/2)):Math.max(0,d+e/2-(a-c/2))}function Kb(){return Ra.some(function(a,c){if(c===I.ba)return!1;c=Ra[I.ba];if(c.Pa>a.Pa||3>a.Pa||wb(c.x/2,c.D,a.x/2,a.D)<U.qc*c.D)return!1;var d=J.C/J.A;return wb(c.y/2,c.D*d,a.y/2,a.D*d)>U.qc*c.D*d})}function Lb(){var a=I.ba,c=pa[a];Y.za.ce(1);1!==I.i&&(b.viewport(0,0,Ea,I.i),u.set("s0"),u.Gc("u1",1),Q.g(!1,!1),u.Gc("u1",0));b.viewport(0,a,
1,1);u.set("s49");K.ca&&u.B("u38",c.rz);1!==I.i&&u.B("u37",I.zb);if(1<I.i){var d=Kb()?0:1;u.B("u46",d)}c.isDetected||u.ee("u41",tb.get());Q.g(!1,!1);b.viewport(1,a,1,1);u.set("s51");Q.g(!1,!1);b.viewport(2,a,W.xb,1);u.set("s52");Q.g(!1,!1)}function xb(){A.ea&&A.ea.remove();A.ea=R.instance({G:A.element,isPot:!1,isFloat:!1,isFlipY:!0})}function $a(){u.L("s48",[{type:"1i",name:"u1",value:0},{type:"mat2",name:"u34",value:A.K}])}function Ta(){A.F[0]=.5;A.F[1]=.5;var a=A.u[1]/A.u[0],c=xa.U()/xa.w();90===
Math.abs(sa.rotate)&&(a=1/a);a>c?A.F[1]*=c/a:A.F[0]*=a/c;u.L("s49",[{name:"u48",type:"1f",value:c}]);A.K[0]=0;A.K[1]=0;A.K[2]=0;A.K[3]=0;switch(sa.rotate){case 0:A.K[0]=A.F[0];A.K[3]=A.F[1];break;case 180:A.K[0]=-A.F[0];A.K[3]=-A.F[1];break;case 90:A.K[1]=A.F[0];A.K[2]=-A.F[1];break;case -90:A.K[1]=-A.F[0],A.K[2]=A.F[1]}}function lb(){var a=A.element.videoWidth,c=A.element.videoHeight,d=A.u[0]!==a||A.u[1]!==c;d&&(A.u[0]=a,A.u[1]=c);return d}function mb(a,c){if(da===aa.error)return!1;A.element=a;lb();
c&&c();return!0}function Mb(a,c,d){a&&a();A.Ea={video:{facingMode:{ideal:sa.facingMode},width:{min:sa.minWidth,max:sa.maxWidth,ideal:sa.idealWidth},height:{min:sa.minHeight,max:sa.maxHeight,ideal:sa.idealHeight}},audio:!1};sa.deviceId&&(A.Ea.deviceId=sa.deviceId);T.get(T.Bd(),function(e){c&&c(e);d(e)},function(){Ga("WEBCAM_UNAVAILABLE")},A.Ea)}function Ga(a){da!==aa.error&&(da=aa.error,K.pa&&K.pa(a))}function Ua(a,c){for(var d in a)"undefined"!==typeof c[d]&&(a[d]=c[d]);c===na&&na.nDetectsPerLoop&&
(S.H=na.nDetectsPerLoop)};function zzf2(g,u){return!u||"object"!==_typeof(u)&&"function"!=typeof u?_assertThisInitialized(g):u}function _getPrototypeOf(g){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(g){return g.__proto__||Object.getPrototypeOf(g)},_getPrototypeOf(g)}function _assertThisInitialized(g){if(void 0===g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function zzg2(g,u){if("function"!=typeof u&&null!==u)throw new Error();g.prototype=Object.create(u&&u.prototype,{constructor:{value:g,writable:!0,configurable:!0}});u&&_setPrototypeOf(g,u)}function _setPrototypeOf(g,u){return _setPrototypeOf=Object.setPrototypeOf||function(b,g){return b.__proto__=g,b},_setPrototypeOf(g,u)}function zzr2(g,u){if(!(g instanceof u))throw new Error();}function _defineProperties(g,u){for(var b,t=0;t<u.length;t++)b=u[t],b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}function zz53(g,u,b){return u&&_defineProperties(g.prototype,u),b&&_defineProperties(g,b),g}function _typeof(g){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(g){return typeof g}:function(g){return g&&"function"==typeof Symbol&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},_typeof(g)}zzd2=function(g,u,b,t){function n(e,a){function c(a){return n(c.resolve(a))}if(!u[e]){if(!g[e]){var d="function"==typeof zzd2&&zzd2;if(!a&&d)return d(e,!0);if(m)return m(e,!0);if(h&&"string"==typeof e)return h(e);a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a;}c.resolve=function(a){return g[e][1][a]||a};c.cache={};a=u[e]=new n.Module(e);g[e][0].call(a.exports,c,a,a.exports,this)}return u[e].exports}var x,m="function"==typeof zzd2&&zzd2,h="function"==typeof require&&require;n.zzw2=!0;n.Module=function(e){this.id=e;this.zz43=n;this.exports={}};n.modules=g;n.cache=u;n.parent=m;n.register=function(e,a){g[e]=[function(c,d){d.exports=a},{}]};for(var e=0;e<b.length;e++)try{n(b[e])}catch(p){x||(x=p)}if(b.length){var B=n(b[b.length-1]);"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=B:"function"==typeof define&&define.amd?define(function(){return B}):t&&(this[t]=B)}if(zzd2=n,x)throw x;return n}({PIKf:[function(g,u){var b=Object.prototype.toString;u.exports=function(g){return b.call(g).endsWith("Array]")}},{}],ij2R:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=function(n){return n&&n.zzB?n:{default:n}}(g("zzK2"));b["default"]=function(n){if(!(0,t["default"])(n))throw new Error();if(0===n.length)throw new Error();for(var b=n[0],m=1;m<n.length;m++)n[m]>b&&(b=n[m]);return b}},{"zzK2":"PIKf"}],"+Xog":[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=function(n){return n&&n.zzB?n:{default:n}}(g("zzK2"));b["default"]=function(n){if(!(0,t["default"])(n))throw new Error();if(0===n.length)throw new Error();for(var b=n[0],m=1;m<n.length;m++)n[m]<b&&(b=n[m]);return b}},{"zzK2":"PIKf"}],"+aQ1":[function(g,u,b){function t(m){return m&&m.zzB?m:{default:m}}Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var n=t(g("zzM2")),x=t(g("zzL2")),m=t(g("zzK2"));b["default"]=function(h){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(!(0,m["default"])(h))throw new Error();if(0===h.length)throw new Error();if(void 0!==e.output){if(!(0,m["default"])(e.output))throw new Error();var B=e.output}else B=Array(h.length);var p=(0,x["default"])(h),a=(0,n["default"])(h);if(p===a)throw new Error();var c=e.min;c=void 0===c?e.autoMinMax?p:0:c;var d=e.max;e=void 0===d?e.autoMinMax?a:1:d;if(c>=e)throw new Error();for(d=0;d<h.length;d++)B[d]=(e-c)/(a-p)*(h[d]-p)+c;return B}},{"zzM2":"ij2R","zzL2":"+Xog","zzK2":"PIKf"}],DKHH:[function(g,u,b){function t(m,h){if("object"!=_typeof(h))throw new Error();if(h.some(function(e){return 0>e||e>=m.zzl2}))throw new Error();return Array.isArray(h)||(h=Array.from(h)),h}function n(m,h){if("object"!=_typeof(h))throw new Error();if(h.some(function(e){return 0>e||e>=m.zzk2}))throw new Error();return Array.isArray(h)||(h=Array.from(h)),h}function x(m,h){if("number"!=typeof h)throw new Error();}Object.defineProperty(b,"zzB",{value:!0});b.zzi2=function(m,h,e){m=e?m.zzl2:m.zzl2-1;if(0>h||h>m)throw new Error();};b.zzj2=function(m,h,e){m=e?m.zzk2:m.zzk2-1;if(0>h||h>m)throw new Error();};b.zzh2=function(m,h){if(h.zzC&&(h=h.zzC()),h.length!==m.zzk2)throw new Error();return h};b.zzc2=function(m,h){if(h.zzC&&(h=h.zzC()),h.length!==m.zzl2)throw new Error();return h};b.zzV3=function(m,h,e){return{row:t(m,h),zz63:n(m,e)}};b.zz23=t;b.zz33=n;b.zzW3=function(m,h,e,B,p){if(5!==arguments.length)throw new Error();if(x("zz0",h),x("zz1",e),x("zz2",B),x("zz3",p),h>e||B>p||0>h||h>=m.zzl2||0>e||e>=m.zzl2||0>B||B>=m.zzk2||0>p||p>=m.zzk2)throw new Error();};b.zzz2=function(m,h){h=Array(h-m+1);for(var e=0;e<h.length;e++)h[e]=m+e;return h};b.zzx2=function(m){for(var h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=[],B=0;B<m;B++)e.push(h);return e}},{}],L2Eg:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b.zzy2=function(n){for(var b=(0,t.zzx2)(n.zzl2),m=0;m<n.zzl2;++m)for(var h=0;h<n.zzk2;++h)b[m]+=n.get(m,h);return b};b.zze2=function(n){for(var b=(0,t.zzx2)(n.zzk2),m=0;m<n.zzl2;++m)for(var h=0;h<n.zzk2;++h)b[h]+=n.get(m,h);return b};b.zz13=function(b){for(var n=0,m=0;m<b.zzl2;m++)for(var h=0;h<b.zzk2;h++)n+=b.get(m,h);return n};b.zz91ByRow=function(b){for(var n=(0,t.zzx2)(b.zzl2,1),m=0;m<b.zzl2;++m)for(var h=0;h<b.zzk2;++h)n[m]*=b.get(m,h);return n};b.zz91zz03=function(b){for(var n=(0,t.zzx2)(b.zzk2,1),m=0;m<b.zzl2;++m)for(var h=0;h<b.zzk2;++h)n[h]*=b.get(m,h);return n};b.zz91All=function(b){for(var n=1,m=0;m<b.zzl2;m++)for(var h=0;h<b.zzk2;h++)n*=b.get(m,h);return n};b.zzB1ByRow=function(b,g,m){for(var h=b.zzl2,e=b.zzk2,B=[],p=0;p<h;p++){for(var a=0,c=0,d,r=0;r<e;r++)a+=d=b.get(r,p)-m[p],c+=d*d;g?B.push((c-a*a/e)/(e-1)):B.push((c-a*a/e)/e)}return B};b.zzB1zz03=function(b,g,m){for(var h=b.zzl2,e=b.zzk2,B=[],p=0;p<e;p++){for(var a=0,c=0,d,r=0;r<h;r++)a+=d=b.get(r,p)-m[p],c+=d*d;g?B.push((c-a*a/h)/(h-1)):B.push((c-a*a/h)/h)}return B};b.zzB1All=function(b,g,m){for(var h=b.zzl2,e=b.zzk2,B=h*e,p=0,a=0,c,d=0;d<h;d++)for(var r=0;r<e;r++)p+=c=b.get(d,r)-m,a+=c*c;return g?(a-p*p/B)/(B-1):(a-p*p/B)/B};var t=g("zzo2")},{"zzo2":"DKHH"}],KOL4:[function(g,u,b){function t(m,b){for(var e,B=m.zzl2,p=m.zzk2,a=x(B,15),c=x(p,10),d=[],r=0;r<a;r++){e=[];for(var H=0;H<c;H++)e.push(n(m.get(r,H)));d.push("".concat(e.join(" ")))}return c!==p&&(d[d.length-1]+=" ... ".concat(p-10," more zzk2")),a!==B&&d.push("... ".concat(B-15," more zzl2")),d.join("\\n".concat(b))}function n(m){var b=m+"";if(8>=b.length)return b.padEnd(8," ");b=m.toPrecision(6);if(8>=b.length)return b;m=m.zzT3(6);b=m.indexOf("e");b=m.substring(b);return m.substring(0,8-b.length)+b}var x=Math.min;Object.defineProperty(b,"zzB",{value:!0});b.zzX3=function(){" ".zzL(2);" ".zzL(4);return"".concat(this.constructor.name," {\\n").concat("  ","[\\n").concat("    ").concat(t(this,"    "),"\\n").concat("  ","]\\n").concat("  ","zzl2: ").concat(this.zzl2,"\\n").concat("  ","zzk2: ").concat(this.zzk2,"\\n}")}},{}],poMD:[function(g,u,b){var t=Math.sqrt,n=Math.sign,x=Math.round,m=Math.ceil,h=Math.abs;Object.defineProperty(b,"zzB",{value:!0});b.zzb2=function(e,b){var p=Math.pow;e.prototype.add=function(a){return"number"==typeof a?this.addS(a):this.addM(a)};e.prototype.addS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)+a);return this};e.prototype.addM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)+a.get(c,d));return this};e.add=function(a,c){return(new b(a)).add(c)};e.prototype.sub=function(a){return"number"==typeof a?this.subS(a):this.subM(a)};e.prototype.subS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)-a);return this};e.prototype.subM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)-a.get(c,d));return this};e.sub=function(a,c){return(new b(a)).sub(c)};e.prototype.subtract=e.prototype.sub;e.prototype.subtractS=e.prototype.subS;e.prototype.subtractM=e.prototype.subM;e.subtract=e.sub;e.prototype.mul=function(a){return"number"==typeof a?this.mulS(a):this.mulM(a)};e.prototype.mulS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)*a);return this};e.prototype.mulM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)*a.get(c,d));return this};e.mul=function(a,c){return(new b(a)).mul(c)};e.prototype.multiply=e.prototype.mul;e.prototype.multiplyS=e.prototype.mulS;e.prototype.multiplyM=e.prototype.mulM;e.multiply=e.mul;e.prototype.div=function(a){return"number"==typeof a?this.divS(a):this.divM(a)};e.prototype.divS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)/a);return this};e.prototype.divM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)/a.get(c,d));return this};e.div=function(a,c){return(new b(a)).div(c)};e.prototype.divide=e.prototype.div;e.prototype.divideS=e.prototype.divS;e.prototype.divideM=e.prototype.divM;e.divide=e.div;e.prototype.mod=function(a){return"number"==typeof a?this.modS(a):this.modM(a)};e.prototype.modS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)%a);return this};e.prototype.modM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)%a.get(c,d));return this};e.mod=function(a,c){return(new b(a)).mod(c)};e.prototype.zzS3=e.prototype.mod;e.prototype.zzS3S=e.prototype.modS;e.prototype.zzS3M=e.prototype.modM;e.zzS3=e.mod;e.prototype.and=function(a){return"number"==typeof a?this.andS(a):this.andM(a)};e.prototype.andS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)&a);return this};e.prototype.andM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)&a.get(c,d));return this};e.and=function(a,c){return(new b(a)).and(c)};e.prototype.or=function(a){return"number"==typeof a?this.orS(a):this.orM(a)};e.prototype.orS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)|a);return this};e.prototype.orM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)|a.get(c,d));return this};e.or=function(a,c){return(new b(a)).or(c)};e.prototype.xor=function(a){return"number"==typeof a?this.xorS(a):this.xorM(a)};e.prototype.xorS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)^a);return this};e.prototype.xorM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)^a.get(c,d));return this};e.xor=function(a,c){return(new b(a)).xor(c)};e.prototype.zzU3=function(a){return"number"==typeof a?this.zzU3S(a):this.zzU3M(a)};e.prototype.zzU3S=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)<<a);return this};e.prototype.zzU3M=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)<<a.get(c,d));return this};e.zzU3=function(a,c){return(new b(a)).zzU3(c)};e.prototype.zzN3=function(a){return"number"==typeof a?this.zzN3S(a):this.zzN3M(a)};e.prototype.zzN3S=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)>>a);return this};e.prototype.zzN3M=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)>>a.get(c,d));return this};e.zzN3=function(a,c){return(new b(a)).zzN3(c)};e.prototype.zzP3=function(a){return"number"==typeof a?this.zzP3S(a):this.zzP3M(a)};e.prototype.zzP3S=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)>>>a);return this};e.prototype.zzP3M=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)>>>a.get(c,d));return this};e.zzP3=function(a,c){return(new b(a)).zzP3(c)};e.prototype.zzO3=e.prototype.zzP3;e.prototype.zzO3S=e.prototype.zzP3S;e.prototype.zzO3M=e.prototype.zzP3M;e.zzO3=e.zzP3;e.prototype.not=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,~this.get(a,c));return this};e.not=function(a){return(new b(a)).not()};e.prototype.abs=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,h(this.get(a,c)));return this};e.abs=function(a){return(new b(a)).abs()};e.prototype.acos=function(){for(var a=Math.acos,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.acos=function(a){return(new b(a)).acos()};e.prototype.zzQ3=function(){for(var a=Math.zzQ3,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.zzQ3=function(a){return(new b(a)).zzQ3()};e.prototype.asin=function(){for(var a=Math.asin,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.asin=function(a){return(new b(a)).asin()};e.prototype.zzR3=function(){for(var a=Math.zzR3,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.zzR3=function(a){return(new b(a)).zzR3()};e.prototype.atan=function(){for(var a=Math.atan,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.atan=function(a){return(new b(a)).atan()};e.prototype.atanh=function(){for(var a=Math.atanh,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.atanh=function(a){return(new b(a)).atanh()};e.prototype.cbrt=function(){for(var a=Math.cbrt,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.cbrt=function(a){return(new b(a)).cbrt()};e.prototype.ceil=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,m(this.get(a,c)));return this};e.ceil=function(a){return(new b(a)).ceil()};e.prototype.clz32=function(){for(var a=Math.clz32,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.clz32=function(a){return(new b(a)).clz32()};e.prototype.cos=function(){for(var a=Math.cos,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.cos=function(a){return(new b(a)).cos()};e.prototype.cosh=function(){for(var a=Math.cosh,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.cosh=function(a){return(new b(a)).cosh()};e.prototype.exp=function(){for(var a=Math.exp,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.exp=function(a){return(new b(a)).exp()};e.prototype.expm1=function(){for(var a=Math.expm1,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.expm1=function(a){return(new b(a)).expm1()};e.prototype.floor=function(){for(var a=Math.floor,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.floor=function(a){return(new b(a)).floor()};e.prototype.fround=function(){for(var a=Math.fround,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.fround=function(a){return(new b(a)).fround()};e.prototype.log=function(){for(var a=Math.log,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.log=function(a){return(new b(a)).log()};e.prototype.log1p=function(){for(var a=Math.log1p,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.log1p=function(a){return(new b(a)).log1p()};e.prototype.log10=function(){for(var a=Math.log10,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.log10=function(a){return(new b(a)).log10()};e.prototype.log2=function(){for(var a=Math.log2,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.log2=function(a){return(new b(a)).log2()};e.prototype.round=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,x(this.get(a,c)));return this};e.round=function(a){return(new b(a)).round()};e.prototype.sign=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,n(this.get(a,c)));return this};e.sign=function(a){return(new b(a)).sign()};e.prototype.sin=function(){for(var a=Math.sin,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.sin=function(a){return(new b(a)).sin()};e.prototype.sinh=function(){for(var a=Math.sinh,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.sinh=function(a){return(new b(a)).sinh()};e.prototype.sqrt=function(){for(var a=0;a<this.zzl2;a++)for(var c=0;c<this.zzk2;c++)this.set(a,c,t(this.get(a,c)));return this};e.sqrt=function(a){return(new b(a)).sqrt()};e.prototype.tan=function(){for(var a=Math.tan,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.tan=function(a){return(new b(a)).tan()};e.prototype.tanh=function(){for(var a=Math.tanh,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.tanh=function(a){return(new b(a)).tanh()};e.prototype.trunc=function(){for(var a=Math.trunc,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,a(this.get(c,d)));return this};e.trunc=function(a){return(new b(a)).trunc()};e.pow=function(a,c){return(new b(a)).pow(c)};e.prototype.pow=function(a){return"number"==typeof a?this.powS(a):this.powM(a)};e.prototype.powS=function(a){for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,p(this.get(c,d),a));return this};e.prototype.powM=function(a){if(a=b.zzM1(a),this.zzl2!==a.zzl2||this.zzk2!==a.zzk2)throw new Error();for(var c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.set(c,d,p(this.get(c,d),a.get(c,d)));return this}}},{}],d3nN:[function(g,u,b){function t(a,c){return a-c}var n=Math.max,x=Number.isInteger,m=Math.sqrt,h=Math.round,e=Math.ceil,B=Math.min;Object.defineProperty(b,"zzB",{value:!0});b["default"]=b.zz4=void 0;var p=function(a){return a&&a.zzB?a:{default:a}}(g("zzN2")),a=g("zzo2"),c=g("zzv2"),d=g("zzI2");g=g("zzH2");u=function(){function b(){zzr2(this,b)}var l=Number.isFinite;return zz53(b,[{key:"apply",value:function(a){if("function"!=typeof a)throw new Error();for(var f=0;f<this.zzl2;f++)for(var k=0;k<this.zzk2;k++)a.call(this,f,k);return this}},{key:"zzC",value:function(){for(var a=[],f=0;f<this.zzl2;f++)for(var c=0;c<this.zzk2;c++)a.push(this.get(f,c));return a}},{key:"zzD",value:function(){for(var a=[],f=0;f<this.zzl2;f++){a.push([]);for(var c=0;c<this.zzk2;c++)a[f].push(this.get(f,c))}return a}},{key:"toJSON",value:function(){return this.zzD()}},{key:"zzE",value:function(){return 1===this.zzl2}},{key:"zzF",value:function(){return 1===this.zzk2}},{key:"zzG",value:function(){return 1===this.zzl2||1===this.zzk2}},{key:"zzH",value:function(){return this.zzl2===this.zzk2}},{key:"zzI",value:function(){if(this.zzH()){for(var a=0;a<this.zzl2;a++)for(var f=0;f<=a;f++)if(this.get(a,f)!==this.get(f,a))return!1;return!0}return!1}},{key:"zzJ",value:function(){for(var a=0,f,c=-1,e=!0,b;a<this.zzl2&&e;){f=0;for(b=!1;f<this.zzk2&&!1===b;)0===this.get(a,f)?f++:1===this.get(a,f)&&f>c?(b=!0,c=f):(e=!1,b=!0);a++}return d}},{key:"zzK",value:function(){for(var a=0,f,c=-1,e=!0,b;a<this.zzl2&&e;){f=0;for(b=!1;f<this.zzk2&&!1===b;)0===this.get(a,f)?f++:1===this.get(a,f)&&f>c?(b=!0,c=f):(e=!1,b=!0);for(f+=1;f<this.zzl2;f++)0!==this.get(a,f)&&(e=!1);a++}return d}},{key:"set",value:function(){throw new Error();}},{key:"get",value:function(){throw new Error();}},{key:"zzL",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("object"!=_typeof(a))throw new Error();var f=a.zzl2;f=void 0===f?1:f;a=a.zzk2;a=void 0===a?1:a;if(!x(f)||0>=f)throw new Error();if(!x(a)||0>=a)throw new Error();for(var c=new r(this.zzl2*f,this.zzk2*a),d=0;d<f;d++)for(var e=0;e<a;e++)c.zz71(this,this.zzl2*d,this.zzk2*e);return c}},{key:"zzM",value:function(a){for(var f=0;f<this.zzl2;f++)for(var c=0;c<this.zzk2;c++)this.set(f,c,a);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"zzN",value:function(c){(0,a.zzi2)(this,c);for(var f=[],k=0;k<this.zzk2;k++)f.push(this.get(c,k));return f}},{key:"zzNVector",value:function(a){return r.zzF1(this.zzN(a))}},{key:"zzP",value:function(c,f){(0,a.zzi2)(this,c);f=(0,a.zzh2)(this,f);for(var d=0;d<this.zzk2;d++)this.set(c,d,f[d]);return this}},{key:"zzQ",value:function(c,f){(0,a.zzi2)(this,c);(0,a.zzi2)(this,f);for(var d,k=0;k<this.zzk2;k++)d=this.get(c,k),this.set(c,k,this.get(f,k)),this.set(f,k,d);return this}},{key:"zzR",value:function(c){(0,a.zzj2)(this,c);for(var f=[],d=0;d<this.zzl2;d++)f.push(this.get(d,c));return f}},{key:"zzRVector",value:function(a){return r.zzG1(this.zzR(a))}},{key:"zzT",value:function(c,f){(0,a.zzj2)(this,c);f=(0,a.zzc2)(this,f);for(var d=0;d<this.zzl2;d++)this.set(d,c,f[d]);return this}},{key:"zzU",value:function(c,f){(0,a.zzj2)(this,c);(0,a.zzj2)(this,f);for(var d,k=0;k<this.zzl2;k++)d=this.get(k,c),this.set(k,c,this.get(k,f)),this.set(k,f,d);return this}},{key:"zzV",value:function(c){c=(0,a.zzh2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)+c[d]);return this}},{key:"zzW",value:function(c){c=(0,a.zzh2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)-c[d]);return this}},{key:"zzX",value:function(c){c=(0,a.zzh2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)*c[d]);return this}},{key:"zzY",value:function(c){c=(0,a.zzh2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)/c[d]);return this}},{key:"zzZ",value:function(c){c=(0,a.zzc2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)+c[f]);return this}},{key:"zza",value:function(c){c=(0,a.zzc2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)-c[f]);return this}},{key:"zzb",value:function(c){c=(0,a.zzc2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)*c[f]);return this}},{key:"zzc",value:function(c){c=(0,a.zzc2)(this,c);for(var f=0;f<this.zzl2;f++)for(var d=0;d<this.zzk2;d++)this.set(f,d,this.get(f,d)/c[f]);return this}},{key:"zzd",value:function(c,f){(0,a.zzi2)(this,c);for(var d=0;d<this.zzk2;d++)this.set(c,d,this.get(c,d)*f);return this}},{key:"zze",value:function(c,f){(0,a.zzj2)(this,c);for(var d=0;d<this.zzl2;d++)this.set(d,c,this.get(d,c)*f);return this}},{key:"max",value:function(){for(var a=this.get(0,0),f=0;f<this.zzl2;f++)for(var c=0;c<this.zzk2;c++)this.get(f,c)>a&&(a=this.get(f,c));return a}},{key:"zzf",value:function(){for(var a=this.get(0,0),f=[0,0],c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.get(c,d)>a&&(a=this.get(c,d),f[0]=c,f[1]=d);return f}},{key:"min",value:function(){for(var a=this.get(0,0),f=0;f<this.zzl2;f++)for(var c=0;c<this.zzk2;c++)this.get(f,c)<a&&(a=this.get(f,c));return a}},{key:"zzg",value:function(){for(var a=this.get(0,0),f=[0,0],c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)this.get(c,d)<a&&(a=this.get(c,d),f[0]=c,f[1]=d);return f}},{key:"zzh",value:function(c){(0,a.zzi2)(this,c);for(var f=this.get(c,0),d=1;d<this.zzk2;d++)this.get(c,d)>f&&(f=this.get(c,d));return f}},{key:"zzhIndex",value:function(c){(0,a.zzi2)(this,c);for(var f=this.get(c,0),d=[c,0],k=1;k<this.zzk2;k++)this.get(c,k)>f&&(f=this.get(c,k),d[1]=k);return d}},{key:"zzj",value:function(c){(0,a.zzi2)(this,c);for(var f=this.get(c,0),d=1;d<this.zzk2;d++)this.get(c,d)<f&&(f=this.get(c,d));return f}},{key:"zzjIndex",value:function(c){(0,a.zzi2)(this,c);for(var f=this.get(c,0),d=[c,0],k=1;k<this.zzk2;k++)this.get(c,k)<f&&(f=this.get(c,k),d[1]=k);return d}},{key:"zzl",value:function(c){(0,a.zzj2)(this,c);for(var f=this.get(0,c),d=1;d<this.zzl2;d++)this.get(d,c)>f&&(f=this.get(d,c));return f}},{key:"zzlIndex",value:function(c){(0,a.zzj2)(this,c);for(var f=this.get(0,c),d=[0,c],k=1;k<this.zzl2;k++)this.get(k,c)>f&&(f=this.get(k,c),d[0]=k);return d}},{key:"zzn",value:function(c){(0,a.zzj2)(this,c);for(var f=this.get(0,c),d=1;d<this.zzl2;d++)this.get(d,c)<f&&(f=this.get(d,c));return f}},{key:"zznIndex",value:function(c){(0,a.zzj2)(this,c);for(var f=this.get(0,c),d=[0,c],k=1;k<this.zzl2;k++)this.get(k,c)<f&&(f=this.get(k,c),d[0]=k);return d}},{key:"zzp",value:function(){for(var a=B(this.zzl2,this.zzk2),c=[],d=0;d<a;d++)c.push(this.get(d,d));return c}},{key:"zzq",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"frobenius",c=0;if("max"===a)return this.max();if("frobenius"===a){for(a=0;a<this.zzl2;a++)for(var d=0;d<this.zzk2;d++)c+=this.get(a,d)*this.get(a,d);return m(c)}throw new Error();}},{key:"zzr",value:function(){for(var a=0,c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)a+=this.get(c,d),this.set(c,d,a);return this}},{key:"dot",value:function(a){b.zzN1(a)&&(a=a.zzC());var c=this.zzC();if(c.length!==a.length)throw new Error();for(var d=0,k=0;k<c.length;k++)d+=c[k]*a[k];return d}},{key:"zzs",value:function(a){a=r.zzM1(a);this.zzk2!==a.zzl2&&1;for(var c=this.zzl2,d=this.zzk2,k=a.zzk2,e=new r(c,k),b=Array(d),l=0;l<k;l++){for(var p=0;p<d;p++)b[p]=a.get(p,l);for(var m,H=0;H<c;H++){for(p=m=0;p<d;p++)m+=this.get(H,p)*b[p];e.set(H,l,m)}}return e}},{key:"zzt",value:function(a){a=r.zzM1(a);var c=new r(2,2),d=this.get(0,0),k=a.get(0,0),e=this.get(0,1),b=a.get(0,1),l=this.get(1,0),p=a.get(1,0),m=this.get(1,1);a=a.get(1,1);var H=(d+m)*(k+a),h=(l+m)*k,n=d*(b-a),B=m*(p-k),q=(d+e)*a;return c.set(0,0,H+B-q+(e-m)*(p+a)),c.set(0,1,n+q),c.set(1,0,h+B),c.set(1,1,H-h+n+(l-d)*(k+b)),c}},{key:"zzu",value:function(a){a=r.zzM1(a);var c=new r(3,3),d=this.get(0,0),e=this.get(0,1),k=this.get(0,2),b=this.get(1,0),l=this.get(1,1),p=this.get(1,2),m=this.get(2,0),H=this.get(2,1),h=this.get(2,2),n=a.get(0,0),B=a.get(0,1),q=a.get(0,2),g=a.get(1,0),x=a.get(1,1),t=a.get(1,2),y=a.get(2,0),u=a.get(2,1);a=a.get(2,2);var I=(d-b)*(-B+x),G=(-d+b+l)*(n-B+x),R=(b+l)*(-n+B),D=d*n,P=(-d+m+H)*(n-q+t),N=(-d+m)*(q-t),W=(m+H)*(-n+q),fa=(-k+H+h)*(x+y-u),ma=(k-h)*(x-u),Z=k*y,na=(H+h)*(-y+u),oa=(-k+l+p)*(t+y-a),pa=(k-p)*(t-a),sa=(l+p)*(-y+a);return c.set(0,0,D+Z+e*g),c.set(0,1,(d+e+k-b-l-H-h)*x+G+R+D+fa+Z+na),c.set(0,2,D+P+W+(d+e+k-l-p-m-H)*t+Z+oa+sa),c.set(1,0,I+l*(-n+B+g-x-t-y+a)+G+D+Z+oa+pa),c.set(1,1,I+G+R+D+p*u),c.set(1,2,Z+oa+pa+sa+b*q),c.set(2,0,D+P+N+H*(-n+q+g-x-t-y+u)+fa+ma+Z),c.set(2,1,fa+ma+Z+na+m*B),c.set(2,2,D+P+N+W+h*a),c}},{key:"zzsStrassen",value:function(a){function c(a,c,d){var f=a.zzk2;return a.zzl2===c&&f===d?a:b.zzH1(c,d).zz71(a,0,0)}a=r.zzM1(a);var d=this.clone(),e=d.zzl2,k=d.zzk2,l=a.zzl2,p=a.zzk2;k!==l&&1;e=n(e,l);k=n(k,p);return function F(a,d,f,e){if(512>=f||512>=e)return a.zzs(d);1==f%2&&1==e%2?(a=c(a,f+1,e+1),d=c(d,f+1,e+1)):1==f%2?(a=c(a,f+1,e),d=c(d,f+1,e)):1==e%2&&(a=c(a,f,e+1),d=c(d,f,e+1));var k=parseInt(a.zzl2/2,10),U=parseInt(a.zzk2/2,10),l=a.zz41(0,k-1,0,U-1),r=d.zz41(0,k-1,0,U-1),p=a.zz41(0,k-1,U,a.zzk2-1),m=d.zz41(0,k-1,U,d.zzk2-1),H=a.zz41(k,a.zzl2-1,0,U-1),h=d.zz41(k,d.zzl2-1,0,U-1),n=a.zz41(k,a.zzl2-1,U,a.zzk2-1),B=d.zz41(k,d.zzl2-1,U,d.zzk2-1);a=F(b.add(l,n),b.add(r,B),k,U);var g=F(b.add(H,n),r,k,U);d=F(l,b.sub(m,B),k,U);var la=F(n,b.sub(h,r),k,U),x=F(b.add(l,p),B,k,U);l=F(b.sub(H,l),b.add(r,m),k,U);U=F(b.sub(p,n),b.add(h,B),k,U);k=b.add(a,la);k.sub(x);k.add(U);U=b.add(d,x);la=b.add(g,la);a=b.sub(a,g);a.add(d);a.add(l);return b.zzH1(2*k.zzl2,2*k.zzk2).zz71(k,0,0).zz71(U,k.zzl2,0).zz71(la,0,k.zzk2).zz71(a,k.zzl2,k.zzk2).zz41(0,f-1,0,e-1)}(d=c(d,e,k),a=c(a,e,k),e,k)}},{key:"zzw",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("object"!=_typeof(a))throw new Error();var c=a.min;c=void 0===c?0:c;a=a.max;a=void 0===a?1:a;if(!l(c))throw new Error();if(!l(a))throw new Error();if(c>=a)throw new Error();for(var d,e=new r(this.zzl2,this.zzk2),b=0;b<this.zzl2;b++)d=this.zzN(b),(0,p["default"])(d,{min:c,max:a,output:d}),e.zzP(b,d);return e}},{key:"zzx",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if("object"!=_typeof(a))throw new Error();var c=a.min;c=void 0===c?0:c;a=a.max;a=void 0===a?1:a;if(!l(c))throw new Error();if(!l(a))throw new Error();if(c>=a)throw new Error();for(var d,e=new r(this.zzl2,this.zzk2),b=0;b<this.zzk2;b++)d=this.zzR(b),(0,p["default"])(d,{min:c,max:a,output:d}),e.zzT(b,d);return e}},{key:"zzy",value:function(){for(var a=e(this.zzk2/2),c=0;c<this.zzl2;c++)for(var d=0;d<a;d++){var b=this.get(c,d),l=this.get(c,this.zzk2-1-d);this.set(c,d,l);this.set(c,this.zzk2-1-d,b)}return this}},{key:"zzz",value:function(){for(var a=e(this.zzl2/2),c=0;c<this.zzk2;c++)for(var d=0;d<a;d++){var b=this.get(d,c),l=this.get(this.zzl2-1-d,c);this.set(d,c,l);this.set(this.zzl2-1-d,c,b)}return this}},{key:"zz01",value:function(a){a=r.zzM1(a);for(var c=this.zzl2,d=this.zzk2,e=a.zzl2,k=a.zzk2,b=new r(c*e,d*k),l=0;l<c;l++)for(var p=0;p<d;p++)for(var m=0;m<e;m++)for(var H=0;H<k;H++)b.set(e*l+m,k*p+H,this.get(l,p)*a.get(m,H));return b}},{key:"zz11",value:function(){for(var a=new r(this.zzk2,this.zzl2),c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)a.set(d,c,this.get(c,d));return a}},{key:"zz21",value:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,c=0;c<this.zzl2;c++)this.zzP(c,this.zzN(c).sort(a));return this}},{key:"zz31",value:function(){for(var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t,c=0;c<this.zzk2;c++)this.zzT(c,this.zzR(c).sort(a));return this}},{key:"zz41",value:function(c,d,e,b){(0,a.zzW3)(this,c,d,e,b);for(var f=new r(d-c+1,b-e+1),k=c;k<=d;k++)for(var l=e;l<=b;l++)f.set(k-c,l-e,this.get(k,l));return f}},{key:"zz41Row",value:function(a,c,d){if(void 0===c&&(c=0),void 0===d&&(d=this.zzk2-1),c>d||0>c||c>=this.zzk2||0>d||d>=this.zzk2)throw new Error();for(var f=new r(a.length,d-c+1),e=0;e<a.length;e++)for(var k=c;k<=d;k++){if(0>a[e]||a[e]>=this.zzl2)throw new Error();f.set(e,k-c,this.get(a[e],k))}return f}},{key:"zz41Column",value:function(a,c,d){if(void 0===c&&(c=0),void 0===d&&(d=this.zzl2-1),c>d||0>c||c>=this.zzl2||0>d||d>=this.zzl2)throw new Error();for(var f=new r(d-c+1,a.length),e=0;e<a.length;e++)for(var k=c;k<=d;k++){if(0>a[e]||a[e]>=this.zzk2)throw new Error();f.set(k-c,e,this.get(k,a[e]))}return f}},{key:"zz71",value:function(c,d,e){var f=d+(c=r.zzM1(c)).zzl2-1,k=e+c.zzk2-1;(0,a.zzW3)(this,d,f,e,k);for(f=0;f<c.zzl2;f++)for(k=0;k<c.zzk2;k++)this.set(d+f,e+k,c.get(f,k));return this}},{key:"zz81",value:function(c,d){var f=(0,a.zzV3)(this,c,d);c=new r(c.length,d.length);for(d=0;d<f.row.length;d++)for(var e,k=f.row[d],b=0;b<f.zz63.length;b++)e=f.zz63[b],c.set(d,b,this.get(k,e));return c}},{key:"trace",value:function(){for(var a=B(this.zzl2,this.zzk2),c=0,d=0;d<a;d++)c+=this.get(d,d);return c}},{key:"clone",value:function(){for(var a=new r(this.zzl2,this.zzk2),c=0;c<this.zzl2;c++)for(var d=0;d<this.zzk2;d++)a.set(c,d,this.get(c,d));return a}},{key:"sum",value:function(a){switch(a){case "row":return(0,c.zzy2)(this);case "zz63":return(0,c.zze2)(this);case void 0:return(0,c.zz13)(this);default:throw new Error();}}},{key:"zz91",value:function(a){switch(a){case "row":return(0,c.zz91ByRow)(this);case "zz63":return(0,c.zz91zz03)(this);case void 0:return(0,c.zz91All)(this);default:throw new Error();}}},{key:"zzA1",value:function(a){var c=this.sum(a);switch(a){case "row":for(a=0;a<this.zzl2;a++)c[a]/=this.zzk2;return c;case "zz63":for(a=0;a<this.zzk2;a++)c[a]/=this.zzl2;return c;case void 0:return c/this.zzD1;default:throw new Error();}}},{key:"zzB1",value:function(a){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("object"==_typeof(a)&&(d=a,a=void 0),"object"!=_typeof(d))throw new Error();var e=d;d=e.unbiased;d=void 0===d||d;e=e.zzA1;e=void 0===e?this.zzA1(a):e;if("boolean"!=typeof d)throw new Error();switch(a){case "row":if(!Array.isArray(e))throw new Error();return(0,c.zzB1ByRow)(this,d,e);case "zz63":if(!Array.isArray(e))throw new Error();return(0,c.zzB1zz03)(this,d,e);case void 0:if("number"!=typeof e)throw new Error();return(0,c.zzB1All)(this,d,e);default:throw new Error();}}},{key:"zzC1",value:function(a,c){"object"==_typeof(a)&&(c=a,a=void 0);c=this.zzB1(a,c);if(void 0===a)return m(c);for(a=0;a<c.length;a++)c[a]=m(c[a]);return c}},{key:"zzD1",get:function(){return this.zzl2*this.zzk2}}],[{key:"zzE1",value:function(a,c,d){if(a*c!==d.length)throw new Error();for(var f=new r(a,c),e=0;e<a;e++)for(var b=0;b<c;b++)f.set(e,b,d[e*c+b]);return f}},{key:"zzF1",value:function(a){for(var c=new r(1,a.length),d=0;d<a.length;d++)c.set(0,d,a[d]);return c}},{key:"zzG1",value:function(a){for(var c=new r(a.length,1),d=0;d<a.length;d++)c.set(d,0,a[d]);return c}},{key:"zzH1",value:function(a,c){return new r(a,c)}},{key:"zzI1",value:function(a,c){return(new r(a,c)).zzM(1)}},{key:"rand",value:function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("object"!=_typeof(d))throw new Error();d=d.random;d=void 0===d?Math.random:d;for(var f=new r(a,c),e=0;e<a;e++)for(var b=0;b<c;b++)f.set(e,b,d());return f}},{key:"zzJ1",value:function(a,c){var d=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if("object"!=_typeof(d))throw new Error();var f=d.min;f=void 0===f?0:f;var e=d.max;e=void 0===e?1E3:e;d=d.random;d=void 0===d?Math.random:d;if(!x(f))throw new Error();if(!x(e))throw new Error();if(f>=e)throw new Error();for(var b=new r(a,c),k=0;k<a;k++)for(var l,p=0;p<c;p++)l=f+h(d()*(e-f)),b.set(k,p,l);return b}},{key:"zzK1",value:function(a,c,d){void 0===c&&(c=a);void 0===d&&(d=1);var e=B(a,c);a=this.zzH1(a,c);for(c=0;c<e;c++)a.set(c,c,d);return a}},{key:"zzp",value:function(a,c,d){var e=a.length;void 0===c&&(c=e);void 0===d&&(d=c);e=B(e,c,d);c=this.zzH1(c,d);for(d=0;d<e;d++)c.set(d,d,a[d]);return c}},{key:"min",value:function(a,c){a=this.zzM1(a);c=this.zzM1(c);for(var d=a.zzl2,e=a.zzk2,f=new r(d,e),b=0;b<d;b++)for(var k=0;k<e;k++)f.set(b,k,B(a.get(b,k),c.get(b,k)));return f}},{key:"max",value:function(a,c){a=this.zzM1(a);c=this.zzM1(c);for(var d=a.zzl2,e=a.zzk2,f=new this(d,e),b=0;b<d;b++)for(var k=0;k<e;k++)f.set(b,k,n(a.get(b,k),c.get(b,k)));return f}},{key:"zzM1",value:function(a){return b.zzN1(a)?a:new r(a)}},{key:"zzN1",value:function(a){return null!=a&&"Matrix"===a.klass}}]),b}();b.zz4=u;u.prototype.klass="Matrix";"undefined"!=typeof Symbol&&(u.prototype[Symbol["for"]("zzi3")]=d.zzX3);u.random=u.rand;u.randomInt=u.zzJ1;u.zzponal=u.zzp;u.prototype.zzponal=u.prototype.zzp;u.zzs2=u.zzK1;u.prototype.negate=u.prototype.neg;u.prototype.zzM3=u.prototype.zz01;var r=function(c){function d(a,c){var e;if(zzr2(this,d),e=zzf2(this,_getPrototypeOf(d).call(this)),d.zzN1(a))return zzf2(e,a.clone());if(x(a)&&0<a){if(e.data=[],!(x(c)&&0<c))throw new Error();for(var f=0;f<a;f++){e.data.push([]);for(var b=0;b<c;b++)e.data[f].push(0)}}else{if(!Array.isArray(a))throw new Error();f=a;if(a=f.length,"number"!=typeof(c=f[0].length)||0===c)throw new Error();e.data=[];for(b=0;b<a;b++){if(f[b].length!==c)throw new Error();e.data.push(f[b].slice())}}return zzf2(e,(e.zzl2=a,e.zzk2=c,_assertThisInitialized(e)))}return zzg2(d,c),zz53(d,[{key:"set",value:function(a,c,d){return this.data[a][c]=d,this}},{key:"get",value:function(a,c){return this.data[a][c]}},{key:"zzO1",value:function(c){if((0,a.zzi2)(this,c),1===this.zzl2)throw new Error();return this.data.splice(c,1),--this.zzl2,this}},{key:"zzP1",value:function(c,d){return void 0===d&&(d=c,c=this.zzl2),(0,a.zzi2)(this,c,!0),d=(0,a.zzh2)(this,d,!0),this.data.splice(c,0,d),this.zzl2+=1,this}},{key:"zzR1",value:function(c){if((0,a.zzj2)(this,c),1===this.zzk2)throw new Error();for(var d=0;d<this.zzl2;d++)this.data[d].splice(c,1);return--this.zzk2,this}},{key:"zzS1",value:function(c,d){void 0===d&&(d=c,c=this.zzk2);(0,a.zzj2)(this,c,!0);d=(0,a.zzc2)(this,d);for(var e=0;e<this.zzl2;e++)this.data[e].splice(c,0,d[e]);return this.zzk2+=1,this}}]),d}(u);b["default"]=r;(0,g.zzb2)(u,r)},{"zzN2":"+aQ1","zzo2":"DKHH","zzv2":"L2Eg","zzI2":"KOL4","zzH2":"poMD"}],nH83:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b,m,h){var e;return zzr2(this,n),e=zzf2(this,_getPrototypeOf(n).call(this)),e.matrix=b,e.zzl2=m,e.zzk2=h,e}return zzg2(n,b),n}(g("zzD2").zz4);b["default"]=g},{"zzD2":"d3nN"}],akxw:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h){var e;return zzr2(this,n),(0,t.zzj2)(b,h),e=zzf2(this,_getPrototypeOf(n).call(this,b,b.zzl2,1)),e.zz63=h,e}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(b,this.zz63,e),this}},{key:"get",value:function(b){return this.matrix.get(b,this.zz63)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],"UA+r":[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h){var e;return zzr2(this,n),h=(0,t.zz33)(b,h),e=zzf2(this,_getPrototypeOf(n).call(this,b,b.zzl2,h.length)),e.zzp2=h,e}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(b,this.zzp2[h],e),this}},{key:"get",value:function(b,h){return this.matrix.get(b,this.zzp2[h])}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],Rj3p:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b){return zzr2(this,n),zzf2(this,_getPrototypeOf(n).call(this,b,b.zzl2,b.zzk2))}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,m,h){return this.matrix.set(b,this.zzk2-m-1,h),this}},{key:"get",value:function(b,m){return this.matrix.get(b,this.zzk2-m-1)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzJ2":"nH83"}],ItzX:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b){return zzr2(this,n),zzf2(this,_getPrototypeOf(n).call(this,b,b.zzl2,b.zzk2))}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,m,h){return this.matrix.set(this.zzl2-b-1,m,h),this}},{key:"get",value:function(b,m){return this.matrix.get(this.zzl2-b-1,m)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzJ2":"nH83"}],LOf7:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h){var e;return zzr2(this,n),(0,t.zzi2)(b,h),e=zzf2(this,_getPrototypeOf(n).call(this,b,1,b.zzk2)),e.row=h,e}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(this.row,h,e),this}},{key:"get",value:function(b,h){return this.matrix.get(this.row,h)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],Inl8:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h){var e;return zzr2(this,n),e=zzf2(this,_getPrototypeOf(n).call(this,b,(h=(0,t.zz23)(b,h)).length,b.zzk2)),e.rowIndices=h,e}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(this.rowIndices[b],h,e),this}},{key:"get",value:function(b,h){return this.matrix.get(this.rowIndices[b],h)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],gnlB:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h,e){var m;zzr2(this,n);h=(0,t.zzV3)(b,h,e);return m=zzf2(this,_getPrototypeOf(n).call(this,b,h.row.length,h.zz63.length)),m.rowIndices=h.row,m.zzp2=h.zz63,m}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(this.rowIndices[b],this.zzp2[h],e),this}},{key:"get",value:function(b,h){return this.matrix.get(this.rowIndices[b],this.zzp2[h])}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],Vm1M:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var t=g("zzn2");g=function(b){function n(b,h,e,B,p){var a;return zzr2(this,n),(0,t.zzW3)(b,h,e,B,p),a=zzf2(this,_getPrototypeOf(n).call(this,b,e-h+1,p-B+1)),a.zz0=h,a.zz2=B,a}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,h,e){return this.matrix.set(this.zz0+b,this.zz2+h,e),this}},{key:"get",value:function(b,h){return this.matrix.get(this.zz0+b,this.zz2+h)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzn2":"DKHH","zzJ2":"nH83"}],atAY:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b){return zzr2(this,n),zzf2(this,_getPrototypeOf(n).call(this,b,b.zzk2,b.zzl2))}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,m,h){return this.matrix.set(m,b,h),this}},{key:"get",value:function(b,m){return this.matrix.get(m,b)}}]),n}(function(b){return b&&b.zzB?b:{default:b}}(g("zzJ2"))["default"]);b["default"]=g},{"zzJ2":"nH83"}],Qkul:[function(g,u,b){function t(a){return a&&a.zzB?a:{default:a}}Object.defineProperty(b,"zzB",{value:!0});Object.defineProperty(b,"zzl3",{enumerable:!0,get:function(){return n["default"]}});Object.defineProperty(b,"MatrixzzH3",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(b,"MatrixzzL3",{enumerable:!0,get:function(){return m["default"]}});Object.defineProperty(b,"MatrixFlipzzJ3",{enumerable:!0,get:function(){return h["default"]}});Object.defineProperty(b,"MatrixzzJ3",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(b,"MatrixzzI3",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(b,"MatrixSelectionView",{enumerable:!0,get:function(){return p["default"]}});Object.defineProperty(b,"MatrixzzK3",{enumerable:!0,get:function(){return a["default"]}});Object.defineProperty(b,"MatrixzzG3",{enumerable:!0,get:function(){return c["default"]}});var n=t(g("./zz63")),x=t(g("zzE2")),m=t(g("zzO2")),h=t(g("zzm2")),e=t(g("zzt2")),B=t(g("zzG2")),p=t(g("./zz81")),a=t(g("zzD3")),c=t(g("./zz11"))},{"./zz63":"akxw","zzE2":"UA+r","zzO2":"Rj3p","zzm2":"ItzX","zzt2":"LOf7","zzG2":"Inl8","./zz81":"gnlB","zzD3":"Vm1M","./zz11":"atAY"}],JwL4:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b){var m,h=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};zzr2(this,n);h=h.zzl2;h=void 0===h?1:h;if(0!=b.length%h)throw new Error();return m=zzf2(this,_getPrototypeOf(n).call(this)),m.zzl2=h,m.zzk2=b.length/h,m.data=b,m}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,m,h){b=this.zzT1(b,m);return this.data[b]=h,this}},{key:"get",value:function(b,m){b=this.zzT1(b,m);return this.data[b]}},{key:"zzT1",value:function(b,m){return b*this.zzk2+m}}]),n}(g("zzD2").zz4);b["default"]=g},{"zzD2":"d3nN"}],Wck9:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;g=function(b){function n(b){var m;return zzr2(this,n),m=zzf2(this,_getPrototypeOf(n).call(this)),m.data=b,m.zzl2=b.length,m.zzk2=b[0].length,m}return zzg2(n,b),zz53(n,[{key:"set",value:function(b,m,h){return this.data[b][m]=h,this}},{key:"get",value:function(b,m){return this.data[b][m]}}]),n}(g("zzD2").zz4);b["default"]=g},{"zzD2":"d3nN"}],qzLa:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}Object.defineProperty(b,"zzB",{value:!0});b.zz5=function(b,h){if(Array.isArray(b))return b[0]&&Array.isArray(b[0])?new x["default"](b):new n["default"](b,h);throw new Error();};var n=t(g("./zz6")),x=t(g("./zz7"))},{"./zz6":"JwL4","./zz7":"Wck9"}],UMPl:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}var n=Math.abs,x=Math.min;Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var m=t(g("zzD2")),h=t(g("../zz5/zz7"));g=function(){function b(e){zzr2(this,b);var p,a,c,d=h["default"].zzM1(e).clone(),r=d.zzl2,H=d.zzk2,l=Array(r),k=1;for(p=0;p<r;p++)l[p]=p;var f=Array(r);for(e=0;e<H;e++){for(p=0;p<r;p++)f[p]=d.get(p,e);for(p=0;p<r;p++){var m=x(p,e);for(a=c=0;a<m;a++)c+=d.get(p,a)*f[a];f[p]-=c;d.set(p,e,f[p])}c=e;for(p=e+1;p<r;p++)n(f[p])>n(f[c])&&(c=p);if(c!==e){for(a=0;a<H;a++)p=d.get(c,a),d.set(c,a,d.get(e,a)),d.set(e,a,p);a=l[c];l[c]=l[e];l[e]=a;k=-k}if(e<r&&0!==d.get(e,e))for(p=e+1;p<r;p++)d.set(p,e,d.get(p,e)/d.get(e,e))}this.LU=d;this.pivotVector=l;this.zzq2=k}return zz53(b,[{key:"zzU1",value:function(){for(var b=this.LU,e=b.zzk2,a=0;a<e;a++)if(0===b.get(a,a))return!0;return!1}},{key:"solve",value:function(b){b=m["default"].zzM1(b);var e=this.LU;if(e.zzl2!==b.zzl2)throw new Error();if(this.zzU1())throw new Error();var a,c,d=b.zzk2,r=b.zz41Row(this.pivotVector,0,d-1),H=e.zzk2;for(c=0;c<H;c++)for(b=c+1;b<H;b++)for(a=0;a<d;a++)r.set(b,a,r.get(b,a)-r.get(c,a)*e.get(b,c));for(c=H-1;0<=c;c--){for(a=0;a<d;a++)r.set(c,a,r.get(c,a)/e.get(c,c));for(b=0;b<c;b++)for(a=0;a<d;a++)r.set(b,a,r.get(b,a)-r.get(c,a)*e.get(b,c))}return r}},{key:"zzV1",get:function(){var b=this.LU;if(!b.zzH())throw new Error();for(var e=this.zzq2,a=b.zzk2,c=0;c<a;c++)e*=b.get(c,c);return e}},{key:"zzW1",get:function(){for(var b=this.LU,e=b.zzl2,a=b.zzk2,c=new m["default"](e,a),d=0;d<e;d++)for(var r=0;r<a;r++)d>r?c.set(d,r,b.get(d,r)):d==r?c.set(d,r,1):c.set(d,r,0);return c}},{key:"zzX1",get:function(){for(var b=this.LU,e=b.zzl2,a=b.zzk2,c=new m["default"](e,a),d=0;d<e;d++)for(var r=0;r<a;r++)d<=r?c.set(d,r,b.get(d,r)):c.set(d,r,0);return c}},{key:"zzY1",get:function(){return this.pivotVector.slice()}}]),b}();b["default"]=g},{"zzD2":"d3nN","../zz5/zz7":"Wck9"}],NZrV:[function(g,u,b){var t=Math.sqrt,n=Math.abs;Object.defineProperty(b,"zzB",{value:!0});b.zz73=function(b,m){var h=0;return n(b)>n(m)?(h=m/b,n(b)*t(1+h*h)):0===m?0:(h=b/m,n(m)*t(1+h*h))}},{}],U1MM:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var n=t(g("zzD2")),x=t(g("../zz5/zz7")),m=g("zzo2");g=function(){function b(e){zzr2(this,b);var h,p,a=(e=x["default"].zzM1(e)).clone(),c=e.zzl2,d=e.zzk2,r=Array(d);for(p=0;p<d;p++){var H=0;for(e=p;e<c;e++)H=(0,m.zz73)(H,a.get(e,p));if(0!==H){0>a.get(p,p)&&(H=-H);for(e=p;e<c;e++)a.set(e,p,a.get(e,p)/H);a.set(p,p,a.get(p,p)+1);for(h=p+1;h<d;h++){var l=0;for(e=p;e<c;e++)l+=a.get(e,p)*a.get(e,h);l=-l/a.get(p,p);for(e=p;e<c;e++)a.set(e,h,a.get(e,h)+l*a.get(e,p))}}r[p]=-H}this.QR=a;this.Rzzp=r}return zz53(b,[{key:"solve",value:function(b){b=n["default"].zzM1(b);var e=this.QR,p=e.zzl2;if(b.zzl2!==p)throw new Error();if(!this.zzZ1())throw new Error();var a,c,d=b.zzk2,r=b.clone(),H=e.zzk2;for(c=0;c<H;c++)for(a=0;a<d;a++){var l=0;for(b=c;b<p;b++)l+=e.get(b,c)*r.get(b,a);l=-l/e.get(c,c);for(b=c;b<p;b++)r.set(b,a,r.get(b,a)+l*e.get(b,c))}for(c=H-1;0<=c;c--){for(a=0;a<d;a++)r.set(c,a,r.get(c,a)/this.Rzzp[c]);for(b=0;b<c;b++)for(a=0;a<d;a++)r.set(b,a,r.get(b,a)-r.get(c,a)*e.get(b,c))}return r.zz41(0,H-1,0,d-1)}},{key:"zzZ1",value:function(){for(var b=this.QR.zzk2,h=0;h<b;h++)if(0===this.Rzzp[h])return!1;return!0}},{key:"zzX1",get:function(){var b,h,p=this.QR,a=p.zzk2,c=new n["default"](a,a);for(b=0;b<a;b++)for(h=0;h<a;h++)b<h?c.set(b,h,p.get(b,h)):b===h?c.set(b,h,this.Rzzp[b]):c.set(b,h,0);return c}},{key:"zza1",get:function(){var b,h,p,a=this.QR,c=a.zzl2,d=a.zzk2,r=new n["default"](c,d);for(p=d-1;0<=p;p--){for(b=0;b<c;b++)r.set(b,p,0);r.set(p,p,1);for(h=p;h<d;h++)if(0!==a.get(p,p)){var H=0;for(b=p;b<c;b++)H+=a.get(b,p)*r.get(b,h);H=-H/a[p][p];for(b=p;b<c;b++)r.set(b,h,r.get(b,h)+H*a.get(b,p))}}return r}}]),b}();b["default"]=g},{"zzD2":"d3nN","../zz5/zz7":"Wck9","zzo2":"NZrV"}],uExS:[function(g,u,b){function t(a){return a&&a.zzB?a:{default:a}}var n=Number.EPSILON,x=Math.max,m=Math.sqrt,h=Math.abs,e=Math.min;Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var B=t(g("zzD2")),p=t(g("../zz5/zz7")),a=g("zzo2");g=function(){function c(d){var b=Number.isNaN,H=Number.MIN_VALUE,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};zzr2(this,c);var k,f=(d=p["default"].zzM1(d)).zzl2,g=d.zzk2,la=l.computeLeftSingularVectors,t=l.zza2,E=l.zz83,u=!(void 0!==la&&!la),z=!(void 0!==t&&!t),A=!1;if(f<g)if(void 0!==E&&E){f=(k=d.zz11()).zzl2;g=k.zzk2;A=!0;var M=u;u=z;z=M}else k=d.clone(),1;else k=d.clone();for(var C=e(f,g),J=e(f+1,g),F=Array(J),q=new B["default"](f,C),v=new B["default"](g,g),w=Array(g),V=Array(f),y=Array(J),O=0;O<J;O++)y[O]=O;for(var I=e(f-1,g),G=x(0,e(g-2,f)),R=x(I,G),D=0;D<R;D++){if(D<I){F[D]=0;for(var P=D;P<f;P++)F[D]=(0,a.zz73)(F[D],k.get(P,D));if(0!==F[D]){0>k.get(D,D)&&(F[D]=-F[D]);for(var N=D;N<f;N++)k.set(N,D,k.get(N,D)/F[D]);k.set(D,D,k.get(D,D)+1)}F[D]=-F[D]}for(var W=D+1;W<g;W++){if(D<I&&0!==F[D]){for(var fa=0,ma=D;ma<f;ma++)fa+=k.get(ma,D)*k.get(ma,W);fa=-fa/k.get(D,D);for(var Z=D;Z<f;Z++)k.set(Z,W,k.get(Z,W)+fa*k.get(Z,D))}w[W]=k.get(D,W)}if(u&&D<I)for(var na=D;na<f;na++)q.set(na,D,k.get(na,D));if(D<G){w[D]=0;for(var oa=D+1;oa<g;oa++)w[D]=(0,a.zz73)(w[D],w[oa]);if(0!==w[D]){0>w[D+1]&&(w[D]=0-w[D]);for(var pa=D+1;pa<g;pa++)w[pa]/=w[D];w[D+1]+=1}if(w[D]=-w[D],D+1<f&&0!==w[D]){for(var sa=D+1;sa<f;sa++)V[sa]=0;for(var xa=D+1;xa<f;xa++)for(var Ma=D+1;Ma<g;Ma++)V[xa]+=w[Ma]*k.get(xa,Ma);for(var fb,ya=D+1;ya<g;ya++){fb=-w[ya]/w[D+1];for(var za=D+1;za<f;za++)k.set(za,ya,k.get(za,ya)+fb*V[za])}}if(z)for(var Na=D+1;Na<g;Na++)v.set(Na,D,w[Na])}}var S=e(g,f+1);if(I<g&&(F[I]=k.get(I,I)),f<S&&(F[S-1]=0),G+1<S&&(w[G]=k.get(G,S-1)),w[S-1]=0,u){for(var Aa=I;Aa<C;Aa++){for(var Ua=0;Ua<f;Ua++)q.set(Ua,Aa,0);q.set(Aa,Aa,1)}for(var T=I-1;0<=T;T--)if(0!==F[T]){for(var Ba,Ca=T+1;Ca<C;Ca++){Ba=0;for(var Oa=T;Oa<f;Oa++)Ba+=q.get(Oa,T)*q.get(Oa,Ca);Ba=-Ba/q.get(T,T);for(var Da=T;Da<f;Da++)q.set(Da,Ca,q.get(Da,Ca)+Ba*q.get(Da,T))}for(var Pa=T;Pa<f;Pa++)q.set(Pa,T,-q.get(Pa,T));q.set(T,T,1+q.get(T,T));for(var Va=0;Va<T-1;Va++)q.set(Va,T,0)}else{for(var Wa=0;Wa<f;Wa++)q.set(Wa,T,0);q.set(T,T,1)}}if(z)for(var Y=g-1;0<=Y;Y--){if(Y<G&&0!==w[Y])for(var Ea,Fa=Y+1;Fa<g;Fa++){Ea=0;for(var Qa=Y+1;Qa<g;Qa++)Ea+=v.get(Qa,Y)*v.get(Qa,Fa);Ea=-Ea/v.get(Y+1,Y);for(var Ga=Y+1;Ga<g;Ga++)v.set(Ga,Fa,v.get(Ga,Fa)+Ea*v.get(Ga,Y))}for(var Xa=0;Xa<g;Xa++)v.set(Xa,Y,0);v.set(Y,Y,1)}for(var gb=S-1;0<S;){var L,Ha=void 0;for(L=S-2;-1<=L&&-1!==L;L--){var ib=H+n*h(F[L]+h(F[L+1]));if(h(w[L])<=ib||b(w[L])){w[L]=0;break}}if(L===S-2)Ha=4;else{var aa;for(aa=S-1;aa>=L&&aa!==L;aa--){var jb=(aa===S?0:h(w[aa]))+(aa===L+1?0:h(w[aa-1]));if(h(F[aa])<=n*jb){F[aa]=0;break}}aa===L?Ha=3:aa===S-1?Ha=1:(Ha=2,L=aa)}switch(L++,Ha){case 1:var Ya=w[S-2];w[S-2]=0;for(var ba=S-2;ba>=L;ba--){var Ia=(0,a.zz73)(F[ba],Ya),Za=F[ba]/Ia,$a=Ya/Ia;if(F[ba]=Ia,ba!==L&&(Ya=-$a*w[ba-1],w[ba-1]*=Za),z)for(var ha=0;ha<g;ha++)Ia=Za*v.get(ha,ba)+$a*v.get(ha,S-1),v.set(ha,S-1,-$a*v.get(ha,ba)+Za*v.get(ha,S-1)),v.set(ha,ba,Ia)}break;case 2:var ab=w[L-1];w[L-1]=0;for(var ca=L;ca<S;ca++){var Ja=(0,a.zz73)(F[ca],ab),bb=F[ca]/Ja,cb=ab/Ja;if(F[ca]=Ja,ab=-cb*w[ca],w[ca]*=bb,u)for(var ia=0;ia<f;ia++)Ja=bb*q.get(ia,ca)+cb*q.get(ia,L-1),q.set(ia,L-1,-cb*q.get(ia,ca)+bb*q.get(ia,L-1)),q.set(ia,ca,Ja)}break;case 3:var Ka=x(h(F[S-1]),h(F[S-2]),h(w[S-2]),h(F[L]),h(w[L])),ta=F[S-1]/Ka,hb=F[S-2]/Ka,Ra=w[S-2]/Ka,db=F[L]/Ka,kb=w[L]/Ka,qa=((hb+ta)*(hb-ta)+Ra*Ra)/2,Sa=ta*Ra*ta*Ra,eb=0;0==qa&&0==Sa||(eb=Sa/(qa+(eb=0>qa?0-m(qa*qa+Sa):m(qa*qa+Sa))));for(var X,ra=(db+ta)*(db-ta)+eb,ua=db*kb,Q=L;Q<S-1;Q++){X=(0,a.zz73)(ra,ua);0===X&&(X=H);var da=ra/X,ea=ua/X;if(Q!==L&&(w[Q-1]=X),ra=da*F[Q]+ea*w[Q],w[Q]=da*w[Q]-ea*F[Q],ua=ea*F[Q+1],F[Q+1]*=da,z)for(var ja=0;ja<g;ja++)X=da*v.get(ja,Q)+ea*v.get(ja,Q+1),v.set(ja,Q+1,-ea*v.get(ja,Q)+da*v.get(ja,Q+1)),v.set(ja,Q,X);if(0===(X=(0,a.zz73)(ra,ua))&&(X=H),da=ra/X,ea=ua/X,F[Q]=X,ra=da*w[Q]+ea*F[Q+1],F[Q+1]=-ea*w[Q]+da*F[Q+1],ua=ea*w[Q+1],w[Q+1]*=da,u&&Q<f-1)for(var ka=0;ka<f;ka++)X=da*q.get(ka,Q)+ea*q.get(ka,Q+1),q.set(ka,Q+1,-ea*q.get(ka,Q)+da*q.get(ka,Q+1)),q.set(ka,Q,X)}w[S-2]=ra;1;break;case 4:if(0>=F[L]&&(F[L]=0>F[L]?-F[L]:0,z))for(var Ta=0;Ta<=gb;Ta++)v.set(Ta,L,-v.get(Ta,L));for(;L<gb&&!(F[L]>=F[L+1]);){var La=F[L];if(F[L]=F[L+1],F[L+1]=La,z&&L<g-1)for(var va=0;va<g;va++)La=v.get(va,L+1),v.set(va,L+1,v.get(va,L)),v.set(va,L,La);if(u&&L<f-1)for(var wa=0;wa<f;wa++)La=q.get(wa,L+1),q.set(wa,L+1,q.get(wa,L)),q.set(wa,L,La);L++}0;S--}}if(A){var lb=v;v=q;q=lb}this.m=f;this.n=g;this.s=F;this.U=q;this.V=v}return zz53(c,[{key:"solve",value:function(a){for(var c=this.zzg1,d=this.s.length,b=B["default"].zzH1(d,d),e=0;e<d;e++)h(this.s[e])<=c?b.set(e,e,0):b.set(e,e,1/this.s[e]);c=this.U;e=this.zzi1;b=e.zzs(b);e=e.zzl2;for(var f=c.zzl2,p=B["default"].zzH1(e,f),m=0;m<e;m++)for(var g,n=0;n<f;n++){for(var t=g=0;t<d;t++)g+=b.get(m,t)*c.get(n,t);p.set(m,n,g)}return p.zzs(a)}},{key:"zzb1",value:function(a){return this.solve(B["default"].zzp(a))}},{key:"inverse",value:function(){for(var a=this.V,c=this.zzg1,b=a.zzl2,e=a.zzk2,k=new B["default"](b,this.s.length),f=0;f<b;f++)for(var p=0;p<e;p++)h(this.s[p])>c&&k.set(f,p,a.get(f,p)/this.s[p]);a=this.U;c=a.zzl2;e=a.zzk2;f=new B["default"](b,c);for(p=0;p<b;p++)for(var m,g=0;g<c;g++){for(var n=m=0;n<e;n++)m+=k.get(p,n)*a.get(g,n);f.set(p,g,m)}return f}},{key:"zzc1",get:function(){return this.s[0]/this.s[e(this.m,this.n)-1]}},{key:"zzq2",get:function(){return this.s[0]}},{key:"zze1",get:function(){for(var a=x(this.m,this.n)*this.s[0]*n,c=0,b=this.s,e=0,k=b.length;e<k;e++)b[e]>a&&c++;return c}},{key:"zzponal",get:function(){return this.s}},{key:"zzg1",get:function(){return n/2*x(this.m,this.n)*this.s[0]}},{key:"zzh1",get:function(){return this.U}},{key:"zzi1",get:function(){return this.V}},{key:"zzponalMatrix",get:function(){return B["default"].zzp(this.s)}}]),c}();b["default"]=g},{"zzD2":"d3nN","../zz5/zz7":"Wck9","zzo2":"NZrV"}],TRdW:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}function n(b,a){var c=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2];return b=B["default"].zzM1(b),a=B["default"].zzM1(a),c?(new h["default"](b)).solve(a):b.zzH()?(new x["default"](b)).solve(a):(new m["default"](b)).solve(a)}Object.defineProperty(b,"zzB",{value:!0});b.inverse=function(b){var a=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];return b=B["default"].zzM1(b),a?(new h["default"](b)).inverse():n(b,e["default"].zzK1(b.zzl2))};b.solve=n;var x=t(g("zzA3")),m=t(g("zzB3")),h=t(g("zz93")),e=t(g("zzP2")),B=t(g("./zz5/zz7"))},{"zzA3":"UMPl","zzB3":"U1MM","zz93":"uExS","zzP2":"d3nN","./zz5/zz7":"Wck9"}],zd9h:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}function n(b){var e,p,a,c,d,r;if((b=x["default"].zzM1(b)).zzH())return 2===b.zzk2?(e=b.get(0,0),p=b.get(0,1),a=b.get(1,0),e*b.get(1,1)-p*a):3===b.zzk2?(c=new h["default"](b,[1,2],[1,2]),d=new h["default"](b,[1,2],[0,2]),r=new h["default"](b,[1,2],[0,1]),e=b.get(0,0),p=b.get(0,1),a=b.get(0,2),e*n(c)-p*n(d)+a*n(r)):(new m["default"](b)).zzV1;throw new Error();}Object.defineProperty(b,"zzB",{value:!0});b.zzV1=n;var x=t(g("zzP2")),m=t(g("zzA3")),h=t(g("zzC3zz81"))},{"zzP2":"d3nN","zzA3":"UMPl","zzC3zz81":"gnlB"}],YYy6:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}function n(b,e){for(var a=[],c=0;c<b;c++)c!==e&&a.push(c);return a}function x(b,e,a){var c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1E-9;if(b>(4<arguments.length&&void 0!==arguments[4]?arguments[4]:1E-9))return Array(e.zzl2+1).zzM(0);for(var d=e.zzP1(a,[0]),r=0;r<d.zzl2;r++)m(d.get(r,0))<c&&d.set(r,0,0);return d.zzC()}var m=Math.abs;Object.defineProperty(b,"zzB",{value:!0});b.zze3=function(b){var p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=p.zzg1Value;a=void 0===a?1E-9:a;p=p.zzg1Error;p=void 0===p?1E-9:p;for(var c=(b=h["default"].zzM1(b)).zzl2,d=new h["default"](c,c),r=0;r<c;r++){var H=h["default"].zzG1(b.zzN(r)),l=b.zz41Row(n(c,r)).zz11(),k=(new e["default"](l)).solve(H);H=h["default"].sub(H,l.zzs(k)).abs().max();d.zzP(r,x(H,k,r,a,p))}return d};var h=t(g("zzP2")),e=t(g("zz93"))},{"zzP2":"d3nN","zz93":"uExS"}],"3+uj":[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}var n=Number.EPSILON,x=Math.abs;Object.defineProperty(b,"zzB",{value:!0});b.zz8=function(b){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:n;b=h["default"].zzM1(b);var p=new m["default"](b,{zz83:!0}),a=p.zzh1,c=p.zzi1;p=p.zzponal;for(var d=0;d<p.length;d++)p[d]=x(p[d])>e?1/p[d]:0;return c.zzs(h["default"].zzp(p).zzs(a.zz11()))};var m=t(g("zz93")),h=t(g("zzP2"))},{"zz93":"uExS","zzP2":"d3nN"}],ECz3:[function(g,u,b){function t(a){return a&&a.zzB?a:{default:a}}function n(a,c,b,l){var d,f;return e(b)>e(l)?[(a+(d=l/b)*c)/(f=b+d*l),(c-d*a)/f]:[((d=b/l)*a+c)/(f=l+d*b),(d*c-a)/f]}var x=Number.EPSILON,m=Math.max,h=Math.sqrt,e=Math.abs,B=Math.min;Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var p=t(g("zzD2")),a=t(g("../zz5/zz7")),c=g("zzo2");g=function(){function d(b){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};zzr2(this,d);var l=r.zzf3;if(!(b=a["default"].zzM1(b)).zzH())throw new Error();var k,f;r=b.zzk2;var g=new p["default"](r,r),t=Array(r),u=Array(r),E=b;if(void 0!==l&&l||b.zzI()){for(k=0;k<r;k++)for(f=0;f<r;f++)g.set(k,f,E.get(k,f));var K,z,A,M;for(A=0;A<r;A++)t[A]=g.get(r-1,A);for(z=r-1;0<z;z--){for(M=K=A=0;M<z;M++)A+=e(t[M]);if(0===A)for(u[z]=t[z-1],A=0;A<z;A++)t[A]=g.get(z-1,A),g.set(z,A,0),g.set(A,z,0);else{for(M=0;M<z;M++)t[M]/=A,K+=t[M]*t[M];var C=t[z-1];var J=h(K);0<C&&(J=-J);u[z]=A*J;K-=C*J;t[z-1]=C-J;for(A=0;A<z;A++)u[A]=0;for(A=0;A<z;A++){C=t[A];g.set(A,z,C);J=u[A]+g.get(A,A)*C;for(M=A+1;M<=z-1;M++)J+=g.get(M,A)*t[M],u[M]+=g.get(M,A)*C;u[A]=J}for(A=C=0;A<z;A++)u[A]/=K,C+=u[A]*t[A];C/=K+K;for(A=0;A<z;A++)u[A]-=C*t[A];for(A=0;A<z;A++){C=t[A];J=u[A];for(M=A;M<=z-1;M++)g.set(M,A,g.get(M,A)-(C*u[M]+J*t[M]));t[A]=g.get(z-1,A);g.set(z,A,0)}}t[z]=K}for(z=0;z<r-1;z++){if(g.set(r-1,z,g.get(z,z)),g.set(z,z,1),0!==(K=t[z+1])){for(M=0;M<=z;M++)t[M]=g.get(M,z+1)/K;for(A=0;A<=z;A++){for(M=J=0;M<=z;M++)J+=g.get(M,z+1)*g.get(M,A);for(M=0;M<=z;M++)g.set(M,A,g.get(M,A)-J*t[M])}}for(M=0;M<=z;M++)g.set(M,z+1,0)}for(A=0;A<r;A++)t[A]=g.get(r-1,A),g.set(r-1,A,0);g.set(r-1,r-1,1);u[0]=0;var F,q;for(K=1;K<r;K++)u[K-1]=u[K];for(J=f=k=u[r-1]=0;J<r;J++){f=m(f,e(t[J])+e(u[J]));for(A=J;A<r&&!(e(u[A])<=x*f);)A++;if(A>J){do{1;var v=t[J];z=(t[J+1]-v)/(2*u[J]);var w=(0,c.zz73)(z,1);0>z&&(w=-w);t[J]=u[J]/(z+w);t[J+1]=u[J]*(z+w);M=t[J+1];C=v-t[J];for(K=J+2;K<r;K++)t[K]-=C;k+=C;z=t[A];l=F=w=1;var V=u[J+1];E=q=0;for(K=A-1;K>=J;K--)for(l=F,F=w,E=q,v=w*u[K],C=w*z,w=(0,c.zz73)(z,u[K]),u[K+1]=q*w,q=u[K]/w,z=(w=z/w)*t[K]-q*v,t[K+1]=C+q*(w*v+q*t[K]),v=0;v<r;v++)C=g.get(v,K+1),g.set(v,K+1,q*g.get(v,K)+w*C),g.set(v,K,w*g.get(v,K)-q*C);z=-q*E*l*V*u[J]/M;u[J]=q*z;t[J]=w*z}while(e(u[J])>x*f)}t[J]+=k;u[J]=0}for(K=0;K<r-1;K++){v=K;z=t[K];for(C=K+1;C<r;C++)t[C]<z&&(v=C,z=t[C]);if(v!==K)for(t[v]=t[K],t[K]=z,C=0;C<r;C++)z=g.get(C,K),g.set(C,K,g.get(C,v)),g.set(C,v,z)}}else{l=new p["default"](r,r);q=Array(r);for(f=0;f<r;f++)for(k=0;k<r;k++)l.set(k,f,E.get(k,f));var y,O=r-1;for(y=1;y<=O-1;y++){var I=0;for(v=y;v<=O;v++)I+=e(l.get(v,y-1));if(0!==I){f=0;for(v=O;v>=y;v--)q[v]=l.get(v,y-1)/I,f+=q[v]*q[v];k=h(f);0<q[y]&&(k=-k);f-=q[y]*k;q[y]-=k;for(w=y;w<r;w++){E=0;for(v=O;v>=y;v--)E+=q[v]*l.get(v,w);E/=f;for(v=y;v<=O;v++)l.set(v,w,l.get(v,w)-E*q[v])}for(v=0;v<=O;v++){E=0;for(w=O;w>=y;w--)E+=q[w]*l.get(v,w);E/=f;for(w=y;w<=O;w++)l.set(v,w,l.get(v,w)-E*q[w])}q[y]*=I;l.set(y,y-1,I*k)}}for(v=0;v<r;v++)for(w=0;w<r;w++)g.set(v,w,v===w?1:0);for(y=O-1;1<=y;y--)if(0!==l.get(y,y-1)){for(v=y+1;v<=O;v++)q[v]=l.get(v,y-1);for(w=y;w<=O;w++){k=0;for(v=y;v<=O;v++)k+=q[v]*g.get(v,w);k=k/q[y]/l.get(y,y-1);for(v=y;v<=O;v++)g.set(v,w,g.get(v,w)+k*q[v])}}var G,R;f=r-1;v=r-1;var D=0,P=O=I=y=w=0,N=0,W=0;for(q=0;q<r;q++)for((0>q||q>v)&&(t[q]=l.get(q,q),u[q]=0),E=m(q-1,0);E<r;E++)w+=e(l.get(q,E));for(;0<=f;){for(k=f;0<k&&(0===(P=e(l.get(k-1,k-1))+e(l.get(k,k)))&&(P=w),!(e(l.get(k,k-1))<x*P));)k--;if(k===f)l.set(f,f,l.get(f,f)+D),t[f]=l.get(f,f),u[f]=0,f--,W=0;else if(k===f-1){if(z=l.get(f,f-1)*l.get(f-1,f),I=(y=(l.get(f-1,f-1)-l.get(f,f))/2)*y+z,N=h(e(I)),l.set(f,f,l.get(f,f)+D),l.set(f-1,f-1,l.get(f-1,f-1)+D),C=l.get(f,f),0<=I){N=0<=y?y+N:y-N;t[f-1]=C+N;t[f]=t[f-1];0!==N&&(t[f]=C-z/N);u[f-1]=0;u[f]=0;y=(C=l.get(f,f-1))/(P=e(C)+e(N));I=N/P;y/=O=h(y*y+I*I);I/=O;for(E=f-1;E<r;E++)N=l.get(f-1,E),l.set(f-1,E,I*N+y*l.get(f,E)),l.set(f,E,I*l.get(f,E)-y*N);for(q=0;q<=f;q++)N=l.get(q,f-1),l.set(q,f-1,I*N+y*l.get(q,f)),l.set(q,f,I*l.get(q,f)-y*N);for(q=0;q<=v;q++)N=g.get(q,f-1),g.set(q,f-1,I*N+y*g.get(q,f)),g.set(q,f,I*g.get(q,f)-y*N)}else t[f-1]=C+y,t[f]=C+y,u[f-1]=N,u[f]=-N;f-=2;W=0}else{if(C=l.get(f,f),J=0,z=0,k<f&&(J=l.get(f-1,f-1),z=l.get(f,f-1)*l.get(f-1,f)),10==W){D+=C;for(q=0;q<=f;q++)l.set(q,q,l.get(q,q)-C);C=J=.75*(P=e(l.get(f,f-1))+e(l.get(f-1,f-2)));z=-.4375*P*P}if(30==W&&0<(P=(P=(J-C)/2)*P+z)){P=h(P);J<C&&(P=-P);P=C-z/((J-C)/2+P);for(q=0;q<=f;q++)l.set(q,q,l.get(q,q)-P);D+=P;C=J=z=.964}W+=1;for(R=f-2;R>=k&&(y=((O=C-(N=l.get(R,R)))*(P=J-N)-z)/l.get(R+1,R)+l.get(R,R+1),I=l.get(R+1,R+1)-N-O-P,O=l.get(R+2,R+1),y/=P=e(y)+e(I)+e(O),I/=P,O/=P,R!==k)&&!(e(l.get(R,R-1))*(e(I)+e(O))<x*e(y)*(e(l.get(R-1,R-1))+e(N)+e(l.get(R+1,R+1))));)R--;for(q=R+2;q<=f;q++)l.set(q,q-2,0),q>R+2&&l.set(q,q-3,0);for(G=R;G<=f-1&&(V=G!==f-1,G!==R&&(y=l.get(G,G-1),I=l.get(G+1,G-1),O=V?l.get(G+2,G-1):0,0!==(C=e(y)+e(I)+e(O))&&(y/=C,I/=C,O/=C)),0!==C);G++)if(P=h(y*y+I*I+O*O),0>y&&(P=-P),0!==P){G===R?k!==R&&l.set(G,G-1,-l.get(G,G-1)):l.set(G,G-1,-P*C);C=(y+=P)/P;J=I/P;N=O/P;I/=y;O/=y;for(E=G;E<r;E++)y=l.get(G,E)+I*l.get(G+1,E),V&&(y+=O*l.get(G+2,E),l.set(G+2,E,l.get(G+2,E)-y*N)),l.set(G,E,l.get(G,E)-y*C),l.set(G+1,E,l.get(G+1,E)-y*J);for(q=0;q<=B(f,G+3);q++)y=C*l.get(q,G)+J*l.get(q,G+1),V&&(y+=N*l.get(q,G+2),l.set(q,G+2,l.get(q,G+2)-y*O)),l.set(q,G,l.get(q,G)-y),l.set(q,G+1,l.get(q,G+1)-y*I);for(q=0;q<=v;q++)y=C*g.get(q,G)+J*g.get(q,G+1),V&&(y+=N*g.get(q,G+2),g.set(q,G+2,g.get(q,G+2)-y*O)),g.set(q,G,g.get(q,G)-y),g.set(q,G+1,g.get(q,G+1)-y*I)}}}if(0!==w){for(f=r-1;0<=f;f--)if(y=t[f],0===(I=u[f]))for(k=f,l.set(f,f,1),q=f-1;0<=q;q--){z=l.get(q,q)-y;O=0;for(E=k;E<=f;E++)O+=l.get(q,E)*l.get(E,f);if(0>u[q])N=z,P=O;else if(k=q,0===u[q]?l.set(q,f,0===z?-O/(x*w):-O/z):(C=l.get(q,q+1),J=l.get(q+1,q),K=(C*P-N*O)/((t[q]-y)*(t[q]-y)+u[q]*u[q]),l.set(q,f,K),l.set(q+1,f,e(C)>e(N)?(-O-z*K)/C:(-P-J*K)/N)),1<x*(K=e(l.get(q,f)))*K)for(E=q;E<=f;E++)l.set(E,f,l.get(E,f)/K)}else if(0>I)for(k=f-1,e(l.get(f,f-1))>e(l.get(f-1,f))?(l.set(f-1,f-1,I/l.get(f,f-1)),l.set(f-1,f,-(l.get(f,f)-y)/l.get(f,f-1))):(F=n(0,-l.get(f-1,f),l.get(f-1,f-1)-y,I),l.set(f-1,f-1,F[0]),l.set(f-1,f,F[1])),l.set(f,f-1,0),l.set(f,f,1),q=f-2;0<=q;q--){G=V=0;for(E=k;E<=f;E++)V+=l.get(q,E)*l.get(E,f-1),G+=l.get(q,E)*l.get(E,f);if(z=l.get(q,q)-y,0>u[q])N=z,O=V,P=G;else if(k=q,0===u[q]?(F=n(-V,-G,z,I),l.set(q,f-1,F[0]),l.set(q,f,F[1])):(C=l.get(q,q+1),J=l.get(q+1,q),A=(t[q]-y)*(t[q]-y)+u[q]*u[q]-I*I,M=2*(t[q]-y)*I,0===A&&0===M&&(A=x*w*(e(z)+e(I)+e(C)+e(J)+e(N))),F=n(C*O-N*V+I*G,C*P-N*G-I*V,A,M),l.set(q,f-1,F[0]),l.set(q,f,F[1]),e(C)>e(N)+e(I)?(l.set(q+1,f-1,(-V-z*l.get(q,f-1)+I*l.get(q,f))/C),l.set(q+1,f,(-G-z*l.get(q,f)-I*l.get(q,f-1))/C)):(F=n(-O-J*l.get(q,f-1),-P-J*l.get(q,f),N,I),l.set(q+1,f-1,F[0]),l.set(q+1,f,F[1]))),1<x*(K=m(e(l.get(q,f-1)),e(l.get(q,f))))*K)for(E=q;E<=f;E++)l.set(E,f-1,l.get(E,f-1)/K),l.set(E,f,l.get(E,f)/K)}for(q=0;q<r;q++)if(0>q||q>v)for(E=q;E<r;E++)g.set(q,E,l.get(q,E));for(E=r-1;0<=E;E--)for(q=0;q<=v;q++){for(G=N=0;G<=B(E,v);G++)N+=g.get(q,G)*l.get(G,E);g.set(q,E,N)}}}this.n=r;this.e=u;this.d=t;this.V=g}return zz53(d,[{key:"zzY2",get:function(){return this.d}},{key:"zzV2",get:function(){return this.e}},{key:"zzg3rMatrix",get:function(){return this.V}},{key:"zzponalMatrix",get:function(){var a,c,d=this.n,b=this.e,e=this.d,g=new p["default"](d,d);for(a=0;a<d;a++){for(c=0;c<d;c++)g.set(a,c,0);g.set(a,a,e[a]);0<b[a]?g.set(a,a+1,b[a]):0>b[a]&&g.set(a,a-1,b[a])}return g}}]),d}();b["default"]=g},{"zzD2":"d3nN","../zz5/zz7":"Wck9","zzo2":"NZrV"}],B9Xj:[function(g,u,b){function t(b){return b&&b.zzB?b:{default:b}}var n=Math.max,x=Math.sqrt;Object.defineProperty(b,"zzB",{value:!0});b["default"]=void 0;var m=t(g("zzD2")),h=t(g("../zz5/zz7"));g=function(){function b(e){if(zzr2(this,b),!(e=h["default"].zzM1(e)).zzI())throw new Error();var g,a,c=e,d=c.zzl2,r=new m["default"](d,d),H=!0;for(g=0;g<d;g++){var l=0;for(a=0;a<g;a++){var k=0;for(e=0;e<a;e++)k+=r.get(a,e)*r.get(g,e);k=(c.get(g,a)-k)/r.get(a,a);r.set(g,a,k);l+=k*k}H&=0<(l=c.get(g,g)-l);r.set(g,g,x(n(l,0)));for(a=g+1;a<d;a++)r.set(g,a,0)}if(!H)throw new Error();this.L=r}return zz53(b,[{key:"solve",value:function(b){b=h["default"].zzM1(b);var e=this.L,a=e.zzl2;if(b.zzl2!==a)throw new Error();var c,d,g=b.zzk2,m=b.clone();for(d=0;d<a;d++)for(c=0;c<g;c++){for(b=0;b<d;b++)m.set(d,c,m.get(d,c)-m.get(b,c)*e.get(d,b));m.set(d,c,m.get(d,c)/e.get(d,d))}for(d=a-1;0<=d;d--)for(c=0;c<g;c++){for(b=d+1;b<a;b++)m.set(d,c,m.get(d,c)-m.get(b,c)*e.get(b,d));m.set(d,c,m.get(d,c)/e.get(d,d))}return m}},{key:"zzW1",get:function(){return this.L}}]),b}();b["default"]=g},{"zzD2":"d3nN","../zz5/zz7":"Wck9"}],fuYa:[function(g,u,b){function t(a){return a&&a.zzB?a:{default:a}}Object.defineProperty(b,"zzB",{value:!0});var n={zz4:!0,Matrix:!0,zz5:!0,zz6:!0,zz7:!0,solve:!0,inverse:!0,zzV1:!0,zze3:!0,zz8:!0,zz9:!0,zzA:!0,zzZ2:!0,EVD:!0,zzX2:!0,CHO:!0,zzh3:!0,LU:!0,zzU2:!0,QR:!0};Object.defineProperty(b,"zz4",{enumerable:!0,get:function(){return x.zz4}});Object.defineProperty(b,"default",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(b,"Matrix",{enumerable:!0,get:function(){return x["default"]}});Object.defineProperty(b,"zz5",{enumerable:!0,get:function(){return h.zz5}});Object.defineProperty(b,"zz6",{enumerable:!0,get:function(){return e["default"]}});Object.defineProperty(b,"zz7",{enumerable:!0,get:function(){return B["default"]}});Object.defineProperty(b,"solve",{enumerable:!0,get:function(){return p.solve}});Object.defineProperty(b,"inverse",{enumerable:!0,get:function(){return p.inverse}});Object.defineProperty(b,"zzV1",{enumerable:!0,get:function(){return a.zzV1}});Object.defineProperty(b,"zze3",{enumerable:!0,get:function(){return c.zze3}});Object.defineProperty(b,"zz8",{enumerable:!0,get:function(){return d.zz8}});Object.defineProperty(b,"zz9",{enumerable:!0,get:function(){return r["default"]}});Object.defineProperty(b,"zzA",{enumerable:!0,get:function(){return r["default"]}});Object.defineProperty(b,"zzZ2",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(b,"EVD",{enumerable:!0,get:function(){return H["default"]}});Object.defineProperty(b,"zzX2",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(b,"CHO",{enumerable:!0,get:function(){return l["default"]}});Object.defineProperty(b,"zzh3",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(b,"LU",{enumerable:!0,get:function(){return k["default"]}});Object.defineProperty(b,"zzU2",{enumerable:!0,get:function(){return f["default"]}});Object.defineProperty(b,"QR",{enumerable:!0,get:function(){return f["default"]}});var x=function(a){if(a&&a.zzB)return a;var c={};if(null!=a)for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var b=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,d):{};b.get||b.set?Object.defineProperty(c,d,b):c[d]=a[d]}return c["default"]=a,c}(g("zzP2")),m=g("zzQ2");Object.keys(m).forEach(function(a){"default"!==a&&"zzB"!==a&&(Object.prototype.hasOwnProperty.call(n,a)||Object.defineProperty(b,a,{enumerable:!0,get:function(){return m[a]}}))});var h=g("./zz5/zz5"),e=t(g("./zz5/zz6")),B=t(g("./zz5/zz7")),p=g("zzR2"),a=g("./zzV1"),c=g("zzT2"),d=g("./zz8"),r=t(g("zz93.js")),H=t(g("zzj3")),l=t(g("zzk3")),k=t(g("zzS2")),f=t(g("zzB3.js"))},{"zzP2":"d3nN","zzQ2":"Qkul","./zz5/zz5":"qzLa","./zz5/zz6":"JwL4","./zz5/zz7":"Wck9","zzR2":"TRdW","./zzV1":"zd9h","zzT2":"YYy6","./zz8":"3+uj","zz93.js":"uExS","zzj3":"ECz3","zzk3":"B9Xj","zzS2":"UMPl","zzB3.js":"U1MM"}],"6EdW":[function(g,u,b){g=Math.sqrt;u=Math.sign;Object.defineProperty(b,"zzB",{value:!0});b.DIST2=b.DOT=b.SIGN=b.SQRT=void 0;b.SQRT=g;b.SIGN=u;b.DOT=function b(b,g){return b[0]*g[0]+b[1]*g[1]+b[2]*g[2]};b.DIST2=function g(b,g){return(b[0]-g[0])*(b[0]-g[0])+(b[1]-g[1])*(b[1]-g[1])+(b[2]-g[2])*(b[2]-g[2])}},{}],aZ8d:[function(g,u,b){function t(b,e){for(var a,c=0;c<e.length;c++)a=e[c],a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}function n(b,e,a){return e&&t(b.prototype,e),a&&t(b,a),b}Object.defineProperty(b,"zzB",{value:!0});b.inverse2=b.Matrix2=b["default"]=b.zzd3=void 0;var x=g("zzY3"),m=g("./lib/mathFuncs"),h=function a(b){var c=b.shift();if(0===b.length)return new Float32Array(c);for(var d=Array(c),e=0;e<c;++e)d[e]=a(b.slice(0));return d},e=function(b,a){var c,d=b[0][0]+b[1][1]+b[2][2];0<d?(a[0]=b[1][2]-b[2][1],a[1]=b[2][0]-b[0][2],a[2]=b[0][1]-b[1][0],a[3]=d+1,c=a[3]):b[0][0]>b[1][1]&&b[0][0]>b[2][2]?(a[0]=1+b[0][0]-b[1][1]-b[2][2],a[1]=b[1][0]+b[0][1],a[2]=b[2][0]+b[0][2],a[3]=b[1][2]-b[2][1],c=a[0]):b[1][1]>b[2][2]?(a[0]=b[1][0]+b[0][1],a[1]=1+b[1][1]-b[0][0]-b[2][2],a[2]=b[2][1]+b[1][2],a[3]=b[2][0]-b[0][2],c=a[1]):(a[0]=b[2][0]+b[0][2],a[1]=b[2][1]+b[1][2],a[2]=1+b[2][2]-b[0][0]-b[1][1],a[3]=b[0][1]-b[1][0],c=a[2]);b=.5/(0,m.SQRT)(c);a[0]*=b;a[1]*=b;a[2]*=b;a[3]*=b};b.zzd3=e;g=function(){function b(a){var c=a.cameraFocals;c=void 0===c?[1,1]:c;a=a.zz42;a=void 0===a?9:a;if(!(this instanceof b))throw new Error();this.rMat=x.Matrix.zzK1(3,3);this.tVec=[0,0,0];this.zyp14(c);this.zz42=a;this.zz52=new Float32Array;this.us=new Float32Array;this.zz62=new Float32Array;this.zz72=new Float32Array;this.zz92=this.zz82=0;this.zzA2=x.Matrix.zzH1(4,3);this.zzB2=x.Matrix.zzH1(4,3);this.mem={dv:h([4,6,3]),v:new Uint8Array([11,10,9,8]),zzb3:h([3,4]),zza3:new Float32Array(3),Rs:h([3,3,3]),ts:h([3,3]),CC:x.Matrix.zzH1(3,3),L6x4:x.Matrix.zzH1(6,4),L6x3:x.Matrix.zzH1(6,3),L6x5:x.Matrix.zzH1(6,5),A:x.Matrix.zzH1(6,4),B:x.Matrix.zzH1(6,1),zzH141:x.Matrix.zzH1(4,1),pc0:new Float32Array(3),pw0:new Float32Array(3),ABt:x.Matrix.zzH1(3,3),L6x10:x.Matrix.zzH1(6,10),zzc3:x.Matrix.zzH1(6,1)};this.zzC2={PW0:null,M:null};this.zzZ3={zyp13:!1,R:null,t:null,repError:-1,q:new Float32Array(4)}}return n(b,[{key:"solve",value:function(a,c){this.zzZ3.zyp13=!1;var d=a.length;if(d!==c.length||4>d)throw new Error();this.zzl1(d);for(var b=0;b<d;++b)this.zzm1(a[b],c[b],b);return this.zzk1(),this.zzZ3}},{key:"zyp14",value:function(a){this.fu=a[0];this.fv=a[1]}},{key:"zzl1",value:function(a){this.zz92!==a&&(this.zzC2.PW0=x.Matrix.zzH1(a,3),this.zzC2.M=x.Matrix.zzH1(2*a,12),this.zz92=a);this.zz82<a&&(this.zz52=new Float32Array(3*a),this.us=new Float32Array(2*a),this.zz62=new Float32Array(4*a),this.zz72=new Float32Array(3*a),this.zz82=a)}},{key:"zzm1",value:function(a,c,b){var d=this.zz52,e=this.us;d[3*b]=a[0];d[3*b+1]=a[1];d[3*b+2]=a[2];e[2*b]=c[0];e[2*b+1]=c[1]}},{key:"zzn1",value:function(){for(var a=this.zz92,c=this.zz52,b=this.zzA2.data,e=this.zzC2.PW0,g=b[0][0]=b[0][1]=b[0][2]=0;g<a;++g)for(var l=0;3>l;++l)b[0][l]+=c[3*g+l];for(g=0;3>g;++g)b[0][g]/=a;for(g=0;g<a;++g)for(l=0;3>l;++l)e.set(g,l,c[3*g+l]-b[0][l]);c=e.zz11().zzs(e);e=new x.zz9(c,{zza2:!1});c=e.U.zz11();e=e.s;for(g=1;4>g;++g){l=(0,m.SQRT)(e[g-1]/a);for(var k=0;3>k;++k)b[g][k]=b[0][k]+l*c.get(g-1,k)}}},{key:"zzo1",value:function(){for(var a=this.zz52,c=this.zz62,b=this.zz92,e=this.mem.CC,g=this.zzA2.data,l=0;3>l;++l)for(var k=1;4>k;++k)e.set(l,k-1,g[k][l]-g[0][l]);e=(0,x.inverse)(e,!0);for(l=0;l<b;++l){k=3*l;for(var f=4*l,h=0;3>h;++h)c[f+1+h]=e.get(h,0)*(a[k]-g[0][0])+e.get(h,1)*(a[k+1]-g[0][1])+e.get(h,2)*(a[k+2]-g[0][2]);c[f]=1-c[f+1]-c[f+2]-c[f+3]}}},{key:"zzM_M",value:function(a,c,b,e,g){for(var d,k=this.zz62,f=this.fu,h=this.fv,r=0;4>r;++r)d=k[b+r],a.set(c,3*r,d*f),a.set(c,3*r+1,0),a.set(c,3*r+2,-e*d),a.set(c+1,3*r,0),a.set(c+1,3*r+1,d*h),a.set(c+1,3*r+2,-g*d)}},{key:"zzq1",value:function(a,c){var b=this.mem,e=b.dv;b=b.v;for(var g=0;4>g;++g)for(var l=0,k=1,f=0;6>f;++f)e[g][f][0]=a.get(b[g],3*l)-a.get(b[g],3*k),e[g][f][1]=a.get(b[g],3*l+1)-a.get(b[g],3*k+1),e[g][f][2]=a.get(b[g],3*l+2)-a.get(b[g],3*k+2),3<++k&&(k=++l+1);for(a=0;6>a;++a)c.set(a,0,(0,m.DOT)(e[0][a],e[0][a])),c.set(a,1,2*(0,m.DOT)(e[0][a],e[1][a])),c.set(a,2,(0,m.DOT)(e[1][a],e[1][a])),c.set(a,3,2*(0,m.DOT)(e[0][a],e[2][a])),c.set(a,4,2*(0,m.DOT)(e[1][a],e[2][a])),c.set(a,5,(0,m.DOT)(e[2][a],e[2][a])),c.set(a,6,2*(0,m.DOT)(e[0][a],e[3][a])),c.set(a,7,2*(0,m.DOT)(e[1][a],e[3][a])),c.set(a,8,2*(0,m.DOT)(e[2][a],e[3][a])),c.set(a,9,(0,m.DOT)(e[3][a],e[3][a]))}},{key:"zzr1",value:function(a){var c=this.zzA2.data;a.set(0,0,(0,m.DIST2)(c[0],c[1]));a.set(1,0,(0,m.DIST2)(c[0],c[2]));a.set(2,0,(0,m.DIST2)(c[0],c[3]));a.set(3,0,(0,m.DIST2)(c[1],c[2]));a.set(4,0,(0,m.DIST2)(c[1],c[3]));a.set(5,0,(0,m.DIST2)(c[2],c[3]))}},{key:"zzs1",value:function(a,c,b){for(var d=this.mem.L6x4,e=0;6>e;++e)d.set(e,0,a.get(e,0)),d.set(e,1,a.get(e,1)),d.set(e,2,a.get(e,3)),d.set(e,3,a.get(e,6));a=new x.solve(d,c,!0);c=(0,m.SIGN)(a.get(0,0));b[0]=(0,m.SQRT)(c*a.get(0,0));b[1]=c*a.get(1,0)/b[0];b[2]=c*a.get(2,0)/b[0];b[3]=c*a.get(3,0)/b[0]}},{key:"zzt1",value:function(a,c,b){for(var d=this.mem.L6x3,e=0;6>e;++e)d.set(e,0,a.get(e,0)),d.set(e,1,a.get(e,1)),d.set(e,2,a.get(e,2));a=new x.solve(d,c,!0);c=(0,m.SIGN)(a.get(0,0));b[0]=(0,m.SQRT)(c*a.get(0,0));b[1]=0<c*a.get(2,0)?(0,m.SQRT)(c*a.get(2,0)):0;b[0]*=(0,m.SIGN)(a.get(1,0));b[2]=0;b[3]=0}},{key:"zzu1",value:function(a,c,b){for(var d=this.mem.L6x5,e=0;6>e;++e)d.set(e,0,a.get(e,0)),d.set(e,1,a.get(e,1)),d.set(e,2,a.get(e,2)),d.set(e,3,a.get(e,3)),d.set(e,4,a.get(e,4));a=new x.solve(d,c,!0);c=(0,m.SIGN)(a.get(0,0));b[0]=(0,m.SQRT)(c*a.get(0,0));b[1]=0<c*a.get(2,0)?(0,m.SQRT)(c*a.get(2,0)):0;0>a.get(1,0)&&(b[0]*=-1);b[2]=a.get(3,0)/b[0];b[3]=0}},{key:"zzv1",value:function(a,c,b){var d=this.mem,e=d.A;d=d.B;for(var g=0;g<this.zz42;++g){this.zzw1(a,c,b,e,d);for(var k=this.zzx1(e,d),f=0;4>f;++f)b[f]+=k.get(f,0)}}},{key:"zzw1",value:function(a,c,b,e,g){for(var d=0;6>d;++d){var k=a.data[d],f=e.data[d];f[0]=2*k[0]*b[0]+k[1]*b[1]+k[3]*b[2]+k[6]*b[3];f[1]=k[1]*b[0]+2*k[2]*b[1]+k[4]*b[2]+k[7]*b[3];f[2]=k[3]*b[0]+k[4]*b[1]+2*k[5]*b[2]+k[8]*b[3];f[3]=k[6]*b[0]+k[7]*b[1]+k[8]*b[2]+2*k[9]*b[3];g.set(d,0,c.get(d,0)-(k[0]*b[0]*b[0]+k[1]*b[0]*b[1]+k[2]*b[1]*b[1]+k[3]*b[0]*b[2]+k[4]*b[1]*b[2]+k[5]*b[2]*b[2]+k[6]*b[0]*b[3]+k[7]*b[1]*b[3]+k[8]*b[2]*b[3]+k[9]*b[3]*b[3]))}}},{key:"zzx1",value:function(a,b){a=new x.zzU2(a);return a.zzZ1()?a.solve(b):this.mem.zzH141}},{key:"zzy1",value:function(a,b){for(var c=this.zzB2.data,e=0;4>e;++e)c[e][0]=c[e][1]=c[e][2]=0;for(e=0;4>e;++e)for(var g=0;4>g;++g)for(var l=0;3>l;++l)c[g][l]+=a[e]*b.get(11-e,3*g+l)}},{key:"zzz1",value:function(){for(var a=this.zz92,b=this.zz62,d=this.zz72,e=this.zzB2.data,g=0;g<a;++g)for(var l=4*g,k=3*g,f=0;3>f;++f)d[k+f]=b[l]*e[0][f]+b[l+1]*e[1][f]+b[l+2]*e[2][f]+b[l+3]*e[3][f]}},{key:"zz02",value:function(){var a=this.zz72,b=this.zz92,d=this.zzB2.data;if(0>a[2]){for(var e=0;4>e;++e)for(var g=0;3>g;++g)d[e][g]=-d[e][g];for(d=0;d<b;++d)a[3*d]=-a[3*d],a[3*d+1]=-a[3*d+1],a[3*d+2]=-a[3*d+2]}}},{key:"zz12",value:function(a,b){var c=this.zz72,e=this.zz52,g=this.zz92,l=this.mem,k=l.pc0,f=l.pw0;l=l.ABt;l.mul(0);for(var h=0;h<g;++h)for(var n=0;3>n;++n)k[n]+=c[3*h+n],f[n]+=e[3*h+n];for(h=0;3>h;++h)k[h]/=g,f[h]/=g;for(h=0;h<g;++h)for(n=0;3>n;++n)l.data[n][0]+=(c[3*h+n]-k[n])*(e[3*h]-f[0]),l.data[n][1]+=(c[3*h+n]-k[n])*(e[3*h+1]-f[1]),l.data[n][2]+=(c[3*h+n]-k[n])*(e[3*h+2]-f[2]);e=new x.zz9(l);c=e.U;e=e.V;for(g=0;3>g;++g)for(l=0;3>l;++l)a[g][l]=(0,m.DOT)(c.zzN(g),e.zzN(l));c=new x.Matrix(a);0>(0,x.zzV1)(c)&&(a[2][0]*=-1,a[2][1]*=-1,a[2][2]*=-1);b[0]=k[0]-(0,m.DOT)(a[0],f);b[1]=k[1]-(0,m.DOT)(a[1],f);b[2]=k[2]-(0,m.DOT)(a[2],f)}},{key:"zz22",value:function(a,b){for(var c=0,e=this.zz92,g=this.fu,h=this.fv,k=this.zz52,f=this.us,n=0;n<e;++n){var p=k.slice(3*n,3*n+3),t=(0,m.DOT)(a[0],p)+b[0],u=(0,m.DOT)(a[1],p)+b[1];p=1/((0,m.DOT)(a[2],p)+b[2]);t=g*t*p;u=h*u*p;p=f[2*n];var x=f[2*n+1];c+=(0,m.SQRT)((p-t)*(p-t)+(x-u)*(x-u))}return c/e}},{key:"zz32",value:function(a,b,d,e){return this.zzy1(b,a),this.zzz1(),this.zz02(),this.zz12(d,e),this.zz22(d,e)}},{key:"zzk1",value:function(){var a=this.zz92,b=this.us,d=this.mem,g=this.zzZ3,h=d.L6x10,l=d.zzc3,k=d.zzb3,f=d.zza3,m=d.Rs;d=d.ts;var n=this.zzC2.M;this.zzn1();this.zzo1();for(var p=0;p<a;++p)this.zzM_M(n,2*p,4*p,b[2*p],b[2*p+1]);a=n.zz11().zzs(n);a=(new x.zz9(a,{zza2:!1})).U.zz11();this.zzq1(a,h);this.zzr1(l);this.zzs1(h,l,k[0]);this.zzv1(h,l,k[0]);f[0]=this.zz32(a,k[0],m[0],d[0]);this.zzt1(h,l,k[1]);this.zzv1(h,l,k[1]);f[1]=this.zz32(a,k[1],m[1],d[1]);this.zzu1(h,l,k[2]);this.zzv1(h,l,k[2]);f[2]=this.zz32(a,k[2],m[2],d[2]);h=0;f[1]<f[0]&&(h=1);f[2]<f[h]&&(h=2);m=m[h];m[0][2]*=-1;m[1][2]*=-1;m[2][0]*=-1;m[2][1]*=-1;e(m,g.q);g.zyp13=!0;g.repError=f[h];g.R=m;g.t=d[h]}}]),b}();b["default"]=g;b.Matrix2=x.Matrix;b.inverse2=x.inverse},{"zzY3":"fuYa","./lib/mathFuncs":"6EdW"}],Focm:[function(g,u,b){Object.defineProperty(b,"zzB",{value:!0});Object.defineProperty(b,"zypSolver",{enumerable:!0,get:function(){return t["default"]}});Object.defineProperty(b,"zzd3",{enumerable:!0,get:function(){return t.zzd3}});b.inverse=b.Matrix=void 0;var t=function(b){if(b&&b.zzB)return b;var g={};if(null!=b)for(var m in b)if(Object.prototype.hasOwnProperty.call(b,m)){var h=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(b,m):{};h.get||h.set?Object.defineProperty(g,m,h):g[m]=b[m]}return g["default"]=b,g}(g("./zypSolver"));b.inverse=t.inverse2;b.Matrix=t.Matrix2},{"./zypSolver":"aZ8d"}]},{},["Focm"],"zyp");;var Nb=zyp;ua={rf:function(a){return Math.ceil(Math.log2(a))},Ld:function(a){return Math.log2(a)},Ff:function(a){a=Math.log2(a);return a===Math.floor(a)},ye:function(a){var c=[0,0,0,0];a.forEach(function(d){c[0]+=d[0];c[1]+=d[1];c[2]+=d[2];c[3]+=d[3]});return c},ze:function(a,c,d){return Math.min(Math.max(a,c),d)},De:function(a){return a*Math.PI/180},Nf:function(a,c){c=Math.pow(10,c);return Math.round(a*c)/c},Of:function(a){return Math.round(1E6*a)/1E6},sf:function(a,
c){return(100*a/c).toFixed(3)},W:function(a,c,d){return a*(1-d)+c*d},md:function(a,c){return ua.cd(a-c)},cd:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},Me:function(a,c){return Math.abs(ua.md(a,c))},se:function(a,c){return Math.atan2(Math.sin(a)+Math.sin(c),Math.cos(a)+Math.cos(c))}},vb={get:function(a,c,d){var e=new XMLHttpRequest;e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?c(e.responseText):
"undefined"!==typeof d&&d(e.status))};e.send()},lf:function(a,c){vb.get(a,function(d){c(JSON.parse(d))})},Lf:function(a,c,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){4!==e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(c)},cf:function(a,c){var d=new XMLHttpRequest;d.open("POST",a,!0);d.responseType="arraybuffer";d.onload=function(){c(d.response)};d.send()}},Ya={Zf:function(a,
c,d){a=Math.min(Math.max((d-a)/(c-a),0),1);return a*a*(3-2*a)},Ka:function(a,c,d){return Math.min(Math.max((d-a)/(c-a),0),1)},Xe:function(a,c,d,e){return Math.pow(Math.min(Math.max((e-a)/(c-a),0),1),d)},dg:function(){return 0},Jf:function(){return 1},Hf:function(a){return a},Ue:function(a){return a*a},Ze:function(a){return a*(2-a)},Re:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},Pe:function(a){return a*a*a},Ye:function(a){return--a*a*a+1},Qe:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},Ve:function(a){return a*
a*a*a},$e:function(a){return 1- --a*a*a*a},Se:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},We:function(a){return a*a*a*a*a},af:function(a){return 1+--a*a*a*a*a},Te:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},Ob={td:function(a,c,d){switch(a){case "relu":return d+"=max(vec4(0.,0.,0.,0.),"+c+");";case "elu":return d+"=mix(exp(-abs("+c+"))-vec4(1.,1.,1.,1.),"+c+",step(0.,"+c+"));";case "elu01":return d+"=mix(0.1*exp(-abs("+c+"))-vec4(0.1,0.1,0.1,0.1),"+c+",step(0.,"+c+"));";case "arctan":return d+
"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},u=function(){function a(f,w){f=b.createShader(f);b.shaderSource(f,w);b.compileShader(f);return b.getShaderParameter(f,b.COMPILE_STATUS)?f:!1}function c(f,w){f=a(b.VERTEX_SHADER,f);w=a(b.FRAGMENT_SHADER,w);g.push(f,w);var z=b.createProgram();b.attachShader(z,f);b.attachShader(z,w);b.linkProgram(z);return z}function d(f){void 0===f.fa&&(f.fa="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");
void 0===f.Ca&&(f.Ca=["a0"]);void 0===f.ma&&(f.ma=[2]);if(void 0===f.precision||"highp"===f.precision)f.precision=y;f.id=p++;void 0!==f.Yd&&f.Yd.forEach(function(z,X){f.a=f.a.replace(z,f.Ua[X])});f.Hb=0;f.ma.forEach(function(z){f.Hb+=4*z});f.ua=c(f.fa,"precision "+f.precision+" float;\n"+f.a);f.j={};f.c.forEach(function(z){f.j[z]=b.getUniformLocation(f.ua,z)});f.attributes={};f.na=[];f.Ca.forEach(function(z){var X=b.getAttribLocation(f.ua,z);f.attributes[z]=X;f.na.push(X)});if(f.f){b.useProgram(f.ua);
k=f;h=f.id;for(var w in f.f)b.uniform1i(f.j[w],f.f[w])}f.rb=!0}function e(f){Ka.de(H);h!==f.id&&(H.la(),h=f.id,k=f,b.useProgram(f.ua),f.na.forEach(function(w){0!==w&&b.enableVertexAttribArray(w)}))}var g=[],h=-1,k=null,p=0,q=!1,y="highp",l=["u1"],n=["u0"],t={u1:0},v={u0:0},G={u1:0,u2:1},B={u3:0},D={s0:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:l,f:t},s1:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:l,f:t,precision:"lowp"},
s2:{a:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],f:G},s3:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:l,f:t},s4:{a:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",c:["u1","mask"],f:G},s5:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
c:l,f:t},s6:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:l,f:t},s7:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],f:v},s8:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 g=vec4(.25,.25,.25,.25),e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,g);gl_FragColor=b*e;}",c:["u0","u4"],f:v},s9:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
c:l,f:t},s10:{a:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",c:["u1","u5","u6"],f:{u1:0,u5:1}},s11:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",c:["u1","u7"],f:t},s12:{a:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 k(float a){if(a==0.)return vec4(0.,0.,0.,0.);float l=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),m=c+127.,b=(a/exp2(c)-1.)*8388608.,d=m/2.,n=fract(d)*2.,o=floor(d),p=e(b,0.,8.),q=e(b,8.,16.),r=n*128.+e(b,16.,23.),j=l+o;return vec4(p,q,r,j)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=k(a);}",
c:["u1","u8"],f:t},s13:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:n,f:v},s14:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(e,a);}",c:n,f:v},s15:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-e,a,step(0.,a));}",c:n,f:v},s16:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-e;gl_FragColor=mix(.1*b,a,step(0.,a));}",
c:n,f:v},s17:{a:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u6","u9"],f:{u0:0,u6:1,u9:2}},s18:{a:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",c:n,f:v},s19:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(e+a);gl_FragColor=b;}",
c:n,f:v},s20:{a:"uniform sampler2D u0,u10;uniform float u11;const vec2 f=vec2(.5,.5);const float g=1e-5;const vec4 h=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,f);float b=u11*u11;vec4 c=max(b*a,g*h);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u12","u11"],f:{u0:0,u12:1}},s21:{a:"uniform sampler2D u1;uniform vec2 u13;varying vec2 vv0;void main(){float a=u13.x*u13.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u13.y),g=floor(u13.x*fract(b*u13.y)),f=(g*u13.y+d)/a;gl_FragColor=texture2D(u1,f+c/a);}",
c:["u1","u13"],f:t},s22:{a:"uniform sampler2D u14,u15,u16;varying vec2 vv0;void main(){vec4 a=texture2D(u16,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u14,b),e=texture2D(u15,c);gl_FragColor=d*e;}",c:["u14","u15","u16"],f:{u15:0,u14:1,u16:2}},s23:{a:"uniform float u17;uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec2 a=fract(vv0*u17);vec4 b=texture2D(u14,vv0),c=texture2D(u15,a);gl_FragColor=b*c;}",c:["u15","u14","u17"],f:{u15:0,u14:1}},s24:{a:"uniform float u17;uniform sampler2D u14,u15,u18,u19,u20,u21;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 i=vv0*u17,m=floor(i),c=i-m;vec4 n=texture2D(u14,vv0),d=texture2D(u15,c),a=texture2D(u21,vv0);a=a*255.;vec4 o=texture2D(u18,c),p=texture2D(u19,c),q=texture2D(u20,c),j=step(-g,-a),b=e-j,k=b*step(-e-g,-a);b*=e-k;vec4 h=b*step(-2.*e-g,-a);b*=e-h;vec4 l=b;d=j*d+k*o+h*p+l*q,gl_FragColor=n*d;}",
c:"u14 u15 u17 u21 u18 u19 u20".split(" "),f:{u15:0,u14:1,u21:3,u18:4,u19:5,u20:6}},s25:{a:"uniform sampler2D u14,u15,u22;uniform float u17,u23,u24,u25;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u23*vv0),g=u23*vv0-a;float b=u17/u23;vec2 c=floor(g*b),d=g*b-c,h=(a+d)/u23;float l=u23*u25/u17;vec2 m=l*c,i=(m+d*u24)/u25,e=step(i,j);vec4 n=texture2D(u14,h),o=texture2D(u15,i),p=n*o*e.x*e.y,k=texture2D(u22,h);gl_FragColor=p*u24*u24+k;}",c:"u14 u15 u17 u23 u24 u25 u22".split(" "),f:{u15:0,
u14:1,u22:2}},s26:{a:"uniform sampler2D u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u14,vv0),b=texture2D(u15,vv0);gl_FragColor=a*b;}",c:["u14","u15"],f:{u15:0,u14:1}},s27:{a:"uniform sampler2D u1,u22;uniform float u26;varying vec2 vv0;void main(){gl_FragColor=texture2D(u22,vv0)+u26*texture2D(u1,vv0);}",c:["u1","u22","u26"],f:{u1:0,u22:1}},s28:{a:"varying vec2 vv0;uniform sampler2D u1;const vec4 g=vec4(1.,1.,1.,1.),e=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,e)*g;}",
c:l,f:t,precision:"lowp"},s29:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 e=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(dot(a,e),dot(b,e),dot(c,e),dot(d,e));}",c:["u1","u27"],f:t,precision:"lowp"},s30:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u27;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u27)).rgb,c=texture2D(u1,vv0+vec2(u27,u27)).rgb,d=texture2D(u1,vv0+vec2(u27,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u27"],f:t,precision:"lowp"},s31:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 g=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u28,vv0.y-u28))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u28))*2.,b-=texture2D(u1,vec2(vv0.x+u28,vv0.y-u28))*1.,b+=texture2D(u1,vec2(vv0.x-u28,vv0.y+u28))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u28))*2.,b+=texture2D(u1,vec2(vv0.x+u28,vv0.y+u28))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),f=texture2D(u2,vv0);gl_FragColor=f.a*e.r*g;}",
c:["u1","u2","u28"],f:G},s32:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u28;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float i=0.;vec2 l=k*u28,a,b;float c,d,g=0.;for(float f=-4.;f<=4.;f+=1.)for(float e=-4.;e<=4.;e+=1.)a=vec2(f,e),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,i+=d*texture2D(u1,b).r,g+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-i/g)*j;}",c:["u1","u2","u28"],f:G},s33:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 h=vec2(.5,.5),i=vec2(1.,0.),j=vec2(0.,1.);void main(){vec2 a=vv0-u7*h;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*i),d=texture2D(u3,a+u7*j),k=texture2D(u3,a+u7),l=e(b,c),g=e(d,k);gl_FragColor=e(l,g);}",
c:["u3","u7"],f:B},s34:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 j=vec2(1.,0.),k=vec2(0.,1.),l=vec2(2.,0.),m=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*j),d=texture2D(u3,a+u7*k),g=texture2D(u3,a+u7),i=e(b,c),h=e(d,g);return e(i,h);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*l),d=f(a+u7*2.),g=f(a+u7*m),i=e(b,c),h=e(d,g);gl_FragColor=e(i,h);}",c:["u3","u7"],f:B},s35:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
c:["u1"],f:t,precision:"lowp"},s36:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float d=15444.;void main(){vec4 a=1001./d*texture2D(u1,vv0-3.*u7)+2002./d*texture2D(u1,vv0-2.*u7)+3003./d*texture2D(u1,vv0-u7)+3432./d*texture2D(u1,vv0)+3003./d*texture2D(u1,vv0+u7)+2002./d*texture2D(u1,vv0+2.*u7)+1001./d*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",c:["u7","u1"],f:t,precision:"lowp"},s37:{a:"uniform sampler2D u1,u29,u30;varying vec2 vv0;const vec4 g=vec4(1.,1.,1.,1.);const float h=.1;void main(){vec4 a=texture2D(u29,vv0),b=texture2D(u30,vv0),c=texture2D(u1,vv0),d=max(g*h,b-a*a),f=sqrt(d);gl_FragColor=(c-a)/f;}",
c:["u1","u29","u30"],f:{u1:0,u29:1,u30:2}}},F={s38:{a:"uniform float u17,u31;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u22,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u17,xyTo=floor(vv0*u17+eps2);float weightSize=toSparsity*u17;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u31*(xyPatch-halfFromSparsity))/u17,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u17","u14","u15","u22","u31"],Ua:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{a:"uniform float u17,u31,u25;uniform sampler2D u14,u15,u22;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u22,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u25,xyTo=floor(vv0*u17+eps2);float weightSize=fromSparsity*u25;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u17;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u31*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u25,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u14,uvWeight)*texture2D(u15,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u17 u25 u14 u15 u22 u31".split(" "),Ua:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},H={ub:function(){return q},m:function(){if(!q){y="highp";for(var f in D)d(D[f],f);u.set("s0");b.enableVertexAttribArray(0);f=Va.m();q=!0;return f}},Mc:function(f){f.forEach(function(w){H.Kb(w)})},Kb:function(f){D[f.id]=f;d(f,f.id)},ic:function(f,w,z){w||(w=f);D[w]=Object.create(F[f]);D[w].Gd=!0;F[f].Ua&&F[f].Ua.forEach(function(X,ja){D[w].a=D[w].a.replace(new RegExp(X,"g"),z[ja])});d(D[w],w)},set:function(f){e(D[f])},
qd:function(f){return"undefined"===typeof D[f]?!1:D[f].rb},la:function(){-1!==h&&(h=-1,k.na.forEach(function(f){0!==f&&b.disableVertexAttribArray(f)}))},Fb:function(){var f=0;k.na.forEach(function(w,z){z=k.ma[z];b.vertexAttribPointer(w,z,b.FLOAT,!1,k.Hb,f);f+=4*z})},Xb:function(){b.enableVertexAttribArray(0)},xa:function(){b.vertexAttribPointer(k.na[0],2,b.FLOAT,!1,8,0)},Gc:function(f,w){b.uniform1i(k.j[f],w)},B:function(f,w){b.uniform1f(k.j[f],w)},wa:function(f,w,z){b.uniform2f(k.j[f],w,z)},Tf:function(f,
w){b.uniform2fv(k.j[f],w)},ee:function(f,w){b.uniform3fv(k.j[f],w)},Uf:function(f,w,z,X){b.uniform3f(k.j[f],w,z,X)},Vf:function(f,w,z,X,ja){b.uniform4f(k.j[f],w,z,X,ja)},Eb:function(f,w){b.uniform4fv(k.j[f],w)},Wf:function(f,w){b.uniformMatrix2fv(k.j[f],!1,w)},Xf:function(f,w){b.uniformMatrix3fv(k.j[f],!1,w)},Yf:function(f,w){b.uniformMatrix4fv(k.j[f],!1,w)},L:function(f,w){H.set(f);w.forEach(function(z){switch(z.type){case "4f":b.uniform4fv(k.j[z.name],z.value);break;case "3f":b.uniform3fv(k.j[z.name],
z.value);break;case "2f":b.uniform2fv(k.j[z.name],z.value);break;case "1f":b.uniform1f(k.j[z.name],z.value);break;case "1i":b.uniform1i(k.j[z.name],z.value);break;case "mat2":b.uniformMatrix2fv(k.j[z.name],!1,z.value);break;case "mat3":b.uniformMatrix3fv(k.j[z.name],!1,z.value);break;case "mat4":b.uniformMatrix4fv(k.j[z.name],!1,z.value)}})},qf:function(){return"lowp"},h:function(){b.disableVertexAttribArray(0);H.la();for(var f in D){var w=D[f];w.rb&&(w.rb=!1,b.deleteProgram(w.ua));w.Gd&&delete D[f]}g.forEach(function(z){b.deleteShader(z)});
g.splice(0);p=0;q=!1}};return H}(),b=null,xa=function(){function a(l){console.log("ERROR in ContextFeedForward: ",l);return!1}function c(){if(/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream)return!0;if(/(Mac)/i.test(navigator.platform)){var l;(l=navigator.userAgent)?(l=l.match(/Mac OS X (\d+)_(\d+)/)||l.match(/Mac OS X (\d+).(\d+)/),l=!l||3>l.length?!1:[parseInt(l[1],10),parseInt(l[2],10)]):l=!1;if(l&&10===l[0]&&15===l[1])return!0}return!1}var d=null,e=null,g=null,h=null,k=!0,p=null,
q=null,y={w:function(){return d.width},U:function(){return d.height},ff:function(){return d},ef:function(){return b},o:function(){return k},flush:function(){b.flush()},wd:function(){p||(p=new Uint8Array(d.width*d.height*4));b.readPixels(0,0,d.width,d.height,b.RGBA,b.UNSIGNED_BYTE,p);return p},gf:function(){return d.toDataURL("image/jpeg")},hf:function(){ra.J();e||(e=document.createElement("canvas"),g=e.getContext("2d"));e.width=d.width;e.height=d.height;for(var l=y.wd(),n=g.createImageData(e.width,
e.height),t=e.width,v=e.height,G=n.data,B=0;B<v;++B)for(var D=v-B-1,F=0;F<t;++F){var H=4*(B*t+F),f=4*(D*t+F);G[H]=l[f];G[H+1]=l[f+1];G[H+2]=l[f+2];G[H+3]=l[f+3]}g.putImageData(n,0,0);return e.toDataURL("image/png")},vd:function(l){!e&&l&&(e=document.createElement("canvas"),g=e.getContext("2d"));var n=l?e:document.createElement("canvas");n.width=d.width;n.height=d.height;(l?g:n.getContext("2d")).drawImage(d,0,0);return n},m:function(l){l.hd&&!l.ab?d=document.getElementById(l.hd):l.ab&&(d=l.ab);d||
(d=document.createElement("canvas"));d.width=l&&void 0!==l.width?l.width:512;d.height=l&&void 0!==l.height?l.height:512;"undefined"===typeof l&&(l={});void 0===l.premultipliedAlpha&&(l.premultipliedAlpha=!1);void 0===l.lc&&(l.lc=!0);void 0===l.antialias&&(l.antialias=!1);if(!b){var n={antialias:l.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:l.premultipliedAlpha,stencil:!1,depth:l.lc};c()||(b=d.getContext("webgl2",n));b?k=!0:((b=d.getContext("webgl",n))||(b=d.getContext("experimental-webgl",
n)),k=!1)}if(!b)return a("WebGL is not enabled");(h=b.getExtension("WEBGL_lose_context"))&&l.xc&&(q=l.xc,d.addEventListener("webglcontextlost",q,!1));if(!ba.m())return a("Not enough capabilities");if(!ba.Xc()&&k)return a("Your configuration cannot process color buffer float");b.clearColor(0,0,0,0);b.disable(b.DEPTH_TEST);b.disable(b.BLEND);b.disable(b.DITHER);b.disable(b.STENCIL_TEST);b.disable(b.SCISSOR_TEST);b.GENERATE_MIPMAP_HINT&&b.hint(b.GENERATE_MIPMAP_HINT,b.FASTEST);b.disable(b.SAMPLE_ALPHA_TO_COVERAGE);
b.disable(b.SAMPLE_COVERAGE);return!0},Ed:function(){if(!u.m())return!1;b.depthFunc(b.LEQUAL);b.clearDepth(1);return!0},h:function(){b&&ba.h();h&&q&&(d.removeEventListener("webglcontextlost",q,!1),q=null);p=g=e=d=null}};return y}(),Ka=function(){var a="undefined"===typeof u?null:u;return{de:function(c){a!==c&&(a&&a.la(),a=c)},ub:function(){return a.ub()},xa:function(){a.xa()},Fb:function(){a.Fb()},la:function(){a.la()},set:function(c){a.set(c)},h:function(){a.h&&a.h()}}}(),oa=function(){var a=null,
c=null,d=0,e=-2,g=-2,h=!1,k=[],p={reset:function(){g=e=-2},m:function(){h||(a=b.createBuffer(),b.bindBuffer(b.ARRAY_BUFFER,a),b.bufferData(b.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),b.STATIC_DRAW),c=b.createBuffer(),b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c),b.bufferData(b.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),b.STATIC_DRAW),p.oa(),h=!0)},instance:function(q){var y=d++,l=q.da?q.da.length:0,n="undefined"===typeof q.mode?b.STATIC_DRAW:q.mode,t=b.createBuffer();b.bindBuffer(b.ARRAY_BUFFER,
t);b.bufferData(b.ARRAY_BUFFER,q.Kc instanceof Float32Array?q.Kc:new Float32Array(q.Kc),n);e=y;var v=null,G=null,B=null;if(q.da){v=b.createBuffer();b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,v);var D=null;65536>q.da.length?(D=Uint16Array,G=b.UNSIGNED_SHORT,B=2):(D=Uint32Array,G=b.UNSIGNED_INT,B=4);b.bufferData(b.ELEMENT_ARRAY_BUFFER,q.da instanceof D?q.da:new D(q.da),n);g=y}var F={Wc:function(H){e!==y&&(b.bindBuffer(b.ARRAY_BUFFER,t),e=y);H&&Ka.Fb()},Sc:function(){g!==y&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,
v),g=y)},bind:function(H){F.Wc(H);F.Sc()},Ne:function(){b.drawElements(b.TRIANGLES,l,G,0)},Oe:function(H,f){b.drawElements(b.TRIANGLES,H,G,f*B)},remove:function(){b.deleteBuffer(t);q.da&&b.deleteBuffer(v);F=null}};k.push(F);return F},oa:function(){-1!==e&&(b.bindBuffer(b.ARRAY_BUFFER,a),e=-1);-1!==g&&(b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,c),g=-1)},g:function(q,y){q&&oa.oa();y&&Ka.xa();b.drawElements(b.TRIANGLES,3,b.UNSIGNED_SHORT,0)},ac:function(){b.deleteBuffer(a);b.deleteBuffer(c)},h:function(){p.ac();
k.forEach(function(q){q.remove()});b.bindBuffer(b.ARRAY_BUFFER,null);b.bindBuffer(b.ELEMENT_ARRAY_BUFFER,null);p.reset();h=!1;k.splice(0);d=0}};return p}(),ca=function(){var a=null,c=null,d=null,e=!1,g=[],h={v:-2,Zb:1},k={m:function(){if(!e){a=b.createFramebuffer();var p=ba.o();c=p&&b.DRAW_FRAMEBUFFER?b.DRAW_FRAMEBUFFER:b.FRAMEBUFFER;d=p&&b.READ_FRAMEBUFFER?b.READ_FRAMEBUFFER:b.FRAMEBUFFER;e=!0}},kf:function(){return c},nb:function(){return d},ia:function(){return b.FRAMEBUFFER},tf:function(){return h},
df:function(){return a},instance:function(p){void 0===p.kc&&(p.kc=!1);var q=p.ea?p.ea:null,y=p.width,l=void 0!==p.height?p.height:p.width,n=a,t=null,v=!1,G=!1,B=0;q&&(y=y?y:q.w(),l=l?l:q.U());var D={Fc:function(){v||(n=b.createFramebuffer(),v=!0,B=h.Zb++)},Lc:function(){D.Fc();D.l();t=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,t);b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,y,l);b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,t);b.clearDepth(1)},bind:function(F,
H){B!==h.v&&(b.bindFramebuffer(c,n),h.v=B);q&&q.l();H&&b.viewport(0,0,y,l);F&&b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},ue:function(){B!==h.v&&(b.bindFramebuffer(c,n),h.v=B)},clear:function(){b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT)},Ae:function(){b.clear(b.COLOR_BUFFER_BIT)},Be:function(){b.clear(b.DEPTH_BUFFER_BIT)},fe:function(){b.viewport(0,0,y,l)},l:function(){B!==h.v&&(b.bindFramebuffer(c,n),h.v=B)},rtt:function(F){q=F;h.v!==B&&(b.bindFramebuffer(b.FRAMEBUFFER,n),h.v=B);F.l()},J:function(){b.bindFramebuffer(c,
null);h.v=-1},resize:function(F,H){y=F;l=H;t&&(b.bindRenderbuffer(b.RENDERBUFFER,t),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,y,l))},remove:function(){n===a||G||(b.bindFramebuffer(c,n),b.framebufferTexture2D(c,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0),t&&b.framebufferRenderbuffer(c,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,null),b.bindFramebuffer(c,null),b.deleteFramebuffer(n),t&&b.deleteRenderbuffer(t));G=!0}};p.kc&&D.Lc();g.push(D);return D},J:function(){b.bindFramebuffer(c,null);h.v=-1},
pe:function(){b.bindFramebuffer(c,null);b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT);b.viewport(0,0,ba.w(),ba.U());h.v=-1},reset:function(){h.v=-2},S:function(){0!==h.v&&(b.bindFramebuffer(c,a),h.v=0)},clear:function(){b.viewport(0,0,ba.w(),ba.U());b.clear(b.COLOR_BUFFER_BIT)},h:function(){k.J();g.forEach(function(p){p.remove()});b.deleteFramebuffer(a);k.reset();e=!1;g.splice(0);h.v=-2;h.Zb=1}};return k}(),Ia=function(){function a(r){b.bindTexture(b.TEXTURE_2D,r)}function c(r){ha[0]=r;r=ea[0];var E=
r>>16&32768,m=r>>12&2047,O=r>>23&255;return 103>O?E:142<O?E|31744|((255==O?0:1)&&r&8388607):113>O?(m|=2048,E|(m>>114-O)+(m>>113-O&1)):E=(E|O-112<<10|m>>1)+(m&1)}function d(r){var E=new Uint16Array(r.length);r.forEach(function(m,O){E[O]=c(m)});return E}function e(){if(null!==qa.pb)return qa.pb;var r=h(d([1,1,1,1]));return null===r?!0:qa.pb=r}function g(){if(null!==qa.qb)return qa.qb;var r=h(new Uint8Array([255,255,255,255]));return null===r?!0:qa.qb=r}function h(r){if(!Ka.ub()||!B)return null;var E=
null;try{var m=b.getError();E=C.instance({isFloat:!1,M:!0,array:r,width:1});m=b.getError();if(m!==b.NO_ERROR)return!1}catch(O){return!1}ca.J();b.viewport(0,0,1,1);b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);Ka.set("s0");E.Mb(0);oa.g(!1,!0);r=new Uint8Array(4);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,r);r=.9<r[0];E.remove();ca.S();return r}var k=0,p=null,q=0,y=null,l=null,n=null,t=null,v=null,G=null,B=!1,D=[],F={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,
isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,G:null,Fd:!1,M:!1,$:null,Oa:4,wb:0},H=!1,f=null,w=null,z=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],X=!1,ja=!1,ha=new Float32Array(1),ea=new Int32Array(ha.buffer),qa={pb:null,qb:null},C={m:function(){if(!B){v=[b.RGB,!1,b.RGB,b.RGBA];G=[b.RGB,!1,b.RGB,b.RGBA];p=[b.TEXTURE0,b.TEXTURE1,b.TEXTURE2,b.TEXTURE3,b.TEXTURE4,b.TEXTURE5,b.TEXTURE6,b.TEXTURE7];X="undefined"!==typeof JEContext;ja="undefined"!==typeof ba;
X&&JEContext.Gf()&&p.push(b.TEXTURE8,b.TEXTURE9);y=[-1,-1,-1,-1,-1,-1,-1,-1];t=[b.UNSIGNED_BYTE,b.FLOAT,b.FLOAT];if(!l){for(var r=new Float32Array(16384),E=0;16384>E;++E)r[E]=2*Math.random()-1;l={random:C.instance({isFloat:!0,isPot:!0,array:r,width:64}),Jc:C.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}B=!0}},Dd:function(){C.qe()},xf:function(){return l.Jc},qe:function(){t[1]=ba.Ha()},$d:function(){G=v=[b.RGBA,b.RGBA,b.RGBA,b.RGBA]},Mf:function(r,E){u.set("s1");ca.J();
var m=r.w(),O=r.U();b.viewport(0,0,m,O);r.b(0);oa.g(!1,!1);b.readPixels(0,0,m,O,b.RGBA,b.UNSIGNED_BYTE,E)},rd:function(r,E,m){b.activeTexture(b.TEXTURE0);k=0;var O=b.createTexture();a(O);var ta=ba.o()&&b.RGBA32F?b.RGBA32F:b.FLOAT;E=E instanceof Float32Array?E:new Float32Array(E);var ya=ua.Ld(E.length);ya!==Math.floor(ya)&&(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,
b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,m);b.texImage2D(b.TEXTURE_2D,0,b.RGBA,r.w(),r.U(),0,b.RGBA,ta,E);a(null);b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);ca.S();u.set("s0");r.O();b.clearColor(0,0,0,0);b.clear(b.COLOR_BUFFER_BIT);a(O);oa.g(!0,!1);b.deleteTexture(O)},instance:function(r){function E(){a(va);za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,za);m.isPot?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,m.isMirrorX?b.MIRRORED_REPEAT:
b.REPEAT),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,m.isMirrorY?b.MIRRORED_REPEAT:b.REPEAT)):(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE));m.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&b.texParameterf(b.TEXTURE_2D,JEContext.jf().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.te);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,m.isLinear?b.LINEAR:b.NEAREST);m.isLinear?b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,
m.isMipmap&&!La?b.NEAREST_MIPMAP_LINEAR:b.LINEAR):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,m.isMipmap&&!La?b.NEAREST_MIPMAP_NEAREST:b.NEAREST);ka=v[m.Oa-1];la=G[m.Oa-1];ma=t[ta];if(ba.o()){var x=b.RGBA32F;ka===b.RGBA&&ma===b.FLOAT&&x&&(la=x);ka===b.RGB&&ma===b.FLOAT&&x&&(la=x,ka=b.RGBA)}if(m.M&&!m.isFloat||m.isFloat&&m.isMipmap&&Va.Jd())(x=b.RGBA16F)&&(la=x),ma=ba.Ha();m.wb&&(ab=m.wb);m.isSrgb&&4===m.Oa&&(ka=JEContext.vf());if(m.G)b.texImage2D(b.TEXTURE_2D,0,la,ka,ma,m.G);else if(m.url)b.texImage2D(b.TEXTURE_2D,
0,la,ka,ma,Ha);else if(Aa){try{b.getError(),b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,Aa),b.getError()!==b.NO_ERROR&&(b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,null),b.getError()!==b.NO_ERROR&&b.texImage2D(b.TEXTURE_2D,0,b.RGBA,L,M,0,b.RGBA,b.UNSIGNED_BYTE,null))}catch(Zb){b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,null)}m.isKeepArray||(Aa=null)}else b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,null);if(m.isMipmap)if(!La&&V)V.mb(),bb=!0;else if(La){x=Math.log(Math.min(L,M))/Math.log(2);Pa=Array(1+
x);Pa[0]=va;for(var N=1;N<=x;++N){var ia=Math.pow(2,N),P=L/ia;ia=M/ia;var Ma=b.createTexture();a(Ma);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,la,P,ia,0,ka,ma,null);a(null);Pa[N]=Ma}bb=!0}a(null);y[k]=-1;za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1);cb=!0;m.$&&V&&(m.$(V),m.$=null)}var m=Object.assign({},F,r),O=q++;null===m.isFlipY&&(m.isFlipY=m.url||m.array?!0:!1);m.data&&(m.array="string"===
typeof m.data?Db(m.data):m.isFloat?new Float32Array(m.data):new Uint8Array(m.data),m.isFlipY=!1);var ta=0,ya=m.G?!0:!1,Ba=null,Qa=null,yb=!1,nb=null;m.M=m.M||m.isFloat;m.M&&(ta=1);m.Fd||ba.o()||!m.isFloat||!ja||ba.Ob()||(m.isFloat=!1);m.isFloat&&(ta=2);m.isAnisotropicFiltering&&X&&!JEContext.Af()&&(m.isAnisotropicFiltering=!1);var va=b.createTexture(),Ha=null,Aa=!1,L=0,M=0,cb=!1,db=!1,Ca=null,Fa=null,ob=null,Wa=null,la=null,ka=null,ma=null,za=m.isFlipY,La=m.M&&m.isMipmap&&"undefined"!==typeof Va&&
!Va.Zc()?!0:!1,Pa=null,ab=-1,bb=!1,Na={mc:!1,Nb:null,$b:null};m.width&&(L=m.width,M=m.height?m.height:L);var V={get:function(){return va},w:function(){return L},U:function(){return M},yf:function(){return m.url},Bf:function(){return m.isFloat},Df:function(){return m.M},Ef:function(){return m.isLinear},mb:function(){b.generateMipmap(b.TEXTURE_2D)},Uc:function(x,N){La?(x||(x=V.dc()),V.Za(N),a(Pa[x]),y[N]=-1):V.b(N)},dc:function(){-1===ab&&(ab=Math.log(L)/Math.log(2));return ab},sd:function(x){if(La){x||
(x=V.dc());u.set("s11");V.Za(0);for(var N=L,ia=M,P=1;P<=x;++P)N/=2,ia/=2,u.wa("u7",.25/N,.25/ia),b.viewport(0,0,N,ia),a(Pa[P-1]),b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,Pa[P],0),oa.g(!1,1===P);y[0]=-1}else V.mb()},Za:function(x){x!==k&&(b.activeTexture(p[x]),k=x)},b:function(x){if(!cb)return!1;V.Za(x);if(y[x]===O)return!1;a(va);y[x]=O;return!0},Mb:function(x){b.activeTexture(p[x]);k=x;a(va);y[x]=O},l:function(){n=V;b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,
va,0)},O:function(){n=V;b.viewport(0,0,L,M);b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,va,0)},Gb:C.Gb,resize:function(x,N){L=x;M=N;E()},clone:function(x){x=C.instance({width:L,height:M,M:m.M,isFloat:m.isFloat,isLinear:m.isLinear,isMirrorY:m.isMirrorY,isFlipY:x?!za:za,isPot:m.isPot});Ka.set("s0");ca.S();x.l();b.viewport(0,0,L,M);V.b(0);oa.g(!0,!0);return x},fe:function(){b.viewport(0,0,L,M)},remove:function(){b.deleteTexture(va);D.splice(D.indexOf(V),1);V=null},refresh:function(){V.Mb(0);
za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);ya?b.texImage2D(b.TEXTURE_2D,0,la,ka,b.UNSIGNED_BYTE,m.G):b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,Aa);za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Tb:function(){var x=L*M*4;Fa=[new Uint8Array(x),new Uint8Array(x),new Uint8Array(x),new Uint8Array(x)];Ca=[new Float32Array(Fa[0].buffer),new Float32Array(Fa[1].buffer),new Float32Array(Fa[2].buffer),new Float32Array(Fa[3].buffer)];ob=new Uint8Array(4*x);Wa=new Float32Array(ob.buffer);db=!0},Cc:function(){db||
V.Tb();b.readPixels(0,0,L,4*M,b.RGBA,b.UNSIGNED_BYTE,ob);for(var x=L*M,N=2*x,ia=3*x,P=0;P<x;++P)Ca[0][P]=Wa[P],Ca[1][P]=Wa[P+x],Ca[2][P]=Wa[P+N],Ca[3][P]=Wa[P+ia];return Ca},Wd:function(){Na.mc||(Na.Nb=new Uint8Array(L*M*4),Na.$b=new Float32Array(Na.buffer),Na.mc=!0);b.readPixels(0,0,L,M,b.RGBA,b.UNSIGNED_BYTE,Na.Nb);return Na.$b},Vb:function(x){ca.J();u.set("s12");V.b(0);if(x)b.viewport(0,0,L,M),u.Eb("u8",.25,.25,.25,.25),oa.g(!1,!0);else for(x=0;4>x;++x)b.viewport(0,M*x,L,M),u.Eb("u8",z[x]),oa.g(!1,
0===x)},ag:function(x){var N=ma===t[0]&&!g();a(va);za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);N?(yb||(Ba=document.createElement("canvas"),Ba.width=L,Ba.height=M,Qa=Ba.getContext("2d"),nb=Qa.createImageData(L,M),yb=!0),nb.data.set(x),Qa.putImageData(nb,0,0),b.texImage2D(b.TEXTURE_2D,0,la,ka,ma,Ba)):b.texImage2D(b.TEXTURE_2D,0,la,L,M,0,ka,ma,x);y[k]=O;za&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},bg:function(x,N){a(va);N&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!0);b.texImage2D(b.TEXTURE_2D,0,la,ka,ma,
x);y[k]=O;N&&b.pixelStorei(b.UNPACK_FLIP_Y_WEBGL,!1)},Rf:function(x,N){var ia=L*M,P=4*ia;x=m.M?x?"RGBE":"JSON":"RGBA";N&&(x=N);N=ba.o()&&!1;var Ma=null;switch(x){case "RGBE":Ma="s40";break;case "JSON":Ma=N?"s0":"s12";break;case "RGBA":case "RGBAARRAY":Ma="s6"}db||("RGBA"===x||"RGBE"===x||"RGBAARRAY"===x?(Fa=new Uint8Array(P),db=!0):"JSON"!==x||N||V.Tb());ca.J();u.set(Ma);V.b(0);P=null;if("RGBA"===x||"RGBE"===x||"RGBAARRAY"===x){b.viewport(0,0,L,M);oa.g(!0,!0);b.readPixels(0,0,L,M,b.RGBA,b.UNSIGNED_BYTE,
Fa);if("RGBAARRAY"===x)return{data:Fa};H||(f=document.createElement("canvas"),w=f.getContext("2d"),H=!0);f.width=L;f.height=M;ia=w.createImageData(L,M);ia.data.set(Fa);w.putImageData(ia,0,0);P=f.toDataURL("image/png")}else if("JSON"===x)if(N)P=new Float32Array(ia),b.viewport(0,0,L,M),oa.g(!0,!0),b.readPixels(0,0,L,M,b.RGBA,b.FLOAT,P);else{for(P=0;4>P;++P)b.viewport(0,M*P,L,M),u.Eb("u8",z[P]),oa.g(!P,!P);V.Cc();P=Array(ia);for(N=0;N<ia;++N)P[4*N]=Ca[0][N],P[4*N+1]=Ca[1][N],P[4*N+2]=Ca[2][N],P[4*N+
3]=Ca[3][N]}return{format:x,data:P,width:L,height:M,isMirrorY:m.isMirrorY,isFlipY:"RGBA"===x?m.isFlipY:!m.isFlipY}}};m.isMipmap&&!La&&cb&&!bb&&(V.mb(),bb=!0);if(m.url)a(va),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,null),Ha=new Image,Ha.Ee="Anonymous",Ha.crossOrigin="Anonymous",Ha.src=m.url,Ha.onload=function(){L=Ha.width;M=Ha.height;E()};else if(m.G){var zb=function(){L=void 0!==m.G.videoWidth?m.G.videoWidth:m.G.width;M=void 0!==m.G.videoHeight?m.G.videoHeight:m.G.height;L?
E():setTimeout(zb,1)};zb()}else m.array?(m.M&&!m.isFloat?m.array instanceof Uint16Array?(Aa=m.array,E()):e()?(Aa=d(m.array),E()):(E(),C.rd(V,m.array,za)):(Aa=m.isFloat?m.array instanceof Float32Array?m.array:new Float32Array(m.array):m.array instanceof Uint8Array?m.array:new Uint8Array(m.array),E()),m.isKeepArray||(Aa&&Aa!==m.array&&(Aa=null),delete m.array)):E();V.uf=V.w;m.$&&cb&&(m.$(V),m.$=null);D.push(V);return V},J:function(r){r!==k&&(b.activeTexture(p[r]),k=r);y[r]=-1;a(null)},ve:function(r){l.random.b(r)},
Gb:function(){n=null;b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,null,0)},reset:function(){for(var r=0;r<p.length;++r)y[r]=-1;k=-1},Pf:function(){k=-1},oe:function(){for(var r=0;r<p.length;++r)C.J(r)},ac:function(){l&&(l.random.remove(),l.Jc.remove())},$f:function(r,E){if("RGBA"===r.format||"RGBE"===r.format){var m=new Image;m.src=r.data;m.onload=function(){C.instance({isMirrorY:r.isMirrorY,isFlipY:r.isFlipY,isFloat:!1,G:m,$:function(O){if("RGBA"===r.format)E(O);else{var ta=r.width,
ya=r.height,Ba=C.instance({isMirrorY:r.isMirrorY,isFloat:!0,width:ta,height:ya,isFlipY:r.isFlipY});ca.S();b.viewport(0,0,ta,ya);u.set("s41");Ba.l();O.b(0);oa.g(!0,!0);C.J(0);E(Ba);b.flush();setTimeout(O.remove,50)}}})}}else"JSON"===r.format?E(C.instance({isFloat:!0,isFlipY:r.isFlipY,width:r.width,height:r.height,array:new Float32Array(r.data)})):E(!1)},h:function(){n&&(ra.S(),C.Gb(),ra.J());C.oe();D.slice(0).forEach(function(r){r.remove()});D.splice(0);B=!1;q=0;Va.h()}};return C}(),Hb=function(){return{instance:function(a){var c=
[Ia.instance(a),Ia.instance(a)],d=[c[1],c[0]],e=d,g={ce:function(h){e[1].l();e[0].b(h);g.Hc()},Sf:function(h){e[1].O();e[0].b(h);g.Hc()},Hc:function(){e=e===c?d:c},refresh:function(){e[0].refresh();e[1].refresh()},b:function(h){e[0].b(h)},Vc:function(h){e[1].b(h)},mf:function(){return e[0]},remove:function(){e[0].remove();e[1].remove();e=null}};return g}}}(),ba=function(){function a(){c="undefined"===typeof xa?JEContext:xa;d=!0}var c=null,d=!1,e=!1,g=null,h=null,k=!1,p=null,q=!1,y=null,l=!1,n=null,
t=!1,v=!0,G=!0,B=!0,D=null,F="undefined"===typeof window?{}:window,H={m:function(){if(d)return!0;a();H.Yb();H.jb();H.od();H.pd();ca.m();Ia.m();if(!H.jd())return!1;oa.m();Ia.Dd();return!0},w:function(){d||a();return c.w()},U:function(){d||a();return c.U()},o:function(){d||a();return c.o()},od:function(){t=(n=b.getExtension("EXT_color_buffer_float")||b.getExtension("WEBGL_color_buffer_float")||b.getExtension("OES_color_buffer_float"))?!0:!1;F.GL_EXT_COLORBUFFERFLOAT=n},pd:function(){b.getExtension("EXT_color_buffer_half_float")||
b.getExtension("WEBGL_color_buffer_half_float")||b.getExtension("OES_color_buffer_half_float")},Yb:function(){if(!e){this.o()||(g=b.getExtension("OES_texture_float")||b.getExtension("MOZ_OES_texture_float")||b.getExtension("WEBKIT_OES_texture_float"),k=(F.GL_EXT_FLOAT=g)?!0:!1);if(k||this.o())h=b.getExtension("OES_texture_float_linear")||b.getExtension("MOZ_OES_texture_float_linear")||b.getExtension("WEBKIT_OES_texture_float_linear"),F.GL_EXT_FLOATLINEAR=h;e=!0}},jb:function(){if(!l){if(!this.o()){if(p=
b.getExtension("OES_texture_half_float")||b.getExtension("MOZ_OES_texture_half_float")||b.getExtension("WEBKIT_OES_texture_half_float"))D=p.HALF_FLOAT_OES,q=!0;!D&&b.HALF_FLOAT&&(D=b.HALF_FLOAT);!D&&b.FLOAT&&(D=b.FLOAT);F.GL_EXT_HALFFLOAT=p}if(q||this.o())y=b.getExtension("OES_texture_half_float_linear")||b.getExtension("MOZ_OES_texture_half_float_linear")||b.getExtension("WEBKIT_OES_texture_half_float_linear"),F.GL_EXT_HALFFLOATLINEAR=y;l=!0}},Ha:function(){if(H.o())return b.HALF_FLOAT;H.jb();return q?
D:b.FLOAT},Ob:function(){return v},Yc:function(){return G},we:function(){return B},Xc:function(){return t},ld:function(){G=v=!0;var f=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,f);var w=b.createTexture();b.bindTexture(b.TEXTURE_2D,w);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.NEAREST);b.texImage2D(b.TEXTURE_2D,0,H.o()&&b.RGBA32F?b.RGBA32F:b.RGBA,1,1,0,b.RGBA,b.FLOAT,null);b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,
b.TEXTURE_2D,w,0);var z=b.checkFramebufferStatus(ca.nb());z!==b.FRAMEBUFFER_COMPLETE&&(v=!1);b.texImage2D(b.TEXTURE_2D,0,H.o()&&b.RGBA16F?b.RGBA16F:b.RGBA,1,1,0,b.RGBA,H.Ha(),null);b.framebufferTexture2D(ca.ia(),b.COLOR_ATTACHMENT0,b.TEXTURE_2D,w,0);z=b.checkFramebufferStatus(ca.nb());z!==b.FRAMEBUFFER_COMPLETE&&(G=!1);b.bindTexture(b.TEXTURE_2D,null);b.bindFramebuffer(b.FRAMEBUFFER,null);b.deleteTexture(w);b.deleteFramebuffer(f)},kd:function(){var f=ca.instance({width:1});f.Fc();var w=Ia.instance({width:1,
isFloat:!0,Oa:3});f.l();w.l();b.flush();b.checkFramebufferStatus(ca.nb())!==b.FRAMEBUFFER_COMPLETE?(Ia.$d(),B=!1):B=!0;f.remove();w.remove()},jd:function(){H.ld();if(!v&&!G)return!1;H.kd();return!0},h:function(){Ia.h();Ka.h();ca.h();oa.h();d=!1}};return H}(),Q=oa,ra=ca,R=Ia,Va=function(){function a(v,G,B,D){b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,D?b.NEAREST_MIPMAP_NEAREST:b.LINEAR);var F=null;try{if(F=b.getError(),F!==b.NO_ERROR&&console.log("GLERR in test_mipmapping():",F),b.texImage2D(b.TEXTURE_2D,
0,v,2,2,0,b.RGBA,G,B),F=b.getError(),F!==b.NO_ERROR)return!1}catch(H){return!1}D&&b.generateMipmap(b.TEXTURE_2D);Q.oa();Q.g(!1,!0);b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,k);F=b.getError();F===b.INVALID_OPERATION&&"undefined"!==typeof b.PIXEL_PACK_BUFFER&&(b.bindBuffer(b.PIXEL_PACK_BUFFER,null),b.readPixels(0,0,1,1,b.RGBA,b.UNSIGNED_BYTE,k),F=b.getError());return F!==b.NO_ERROR?!1:0!==k[0]}function c(v){return ba.Ob()&&a(l,b.FLOAT,new Float32Array(q),v)?(h=g.Jb,!0):!1}function d(v){return ba.Yc()?
a(n,ba.Ha(),new Uint16Array(q),v)||a(n,b.FLOAT,new Float32Array(q),v)?(h=g.Ya,!0):!1:!1}var e=!1,g={Jb:3,Ya:2,RGBA8:0},h=g.RGBA8,k=new Uint8Array(4),p=[.8,1,.8,1],q=p.concat(p,p,p),y=!0,l=null,n=null,t={m:function(){ba.Yb();ba.jb();n=l=b.RGBA;if(xa.o()){var v=b.RGBA32F;v&&(l=v);(v=b.RGBA16F)&&(n=v)}Q.m();ra.reset();ra.J();b.viewport(0,0,1,1);u.set("s0");e=!0;v=b.createTexture();b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,v);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.REPEAT);b.texParameteri(b.TEXTURE_2D,
b.TEXTURE_WRAP_T,b.REPEAT);b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.NEAREST);if(d(!0)||c(!0))return!0;y=!1;if(d(!1)||c(!1))return!0;if(xa.o()){n=l=b.RGBA;if(d(!0)||c(!0))return!0;y=!1;if(d(!1)||c(!1))return!0}return!1},Zc:function(){return y},pf:function(){return h},Cf:function(){e||t.m();return h===g.Jb},Jd:function(){e||t.m();return h===g.Ya},h:function(){e=!1;h=g.RGBA8;y=!0}};return t}(),Pb=function(){return{instance:function(a){var c=R.instance(a.alpha),d=R.instance(a.beta);return{nd:function(){c.b(1);
d.b(2)}}}}}(),Bb=function(){return{instance:function(a){var c=null,d=!1,e=!1,g=null,h=!1,k=!1,p=null,q="undefined"===typeof a.preprocessing?!1:a.preprocessing,y="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(d=!0,U&&void 0!==U.Rc&&(a.mask=U.Rc+a.mask),c=R.instance({isFloat:!1,url:a.mask}));var l=!1;a.customInputShader&&(l="s42",u.Kb({name:"_",id:l,a:a.customInputShader,c:["uSource"],precision:"lowp"}),u.L(l,[{type:"1i",name:"_",value:0}]));switch(q){case "sobel":p="s31";
h=!0;break;case "meanNormalization":p="s32";h=!0;break;case "grayScale":p="s28";h=!1;break;case "grayScaleTilt":p="s29";k=!0;h=!1;break;case "rgbGrayTilt":p="s30";k=!0;h=!1;break;case "copy":p=l?l:"s0";break;case "inputLightRegulation":p=l?l:"s28";g=Qb.instance({jc:y,Ac:a.size,rc:a.nBlurPass,Id:!1});e=!0;break;case "direct":case "none":p=!1;break;default:p="s3"}k&&u.L(p,[{name:"u27",type:"1f",value:a.tilt}]);d&&(p+="Mask");var n=R.instance({isFloat:!1,isPot:!1,width:a.size}),t={w:function(){return y},
ob:function(){return t.w()},yd:function(){return e?g.ec():n},N:function(){ra.S();p&&(u.set(p),h&&u.B("u28",1/a.size),n.O(),d&&c.b(1),Q.g(!1,!1),n.b(0),e&&g.Td(n))},h:function(){n.remove();d&&c.remove()}};return t}}}(),Cb=function(){return{instance:function(a){"undefined"===typeof a.disableNormalize&&(a.disableNormalize=!1);var c={input:null,ha:null,sb:null,V:null,Qa:null,Ab:null,Bb:null},d=null,e=[],g=[],h=!1,k=null,p=!0,q=-1,y=a.isReorganize?a.isReorganize:!1,l=a.kernelsNumber?!0:!1,n=a.dynPelu?
Pb.instance(a.dynPelu):!1,t=n?!0:!1,v={isEnabled:!1};a.Hd?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Sa.ob(),p=!1):"full"===a.connectivityUp&&(a.sparsity=a.Sa.ob());var G={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[a.activation],B=a.sparsity*a.sparsity,D=!1,F=a.size,H="";if(a.maxPooling){switch(a.maxPooling.size){case 2:H="s33";break;case 4:H="s34"}D=!0;F/=a.maxPooling.size;c.Ab=R.instance({isFloat:!0,isPot:!1,width:F})}var f=
void 0!==a.Rd&&a.Rd?!0:!1,w=null,z=null,X=null;if(f){w="s43"+a.index.toString();u.ic("s43",w,[((a.normalization.n-1)/2).toFixed(1)]);u.L(w,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/a.size,1/a.size]},{type:"1f",name:"u6",value:a.normalization.alpha},{type:"1f",name:"u9",value:a.normalization.beta},{type:"1f",name:"u32",value:a.normalization.k}]);var ja={isFloat:!0,isPot:!0,width:a.size};z=R.instance(ja);X=R.instance(ja)}var ha=-1,ea=null;p&&(c.V=R.instance({isFloat:!0,isPot:!1,width:a.size}));
c.ha=R.instance(a.bias);var qa={w:function(){return a.size},ob:function(){return F},bc:function(){return a.classesCount},Tc:function(C){d.b(C)},Ud:function(){a.remap&&a.remap.isEnabled&&(v={isEnabled:!0,Nd:R.instance({isFloat:!1,isFlipY:!1,array:new Uint8Array(a.remap.maskTexture.data),width:a.remap.maskTexture.width,isPot:!1}),layers:a.remap.layers.map(function(C){return a.parent.xd(C)}),depth:a.remap.depth})},be:function(){switch(a.connectivityUp){case "direct":ea=Rb.instance(a.connectivity);break;
case "square":ea=Sb.instance(a.connectivity);break;case "squareFast":ea=Tb.instance(a.connectivity,a.activation);break;case "full":ea=Ub.instance(a.connectivity);break;case "conv":q=a.kernelsNumber,ea=Vb.instance(a.connectivity),y&&(c.Qa=R.instance({width:F,isFloat:!0,isFlipY:!1,isPot:!1}))}if(ea.ka){var C=a.size*a.sparsity;ha=Math.log(C/a.size)/Math.log(2);c.input=R.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:C,wb:ha});c.sb=R.instance({isFloat:!0,isPot:!0,width:a.size})}},N:function(C){d=C;ea.ka?
(c.input.O(),l&&c.ha.b(2),ea.N(v),c.input.b(0),c.input.sd(ha),c.sb.O(),l?u.set("s0"):(u.set("s27"),u.B("u26",B),c.ha.b(1)),c.input.Uc(ha,0),Q.g(!1,!1),u.set(G),f?z.l():c.V.l(),c.sb.b(0),t&&n.nd(),Q.g(!1,!1)):(c.V.O(),c.ha.b(1),ea.N());f&&(u.set(w),X.l(),z.b(0),Q.g(!1,!1),u.set("s44"),u.B("u6",1),c.V.l(),X.b(1),Q.g(!1,!1));if(p)return D?(c.Ab.O(),c.V.b(0),u.set(H),u.wa("u7",1/a.size,1/a.size),Q.g(!1,!1),C=c.Ab):C=c.V,C.b(0),y&&(c.Qa.l(),u.set("s21"),u.wa("u13",q,F/q),Q.g(!1,!1),C=c.Qa,c.Qa.b(0)),C;
C=c.V;a.disableNormalize||(u.set("gpuRawAvg"===h?"s8":"s7"),u.B("u4",1/a.size),c.Bb.O(),c.V.b(0),Q.g(!1,!1),C=c.Bb);switch(h){case "cpuRGBA2Float":C.Vb(!1);C=qa.Vd(C);k(C);break;case "cpuMeanFloat":C.Vb(!0);C=C.Wd();k(C);break;case "gpuRawAvg":case "gpuRaw":C.b(0);case "none":k(C)}return!1},gd:function(C){C&&"undefined"!==typeof C.zc&&(h=C.zc,k=C.Sd);c.V=R.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:a.size});C="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var r=
0,E=0,m=0;r<C;++r)e.push(E+(a.size-1-m)*a.size),g.push([-1,-1,-1,-1]),++E,E===a.size&&(E=0,++m);a.disableNormalize||(c.Bb=R.instance({isFloat:!0,isPot:!0,width:a.size}))},Vd:function(C){var r=C.Cc();e.forEach(function(E,m){g[m][0]=r[0][E];g[m][1]=r[1][E];g[m][2]=r[2][E];g[m][3]=r[3][E]});return g},h:function(){for(var C in c){var r=c[C];r&&r.remove()}ea&&(ea.h(),ea=null)}};a.Sa&&qa.be(a.Sa);return qa}}}();pb.Wb=function(a){a.forEach(function(c){c.ed&&R.Wb(c.ed.cg);c.ha&&R.Wb(c.ha)})};var Rb=function(){return{instance:function(a){var c=
R.instance(a.weights);delete a.weights.data;return{ka:!0,Ga:function(){return 1},h:function(){c.remove()},Cd:function(){return c},N:function(){u.set("s26");c.b(1);Q.g(!1,!1)}}}}}(),Ub=function(){return{instance:function(a){var c=a.fromLayerSize,d=R.instance(a.weights);delete a.weights.data;return{ka:!0,Ga:function(){return c},h:function(){d.remove()},N:function(e){if(e.isEnabled){u.set("s24");e.Nd.b(3);var g,h=Math.min(e.layers.length,e.depth);for(g=0;g<h;++g)e.layers[g].Tc(4+g)}else u.set("s23");
u.B("u17",a.toLayerSize);d.b(1);Q.g(!1,!1)}}}}}(),Sb=function(){return{instance:function(a){for(var c=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,g=e*d,h=g/c,k=c/d,p=0,q=0,y=0,l=Array(e*d*e*d*4),n=Array(e*d*e*d*4),t=Array(c*c),v=0;v<t.length;++v)t[v]=0;v=Math.floor(e/2);for(var G=.5/d,B=.5/c,D=.5/g,F=0;F<d;++F)for(var H=Math.round(F*k),f=0;f<d;++f){var w=Math.round(f*k),z=F/d,X=f/d;z+=G;X+=G;for(var ja=0;ja<e;++ja){var ha=H+ja-v;0>ha&&(ha+=c);ha>=c&&(ha-=c);for(var ea=0;ea<e;++ea){var qa=p/g,C=
q/g,r=w+ea-v;0>r&&(r+=c);r>=c&&(r-=c);var E=ha/c,m=r/c;C=1-C-1/g;E+=B;m+=B;qa+=D;C+=D;var O=F*e+ja,ta=f*e+ea;ta=d*e-ta-1;O=ta*d*e+O;l[4*O]=qa;l[4*O+1]=C;l[4*O+2]=E;l[4*O+3]=m;m=t[r*c+ha]++;O=m%h;E=ha*h+O;r=r*h+(m-O)/h;r=c*h-1-r;r=r*c*h+E;n[4*r]=qa;n[4*r+1]=C;n[4*r+2]=z;n[4*r+3]=X;++p>=g&&(p=0,++q);++y}}}t=null;var ya=R.instance(a.weights);delete a.weights.data;var Ba=R.instance({width:g,isFloat:!0,array:new Float32Array(n),isPot:!0});n=null;var Qa=R.instance({width:g,isFloat:!0,array:new Float32Array(l),
isPot:!0});l=null;return{ka:!0,Ga:function(){return h},h:function(){Ba.remove();Qa.remove();ya.remove()},N:function(){u.set("s22");ya.b(1);Qa.b(2);Q.g(!1,!1)}}}}}(),Vb=function(){return{instance:function(a){var c=a.kernelsNumber,d=a.toSparsity,e=d*a.toLayerSize/a.fromLayerSize,g=R.instance(a.weights);delete a.weights.data;return{ka:!0,Ga:function(){return e},wf:function(){return d},Cd:function(){return g},h:function(){g.remove()},N:function(){u.set("s25");u.B("u23",c);u.B("u24",d);u.B("u17",a.toLayerSize);
u.B("u25",a.fromLayerSize);g.b(1);Q.g(!1,!1)}}}}}(),Tb=function(){return{instance:function(a,c){var d=a.fromLayerSize,e=a.toLayerSize,g=a.toSparsity,h=a.stride?a.stride:1,k=g*e/d,p=e<d,q=d/e,y=R.instance(a.weights);delete a.weights.data;var l="s45"+[d.toString(),e.toString(),g.toString(),h.toString(),c].join("_");u.qd(l)||(a=Ob.td(c,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u17",value:e},{type:"1f",name:"u31",value:h}],p&&e.push({type:"1f",name:"u25",value:d}),d=[(p?k:g).toFixed(1),a],p&&
d.push(q.toFixed(1)),u.ic(p?"s39":"s38",l,d),u.L(l,e.concat([{type:"1i",name:"u15",value:0},{type:"1i",name:"u22",value:1},{type:"1i",name:"u14",value:3}])));return{ka:!1,Ga:function(){return k},h:function(){y.remove()},N:function(){u.set(l);y.b(3);Q.g(!1,!1)}}}}}(),Qb=function(){return{instance:function(a){var c=a.rc?a.rc:3,d=a.jc?a.jc:64,e=a.Ac?a.Ac:64,g=a.Id?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var h=R.instance(a),k=R.instance(a),p=R.instance(a),q=R.instance(a),y=R.instance({isFloat:!0,
width:e,isPot:!1,isFlipY:!1}),l=1/d;return{Td:function(n){u.set("s35");q.l();Q.g(g,!1);u.set("s36");for(var t=0;t<c;++t)h.l(),u.wa("u7",l,0),Q.g(g,!1),p.l(),q.b(0),Q.g(g,!1),k.l(),h.b(0),u.wa("u7",0,l),Q.g(g,!1),q.l(),p.b(0),Q.g(g,!1),t!==c-1&&k.b(0);u.set("s37");y.l();n.b(0);k.b(1);q.b(2);Q.g(g,!1);y.b(0)},ec:function(){return y}}}}}(),T={Bd:function(){return T.Sb()?document.createElement("video"):!1},ra:function(a,c){a[c]=!0;a.setAttribute(c,"true")},bd:function(){var a=!1,c=navigator.userAgent||
navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(c)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(c.substr(0,
4)))a=!0;return a},Qb:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},ud:function(){var a=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<a.length?[parseInt(a[1],10),parseInt(a[2],10),parseInt(a[3]||0,10)]:[0,0,0]},nc:function(){try{return window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(a){return window.innerHeight>window.innerWidth}},ad:function(){return T.Rb()||T.Qb()},Rb:function(){var a=navigator.userAgent.toLowerCase();return-1!==
a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1},bf:function(){return T.bd()?T.nc()?window.innerHeight/window.innerWidth*45:45:45},Sb:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1},pause:function(a){a.pause()},Qf:function(a){a.play()},release:function(a){a.pause();a.videoStream&&a.videoStream.stop();a.videoStream=null},dd:function(a){if(!a)return a;var c=!1;if(a.video){var d=function(e){var g={};"undefined"!==typeof e.min&&(g.min=e.min);"undefined"!==typeof e.max&&
(g.max=e.max);"undefined"!==typeof e.ideal&&(g.ideal=e.ideal);return g};c={};"undefined"!==typeof a.video.width&&(c.width=d(a.video.width));"undefined"!==typeof a.video.height&&(c.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(c.facingMode=a.video.facingMode)}c={audio:a.audio,video:c};"undefined"!==typeof a.deviceId&&(c.deviceId=a.deviceId);return c},Ic:function(a){var c=a.video.width;a.video.width=a.video.height;a.video.height=c;return a},fd:function(a){function c(n){return[480,
576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(t,v){return Math.abs(t-n)-Math.abs(v-n)})}function d(n){var t=T.dd(a);e.push(n(t))}var e=[];if(!a||!a.video)return e;if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var g=c(a.video.width.ideal).slice(0,3),h=c(a.video.height.ideal).slice(0,3),k={},p=0;for(k.Z=void 0;p<g.length;k={Z:k.Z},++p){k.Z=g[p];var q={},y=0;for(q.Y=void 0;y<h.length;q={Y:q.Y},++y)if(q.Y=h[y],k.Z!==a.video.width.ideal||q.Y!==a.video.height.ideal){var l=
Math.max(k.Z,q.Y)/Math.min(k.Z,q.Y);l<4/3-.1||l>16/9+.1||d(function(n,t){return function(v){v.video.width.ideal=n.Z;v.video.height.ideal=t.Y;return v}}(k,q))}}}d(function(n){return T.Ic(n)})}a.video.width&&a.video.height&&(a.video.width.ideal&&a.video.height.ideal&&d(function(n){delete n.video.width.ideal;delete n.video.height.ideal;return n}),d(function(n){delete n.video.width;delete n.video.height;return n}));a.video.facingMode&&(d(function(n){delete n.video.facingMode;return n}),a.video.width&&
a.video.height&&d(function(n){T.Ic(n);delete n.video.facingMode;return n}));e.push({audio:a.audio,video:!0});return e},ke:function(a){if(T.nc()){if(!a||!a.video)return!1;var c=a.video.width,d=a.video.height;if(!c||!d)return!1;if(c.ideal&&d.ideal&&c.ideal>d.ideal)return a.video.height=c,a.video.width=d,!0}return!1},Na:function(a){a.volume=0;T.ra(a,"muted");if(T.Rb()){if(1===a.volume){var c=function(){a.volume=0;window.removeEventListener("mousemove",c,!1);window.removeEventListener("touchstart",c,
!1)};window.addEventListener("mousemove",c,!1);window.addEventListener("touchstart",c,!1)}setTimeout(function(){a.volume=0;T.ra(a,"muted")},5)}},le:function(a,c,d){return new Promise(function(e,g){if(a.srcObject&&a.srcObject.getVideoTracks){var h=a.srcObject.getVideoTracks();1!==h.length?g("INVALID_TRACKNUMBER"):(h=h[0],c?T.get(a,e,g,d):(h.stop(),e()))}else g("BAD_IMPLEMENTATION")})},fc:function(a,c,d,e){function g(k){h||(h=!0,d(k))}var h=!1;return navigator.mediaDevices.getUserMedia(e).then(function(k){function p(){setTimeout(function(){if(a.currentTime){var q=
a.videoWidth,y=a.videoHeight;if(0===q||0===y)g("VIDEO_NULLSIZE");else{q&&(a.style.width=q.toString()+"px");y&&(a.style.height=y.toString()+"px");q={$c:null,ge:null,Od:null};try{var l=k.getVideoTracks()[0];l&&(q.Od=l,q.$c=l.getCapabilities(),q.ge=l.getSettings())}catch(n){}T.ad()?a.parentNode&&null!==a.parentNode?(h||c(a,k,q),setTimeout(function(){a.play()},100)):(document.body.appendChild(a),T.Na(a),h||c(a,k,q),setTimeout(function(){a.style.transform="scale(0.0001,0.0001)";a.style.position="fixed";
a.style.bottom="0px";a.style.right="0px";T.Na(a);setTimeout(function(){a.play()},100)},80)):h||c(a,k,q)}}else g("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof a.srcObject?a.srcObject=k:(a.src=window.URL.createObjectURL(k),a.videoStream=k);T.Na(a);a.addEventListener("loadeddata",function(){var q=a.play();T.Na(a);"undefined"===typeof q?p():q.then(function(){p()}).catch(function(){g("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(k){g(k)})},get:function(a,c,d,e){if(!a)return d&&d("VIDEO_NOTPROVIDED"),
!1;if(!T.Sb())return d&&d("MEDIASTREAMAPI_NOTFOUND"),!1;if(e&&e.video){if(T.Qb()){var g=T.ud();(12>g[0]||12===g[0]&&2>g[1])&&T.ke(e)}e.video.width&&e.video.width.ideal&&(a.style.width=e.video.width.ideal+"px");e.video.height&&e.video.height.ideal&&(a.style.height=e.video.height.ideal+"px")}T.ra(a,"autoplay");T.ra(a,"playsinline");e&&e.audio?a.volume=0:T.ra(a,"muted");T.fc(a,c,function(){function h(p){if(0===p.length)d("INVALID_FALLBACKCONSTRAINTS");else{var q=p.shift();T.fc(a,c,function(){h(p)},q)}}
var k=T.fd(e);h(k)},e)},Ad:function(a){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a(!1,"NOTSUPPORTED"),!1;navigator.mediaDevices.enumerateDevices().then(function(c){(c=c.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&d.deviceId}))&&c.length&&0<c.length?a(c,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")})},xe:function(a,c,d){var e={};e[c]=d;c=[];c.push(e);a.applyConstraints({advanced:c}).catch(function(){})}},
tb=function(){var a={vc:4,Ra:[1.5,1.5,2],I:[.1,.1,.1],Dc:1,C:-1,A:-1,je:2,yc:2,Ec:!0},c=null,d=[],e=0,g=[0,0,1];return{m:function(h){c=Object.assign({},a,h);d.splice(0);h=c.Ra[0]*c.I[0];var k=c.Ra[1]*c.I[1],p=1/(1+c.Ra[2]*c.I[2]),q=c.Dc*Math.min(c.C,c.A),y=q/c.C;q/=c.A;for(var l=0;l<c.vc;++l){var n=Math.pow(p,l),t=y*n,v=q*n,G=t*h,B=v*k;t/=2;v/=2;for(var D=1+(1-t-t)/G,F=1+(1-v-v)/B,H=0;H<F;++H)for(var f=v+H*B,w=0;w<D;++w)d.push([t+w*G,f,2*n*c.yc])}c.Ec&&d.sort(function(z,X){var ja=z[0]-.5;z=z[1]-.5;
var ha=X[0]-.5;X=X[1]-.5;return ja*ja+z*z-(ha*ha+X*X)})},get:function(){var h=d.length;if(0===h)return g;e>=h&&(e=0);var k=d[Math.floor(e)];e=(e+1/c.je)%h;return k}}}(),U={save:"NN_FACE.json",Lb:0,Pc:25,$a:.2,ga:[45,55],Xa:[2,6],Xd:{threshold:.75,dThreshold:1,nDetectsPerLoop:0,nScaleLevels:3,scale0Factor:.8,overlapFactors:[3,3,2.5],scanCenterFirst:!0},I:[.07,.07,.15],me:50,qc:.12,Pd:8,ie:{translationFactorRange:[.0015,.005],rotationFactorRange:[.05,.1],qualityFactorRange:[.85,
.95],alphaRange:[.05,.9],LMmedianFilterLength:7,LMmedianFilterSkip:2,LMDisplacementRange:[1,3],qualityGoodDetectionThreshold:.4,followZRotAlphaFactor:.01},Nc:.2,Oc:2,Qd:8,re:20,he:12,He:0,Fe:0,Ke:0,Le:0,Je:0,Ge:0,Ie:0},sa={facingMode:"user",idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1280,minHeight:480,maxHeight:1280,rotate:0},aa={Md:-1,error:-2,yb:0,play:1,pause:2},da=aa.yb,A=null,Wb={tb:!1,element:null,ea:null,ya:!1,u:[0,0],F:[.5,.5],K:[.5,0,0,.5],Ta:0,Ea:null},K=null,Xb={pa:!1,Da:!1,Ib:"./",
Wa:null,T:!1,Aa:U.Lb,Bc:U.Lb,Ja:!1,ca:!0},eb=null,Ja=[-1,-1],wa=null,na=Object.create(U.Xd),Z=Object.create(U.ie),J=null,Yb={C:0,A:0,Ba:1,u:[0,0],sa:0,Ia:null},Y={size:0,za:null,buffer:null,X:null,I:null},Ra=null,pa=null,Ea=null,Xa=!1,Oa=!1,I={i:1,ba:0,P:null,zf:!1,oc:0,zb:0},S={qa:0,timestamp:0,sc:0,tc:0,H:U.Xa[0],uc:0,ja:0,Ce:1},gb=[],hb=[],W={labels:[],ta:0,xb:0,kb:1,Pb:!1},Sa={wc:0,Qc:1,hc:2},Za=[],fa={Ma:{If:3,Va:1,eg:0},mode:3,Ub:0,aa:{Fa:1,lb:0}},Ab={VERSION:"1.0.0",init:function(a){function c(){if(da!==
aa.error&&2===++e){Ta();xb();$a();for(var g=0;g<I.i;++g)Za.push(Sa.wc);K.pa&&(K.pa(!1,{GL:b,canvasElement:K.T,video:A.element,videoTexture:A.ya.get(),maxFacesDetected:I.i,landmarksLabels:W.labels}),sb());rb()}}if(da!==aa.yb)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;da=aa.Md;A=Object.assign({},Wb);K=Object.assign({},Xb);J=Object.assign({},Yb);I.P=[0];Y.I=U.I.slice(0);Y.X=[0,0,0];a.callbackReady&&(K.pa=a.callbackReady);a.callbackTrack&&(K.Da=a.callbackTrack);"undefined"!==typeof a.animateDelay&&
(K.Aa=a.animateDelay);"undefined"!==typeof a.NNCpath&&(K.Ib=a.NNCpath);"undefined"!==typeof a.NN&&(K.Wa=a.NN);"undefined"!==typeof a.maxFacesDetected&&(I.i=Math.max(1,a.maxFacesDetected));"undefined"!==typeof a.followZRot&&(K.ca=a.followZRot?!0:!1);if(I.i>U.Pd)return Ga("MAXFACES_TOOHIGH"),!1;if(a.canvas)K.T=a.canvas;else{if(!a.canvasId)return Ga("NO_CANVASID"),!1;K.T=document.getElementById(a.canvasId);if(!K.T)return Ga("INVALID_CANVASID"),!1}J.C=K.T.width;J.A=K.T.height;if(!J.C||!J.A)return Ga("INVALID_CANVASDIMENSIONS"),
!1;J.Ba=J.C/J.A;for(var d=0;d<I.i;++d)gb.push(new Float32Array(U.Qd)),hb.push(0);a.scanSettings&&Ua(na,a.scanSettings);a.stabilizationSettings&&Ua(Z,a.stabilizationSettings);var e=0;a.videoSettings&&a.videoSettings.videoElement?mb(a.videoSettings.videoElement,c):(a.videoSettings&&Ua(sa,a.videoSettings),Mb(a.onWebcamAsk,a.onWebcamGet,function(g){mb(g,c)}));Ib(function(g){if(!Jb())return!1;wa=new pb;wa.Zd(g.layers);wa.ae({zc:"gpuRawAvg",Sd:Lb});u.Mc([{id:"s48",name:"_",fa:"attribute vec2 a0;uniform mat2 u34;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u34*a0;}",
Ca:["a0"],ma:[2],a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u34"],precision:"lowp"},{id:"s50",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",fa:"attribute vec2 a0;uniform sampler2D u35;uniform vec2 u36;uniform float u37,u33,u38,u39;varying vec2 vv0;void main(){vec2 f=a0;vec4 a=texture2D(u35,vec2(u33,u37));vec2 e=a.gb,b=a.a*u36;b.x*=u39;float c=cos(u38),d=sin(u38);vec2 h=mat2(c,d,-d,c)*f;vv0=e+.5*h*b,gl_Position=vec4(a0,0.,1.);}",
Ca:["a0"],ma:[2],c:"u1 u35 u36 u37 u33 u38 u39".split(" "),precision:"lowp"},{id:"s49",name:"_",a:"uniform sampler2D u40,u35;uniform vec3 u41,u42;uniform float u43,u44,u45,u37,u33,u46,u47,u38,u48;const vec4 e=vec4(.25,.25,.25,.25);void main(){float b=(u47-.5)/u47;vec4 h=texture2D(u40,vec2(3.5/u47,b)),i=texture2D(u40,vec2(4.5/u47,b)),a=texture2D(u35,vec2(u33,u37));float c=dot(h,e),j=dot(i,e);bool k=c>u44&&c>j+u45;k?a.r=2.:a.r>u43?a.r=0.:a.r>1.9?a.r+=1.:0.,a.r*=u46;if(a.r<.9)a=vec4(1.,u41);else{a.r*=step(1.9,a.r);float l=dot(e,texture2D(u40,vec2(.5/u47,b))),m=dot(e,texture2D(u40,vec2(1.5/u47,b))),n=dot(e,texture2D(u40,vec2(2.5/u47,b))),d=cos(u38),f=sin(u38);vec2 g=mat2(d,f*u48,-f/u48,d)*vec2(l,m);a.gba+=vec3(g,n)*u42*a.a;}gl_FragColor=a;}",
fa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"u40 u35 u41 u43 u42 u46 u44 u45 u37 u33 u47 u38 u48".split(" ")},{id:"s51",name:"_",fa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",a:"uniform sampler2D u40;uniform float u47;const vec4 e=vec4(.25,.25,.25,.25);void main(){float a=(u47-.5)/u47,b=dot(e,texture2D(u40,vec2(5.5/u47,a))),c=dot(e,texture2D(u40,vec2(6.5/u47,a))),d=dot(e,texture2D(u40,vec2(7.5/u47,a))),g=dot(e,texture2D(u40,vec2(3.5/u47,a)));vec3 f=vec3(b,c,d);gl_FragColor=vec4(f,g);}",
c:["u40","u47"]},{id:"s52",name:"_",fa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",a:"uniform sampler2D u40;uniform float u47;const vec4 e=vec4(.25,.25,.25,.25),h=vec4(.5,.5,.5,.5);vec2 f(float a){float b=floor(a/u47),c=a-b*u47;return vec2(c,u47-.5-b)/u47;}vec2 g(float a){vec2 b=f(a*2.),c=f(a*2.+1.);float d=dot(e,texture2D(u40,b)),i=dot(e,texture2D(u40,c));return vec2(d,i);}void main(){float a=2.*gl_FragCoord.x;vec2 b=g(a-1.),c=g(a);gl_FragColor=h+.5*vec4(b,c)/1.2;}",c:["u40","u47"]},
{id:"s47",name:"_",a:"uniform sampler2D u35,u49;uniform vec2 u50;uniform float u51,u33;varying vec2 vv0;void main(){float g=step(.5,mod(gl_FragCoord.y+1.5,2.)),b=step(u33,vv0.x);vec2 d=vv0+u50;vec4 a=mix(texture2D(u49,d),texture2D(u35,d),b);a.a*=mix(u51,1.,b);vec4 f=floor(255.*a),h=255.*(255.*a-f),c=mix(f,h,g)/255.;c.x=mix(step(a.x,1.5),c.x,b),gl_FragColor=c;}",c:["u35","u49","u51","u50","u33"]}]);A.ya=R.instance({isPot:!1,isLinear:!0,isFloat:!1,width:J.C,height:J.A});J.Ia=R.instance({isPot:!0,isFloat:!1,
width:wa.cc()});Gb();kb();jb();c()});return!0},destroy:function(){return new Promise(function(a){Ab.toggle_pause(!0,!0).finally(function(){wa&&wa.h();xa.h();wa=pa=Ra=null;gb.splice(0);hb.splice(0);da=aa.yb;a()})})},toggle_pause:function(a,c){if(-1===[aa.play,aa.pause].indexOf(da))return Promise.reject();c=c?T.le(A.element,!a,A.Ea):Promise.resolve();a?da===aa.play&&(Xa&&(clearTimeout(Xa),Xa=!1),Oa&&(window.cancelAnimationFrame(Oa),Oa=!1),da=aa.pause):rb();return c},toggle_slow:function(a){-1!==[aa.play,
aa.pause].indexOf(da)&&da===aa.play&&(a&&!K.Ja?(K.Bc=K.Aa,na.nDetectsPerLoop=1,this.set_animateDelay(100),K.Ja=!0):!a&&K.Ja&&(na.nDetectsPerLoop=-1,this.set_animateDelay(K.Bc),K.Ja=!1))},set_animateDelay:function(a){K.Aa=a},resize:function(){var a=K.T.width,c=K.T.height;if(!lb()&&a===J.C&&c===J.A)return!1;J.C=a;J.A=c;J.Ba=J.C/J.A;kb();jb();Ta();$a();return!0},set_inputTexture:function(a,c,d){A.u[0]=c;A.u[1]=d;A.tb=!0;Ta();sb();$a();u.set("s48");A.ya.O();b.activeTexture(b.TEXTURE0);b.bindTexture(b.TEXTURE_2D,
a);Q.g(!0,!0)},reset_inputTexture:function(){lb();A.tb=!1;Ta();$a()},get_videoDevices:function(a){return T.Ad(a)},set_scanSettings:function(a){Ua(na,a);kb();jb()},set_stabilizationSettings:function(a){Ua(Z,a)},update_videoElement:function(a,c){mb(a,function(){xb();Ta();c&&c()})},capture_image:function(a){return xa.vd(a)},get_LMLabels:function(){return W.labels},compute_pose:function(a,c,d,e){null===eb&&(Ja[0]=d,Ja[1]=e,eb=new Nb.zypSolver({cameraFocals:Ja,zyp15:U.he}));if(Ja[0]!==
d||Ja[1]!==e)Ja[0]=d,Ja[1]=e,eb.zyp14(Ja);a=eb.solve(a,c,!1);return{ok:a.zyp13,repError:a.repError,rotation:a.R,translation:a.t}}};return Ab}();
;return WEBARROCKSFACE;})();