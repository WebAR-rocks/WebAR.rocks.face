/**
 * WebAR.rocks.face
 *
 * Copyright (c) 2020 WebAR.rocks ( https://webar.rocks )
 * This code is released under dual licensing:
 *   - GPLv3 
 *   - Nominative commercial license
 * Please read https://github.com/WebAR-rocks/WebAR.rocks.face/blob/master/LICENSE
 * 
*/

var WEBARROCKSFACE=(function(){window.WEBARROCKSFACE=function(){function Tb(a){var b=null,d=null,e=null,l=0,q=this,u=null,p={fb:[],Pb:"none",Vc:!1,Ob:null,grid:null};this.B=function(){this.Ye(u.fb);e.Cg({Pb:u.Pb,Vc:u.Vc,Ob:u.Ob})};this.Jf=function(k){return b[k]};this.ac=function(k){["s32","s34","s27"].forEach(function(n){z.K(n,[{type:"2f",name:"u20",value:k}])});b&&b.forEach(function(n){n.ac(k)})};this.Ye=function(k){var n=null;l=k.length;var w=null!==u.grid&&a.grid.length&&!(1===a.grid[0]&&1===a.grid[1]),y=w?u.grid:[1,1];
w&&this.ac(y);b=k.map(function(x,r){x=Object.assign({},x,{index:r,parent:q,Rb:n,Wf:r===l-1,$a:w,aa:y});return n=r=0===r?Ub.instance(x):Vb.instance(x)});d=b[0];e=b[l-1];b.forEach(function(x,r){0!==r&&x.kg()})};this.W=function(k){k.h(0);var n=k;b.forEach(function(w){n=w.W(n,!1)});return n};this.If=function(){return d.Hf()};this.Mf=function(){return e.I()};this.Ya=function(){return e.Lf()};this.Pd=function(){return e.Pd()};this.m=function(){b&&(b.forEach(function(k){k.m()}),e=d=b=null,l=0)};"undefined"!==
typeof a&&(u=Object.assign({},p,a),this.B())}function kb(a,b){var d=b%8;return a[(b-d)/8]>>7-d&1}function zb(a,b,d){var e=1,l=0;for(d=b+d-1;d>=b;--d)l+=e*kb(a,d),e*=2;return l}function Ab(a){a=a.data;a="undefined"===typeof btoa?Buffer.from(a,"base64").toString("latin1"):atob(a);for(var b=a.length,d=new Uint8Array(b),e=0;e<b;++e)d[e]=a.charCodeAt(e);return d}function lb(a){return"string"===typeof a?JSON.parse(a):a}function Wb(a){if("undefined"===typeof lb(a).nb){var b=lb(a);a=b.ne;var d=b.nf,e=b.n;
b=Ab(b);for(var l=new Float32Array(e),q=new Float32Array(d),u=a+d+1,p=0;p<e;++p){var k=u*p,n=0===kb(b,k)?1:-1,w=zb(b,k+1,a);k=k+1+a;for(var y=q.length,x=0,r=k;r<k+y;++r)q[x]=kb(b,r,!0),++x;for(y=k=0;y<d;++y)k+=q[y]*Math.pow(2,-y-1);l[p]=0===k&&0===w?0:n*(1+k)*Math.pow(2,1+w-Math.pow(2,a-1))}a=l}else if(e=lb(a),a=e.nb,0===a)a=new Uint8Array(e.nb);else{d=e.n;e=Ab(e);b=new Uint32Array(d);for(l=0;l<d;++l)b[l]=zb(e,l*a,a);a=b}return a}function Wa(){if(da===ba.play)return!1;if(null===B.element||da===ba.Kb)return da=
ba.Ie,!1;da=ba.play;oa.Zb();Na.stop();za.Ac();Bb(0);return!0}function mb(){if(da!==ba.play)return!1;oa.stop();Na.stop();da=ba.pause;return!0}function sa(a,b,d,e,l){a=4*(b*Aa+a)+d;return e+(Q.buffer[a]/255+Q.buffer[a+4*Aa]/65025)*(l-e)}function Cb(){var a=fa.za();Ba.O();c.viewport(0,0,Aa,2*a);z.set("s62");Q.da.h(0);Q.kb.h(1);R.l(!1,!1);return ea.enableAsyncReadPixels?aa.Tb(0,0,Aa,2*a,Q.buffer,db,ea.readPixelsAsyncDelay):aa.ve(0,0,Aa,2*a,Q.buffer)}function Xb(a){var b=Qa[a],d=nb[a],e=ta[a];a*=2;b.Wa=
sa(1,a,3,0,1);e.detectedRaw=b.Wa;e.detected=Fa.pa(e.detected,b.Wa,qa.Re);var l=e.isDetected;e.isDetected=e.detected>ea.threshold;b.x=sa(0,a,1,-1,1);b.y=sa(0,a,2,-1,1);b.S=sa(0,a,3,0,ea.maxFaceWinScale);if(e.isDetected){b.rx=sa(1,a,0,-Q.qa[0],Q.qa[0]);b.ry=sa(1,a,1,-Q.qa[1],Q.qa[1]);b.Fa=sa(1,a,2,-Q.qa[2],Q.qa[2]);Q.ab&&(b.Gc=sa(2,a,0,0,1),b.Hc=sa(2,a,1,0,2),b.Jc=sa(2,a,2,-Math.PI,Math.PI),b.Ic=sa(2,a,3,0,Math.PI),l?(l=ua.lightingRelaxationTime,e.lAmb=oa.Xb(b.Gc,e.lAmb,l),e.lDir=oa.Xb(b.Hc,e.lDir,
l),e.lTheta=oa.Xb(b.Jc,e.lTheta,l),e.lPhi=oa.Xb(b.Ic,e.lPhi,l)):(e.lAmb=b.Gc,e.lDir=b.Hc,e.lTheta=b.Jc,e.lPhi=b.Ic));for(l=0;l<la.Nb;++l){var q=3+Math.floor(l/2);b.Kc[l][0]=sa(q,a,l%2*2,-1.2,1.2);b.Kc[l][1]=sa(q,a,l%2*2+1,-1.2,1.2)}d.dx=b.x-e.x;d.dy=b.y-e.y;d.pc=b.S-e.s;d.mc=b.rx-e.rx;d.nc=b.ry-e.ry;d.oc=V.ya?b.Fa:b.Fa-e.rz;a=oa.Bf();d=Fa.pa(ua.alphaRange[1],ua.alphaRange[0],Math.pow((1-ob.Nc(ua.translationFactorRange[0],ua.translationFactorRange[1],Math.sqrt(d.dx*d.dx+d.dy*d.dy+d.pc*d.pc)/a))*(1-
ob.Nc(ua.rotationFactorRange[0],ua.rotationFactorRange[1],Math.sqrt(d.mc*d.mc+d.nc*d.nc+d.oc*d.oc)/a))*ob.Nc(ua.qualityFactorRange[0],ua.qualityFactorRange[1],b.Wa),qa.Se));ma.mode===ma.Lb.Wb&&(ma.xa.ub=Math.cos(Math.sqrt(Math.abs(e.ry))),ma.xa.tc=ma.Bd*Math.sin(e.ry));e.x=Fa.pa(e.x,b.x,d);e.y=Fa.pa(e.y,b.y,d);e.s=Fa.pa(e.s,b.S,d);e.rx=Fa.pa(e.rx,b.rx,d);e.ry=Fa.pa(e.ry,b.ry,d);var u=1,p=0;V.ya?(u=Math.cos(e.rz),p=Math.sin(e.rz),e.rz+=ua.followZRotAlphaFactor*d*b.Fa):e.rz=Fa.pa(e.rz,b.Fa,d);e.landmarks.forEach(function(k,
n){var w=la.wd[n],y=b.Kc[n];n=b.cg[n];var x=w[0]+y[0]/la.rc;w=w[1]+y[1]/la.rc;ma.mode===ma.Lb.Wb&&(x=x*ma.xa.ub+ma.xa.tc*b.S);V.ya&&(y=w*u+x*p,x=x*u-w*p,w=y);n[0]=b.x+x*b.S;n[1]=b.y+w*b.S*T.fc;k[0]=n[0];k[1]=n[1]});++b.Ca}else V.ya&&(e.rz=0),ma.mode===ma.Lb.Wb&&(ma.xa.ub=1,ma.xa.tc=0),b.Ca=Math.floor(b.Ca/2)}function Bb(){da===ba.play&&(ea.isCleanGLStateAtEachIteration&&(z.Fd(),R.reset(),R.Ga(),c.disable(c.DEPTH_TEST),z.La()),V.Dc?oa.$c(Db,Cb,Eb,db,Fb,ea.animateProcessOrder):(Gb(),db(),Fb()))}function Db(){Ba.ga();
B.eb||Gb();var a=oa.Kf();fa.update(a,ta);for(var b=0;b<a;++b){fa.Zb(b);z.set("s64");ma.mode===ma.Lb.Wb&&z.J("u51",ma.xa.ub);var d=fa.za(),e=fa.Qd(),l=ta[e];V.ya&&z.J("u50",l.rz);fa.Le("u49");l=Hb.tf(T.o,l,pb);T.Za.N(l,pb);B.D.h(1);Q.da.h(0);R.l(!1,!1);Q.kb.v();z.set("s3");c.viewport(0,e,Aa,1);z.T("u10",1,1/d);z.T("u11",0,e/d);R.l(!1,!1);Ga.W(T.Za)}}function db(){Ba.Lg();Z.reset();ea.isCleanGLStateAtEachIteration&&(Ba.reset(),c.enable(c.DEPTH_TEST));V.hc&&V.hc(fa.he()?ta:ta[0]);ea.isCleanGLStateAtEachIteration&&
(R.reset(),R.Ga(),c.disable(c.BLEND))}function Eb(){for(var a=0;a<fa.za();++a)fa.ag(a)&&Xb(a)}function Fb(){da===ba.play&&Na.$c(Bb)}function Gb(){if(B.Gb)B.element.needsUpdate&&(B.D.Ce(B.element.videoWidth,B.element.videoHeight),B.D.Na(B.element.arrayBuffer),B.element.needsUpdate=!1);else{var a=B.element.currentTime,b=a-B.Sb;0>b&&(B.Sb=a);1E3*b<qa.Og||(B.Sb+=b,B.D.refresh())}}function Yb(){function a(l,q){z.K(l,[{name:"u40",type:"1f",value:q/Aa}])}function b(){return la.labels.map(function(){return[0,
0]})}var d=fa.za();Aa=3+la.Tc;var e=new Float32Array(4*Aa);e={width:Aa,height:d,isFloat:!0,isPot:!1,array:fa.pf(e)};Q.da&&Q.da.remove();Q.da=Zb.instance(e);Q.kb=Z.instance(e);Q.buffer=new Uint8Array(8*Aa*d);Q.fd=e.array;a("s63",.5);a("s62",1);a("s64",.5);Qa=fa.qc({Wa:0,x:0,y:0,S:1,rx:0,ry:0,Fa:0,Kc:b(),cg:b(),Ca:0,Gc:0,Hc:0,Jc:0,Ic:0});ta=fa.qc({detected:0,detectedRaw:0,isDetected:!1,x:0,y:0,s:1,rx:0,ry:0,rz:0,landmarks:b(),lAmb:0,lDir:0,lTheta:0,lPhi:0});nb=fa.qc({dx:0,dy:0,pc:0,mc:0,nc:0,oc:0})}
function $b(){var a=["u41","u42","u43","u44","u45"].map(function(b,d){var e=d+2*la.Nb+8;d=Math.floor(e/Q.size);e-=d*Q.size;d=Q.size-1-d;return{name:b,type:"2f",value:[(e+.5)/Q.size,(d+.5)/Q.size]}});z.K("s65",a)}function qb(){z.K("s64",[{type:"1i",name:"u1",value:1},{type:"1i",name:"u47",value:0},{type:"2f",name:"u48",value:T.H},{type:"1f",name:"u49",value:.5},{type:"1f",name:"u50",value:0},{type:"1f",name:"u51",value:1}]);var a=[{type:"1i",name:"u52",value:0},{type:"1f",name:"u58",value:Q.size}];
z.K("s63",[{type:"1i",name:"u47",value:1},{type:"1f",name:"u55",value:qa.Jg},{type:"1f",name:"u56",value:ea.threshold},{type:"3f",name:"u54",value:[Q.X[0]*T.H[0],Q.X[1]*T.H[1],Q.X[2]]},{type:"1f",name:"u49",value:.5},{type:"1f",name:"u57",value:1},{type:"1f",name:"u50",value:0}].concat(a));z.K("s67",[{type:"1f",name:"u57",value:1}].concat(a));z.K("s68",a);z.K("s65",[{type:"1i",name:"u52",value:0}]);z.K("s62",[{type:"1i",name:"u47",value:0},{type:"1i",name:"u60",value:1},{type:"1f",name:"u62",value:T.H[0]/
ea.maxFaceWinScale},{type:"2f",name:"u61",value:[0,.5/fa.za()]}])}function rb(){pb=Ga.If();Q.size=Ga.Mf();T.H[0]=1;T.H[1]=T.o/T.F;Ra.B({Qb:ea.overlapFactors,pe:ea.nScaleLevels,o:T.o,F:T.F,ye:ea.scale0Factor,X:Q.X,ad:ea.scanCenterFirst})}function Ib(a){if(null!==V.lb)Jb(V.lb,a);else{var b=V.dc;"JSON"!==b.toUpperCase().split(".").pop()&&(b+=qa.neuralNetworkPath);eb.get(b,function(d){d=JSON.parse(d);Jb(d,a)})}}function Jb(a,b){if(a.exportData){var d=a.exportData;d.rotationEulerAnglesFactors&&(Q.qa=d.rotationEulerAnglesFactors);
d.translationScalingFactors&&(Q.X=d.translationScalingFactors);Q.ab=d.isOutputLighting?!0:!1;d.landmarksLabels&&(la.labels=d.landmarksLabels,la.Nb=la.labels.length,la.Tc=Math.ceil(la.Nb/2));la.wd=d.landmarksCenters?d.landmarksCenters:la.labels.map(function(){return[0,0]});d.landmarksFactor&&(la.rc=d.landmarksFactor);d.facegenMode&&(ma.mode=d.facegenMode,d.facegenDisplaceXFactor&&(ma.Bd=d.facegenDisplaceXFactor))}b(a)}function Kb(a){Ga=new Tb({fb:a.layers,Pb:"gpuRawAvg",Ob:ac});Yb();rb();Q.ab&&$b();
qb()}function bc(){if(za.B({rb:V.Y,width:T.o,height:T.F,Zd:!1,debug:!1,Uc:function(){Oa("GLCONTEXT_LOST")},antialias:ea.antialias,premultipliedAlpha:!0}))return!0;Oa("GL_INCOMPATIBLE");return!1}function ac(){var a=fa.Qd(),b=ta[a];Q.da.rg(1);c.viewport(0,a,1,1);z.set("s63");V.ya&&z.J("u50",b.rz);fa.Le("u49");var d=1,e=fa.Eg(Qa,ta,T.o/T.F);fa.he()&&(e&&(d=0,Qa[a].Ca=0,b.isDetected=!1,b.detected=0),z.J("u57",d));z.yg("u53",Ra.get(a));R.l(!1,!1);if(fa.Fc()||e)c.viewport(1,a,1,1),z.set("s67"),z.J("u57",
d),R.l(!1,!1);fa.Fc()&&Q.ab&&(c.viewport(2,a,1,1),z.set("s65"),R.l(!1,!1));fa.Fc()&&(c.viewport(3,a,la.Tc,1),z.set("s68"),R.l(!1,!1));Q.da.sync()}function Lb(){B.D&&B.D.remove();B.Gb=B.element&&B.element.isFakeVideo?!0:!1;var a=null;B.Gb?a={isFlipY:!1,array:B.element.arrayBuffer,width:B.element.videoWidth,height:B.element.videoHeight,isKeepArray:!0}:B.element&&(a={L:B.element});B.gd=Z.instance(Object.assign({isPot:!1,isLinear:!0,isFloat:!1},a));B.D=B.gd}function Sa(){var a=[{type:"mat2",name:"u46",
value:B.A}];z.K("s66",[{type:"1i",name:"u1",value:0}].concat(a));z.K("s64",a)}function Ta(){var a=[.5,.5],b=B.H[1]/B.H[0],d=za.Z()/za.I();90===Math.abs(wa.rotate)&&(b=1/b);b>d?a[1]*=d/b:a[0]*=b/d;z.K("s63",[{name:"u59",type:"1f",value:d}]);B.A[0]=0;B.A[1]=0;B.A[2]=0;B.A[3]=0;switch(wa.rotate){case 0:B.A[0]=a[0];B.A[3]=a[1];break;case 180:B.A[0]=-a[0];B.A[3]=-a[1];break;case 90:B.A[1]=a[0];B.A[2]=-a[1];break;case -90:B.A[1]=-a[0],B.A[2]=a[1]}B.ea[0]=B.A[0];B.ea[1]=B.A[1];B.ea[2]=B.A[2];B.ea[3]=B.A[3];
B.eb||(B.A[1]*=-1,B.A[3]*=-1);B.eb&&B.ae&&(B.ea[1]*=-1,B.ea[3]*=-1)}function sb(){var a=B.element.videoWidth,b=B.element.videoHeight,d=B.H[0]!==a||B.H[1]!==b;d&&(B.H[0]=a,B.H[1]=b);return d}function fb(a,b){if(da===ba.error)return!1;B.element=a;sb();b&&b();return!0}function Mb(a,b,d){a&&a();B.Ta={video:{facingMode:{ideal:wa.facingMode},width:{min:wa.minWidth,max:wa.maxWidth,ideal:wa.idealWidth},height:{min:wa.minHeight,max:wa.maxHeight,ideal:wa.idealHeight}},audio:!1};Y.sd(B.Ta,wa.deviceId);Y.get(B.element?
B.element:Y.Ud(),function(e){b&&b(e);d(e)},function(){Oa("WEBCAM_UNAVAILABLE")},B.Ta)}function Oa(a){da!==ba.error&&(da=ba.error,V.Sa&&V.Sa(a))}var tb=null,Fa={Ph:function(a){return Math.ceil(Math.log2(a))},ji:function(a){return Math.log2(a)},gi:function(a){return 0===Math.log2(a)%1},Zg:function(a){var b=[0,0,0,0];a.forEach(function(d){b[0]+=d[0];b[1]+=d[1];b[2]+=d[2];b[3]+=d[3]});return b},$g:function(a,b,d){return Math.min(Math.max(a,b),d)},dh:function(a){return a*Math.PI/180},ti:function(a,b){b=
Math.pow(10,b);return Math.round(a*b)/b},ui:function(a){return Math.round(1E6*a)/1E6},Qh:function(a,b){return(100*a/b).toFixed(3)},pa:function(a,b,d){return a*(1-d)+b*d},ki:function(a,b){return a[0]*(1-b)+a[1]*b},mf:function(a,b){return Fa.df(a-b)},df:function(a){for(;a>Math.PI;)a-=2*Math.PI;for(;a<=-Math.PI;)a+=2*Math.PI;return a},ih:function(a,b){return Math.abs(Fa.mf(a,b))},Pg:function(a,b){return Math.atan2(Math.sin(a)+Math.sin(b),Math.cos(a)+Math.cos(b))}},eb={get:function(a,b,d){var e=new XMLHttpRequest;
e.open("GET",a,!0);e.withCredentials=!1;e.onreadystatechange=function(){4===e.readyState&&(200===e.status||0===e.status?b(e.responseText):"undefined"!==typeof d&&d(e.status))};e.send()},Nf:function(a){return new Promise(function(b,d){eb.get(a,b,d)})},Mh:function(a,b,d){a+=d?"?"+eb.sf(d):"";eb.get(a,function(e){b(JSON.parse(e))})},ni:function(a,b,d){var e=new XMLHttpRequest;e.open("POST",a,!0);e.setRequestHeader("Content-type","application/x-www-form-urlencoded");e.onreadystatechange=function(){4!==
e.readyState||200!==e.status&&0!==e.status||d(e.responseText)};e.send(b)},sf:function(a){return"string"===typeof a?a:Object.keys(a).map(function(b){return encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")},Bh:function(a,b){var d=new XMLHttpRequest;d.open("POST",a,!0);d.responseType="arraybuffer";d.onload=function(){b(d.response)};d.send()}},cc={create:function(a,b){for(var d=Array(b),e=0;e<b;++e)d[e]=a;return d},eh:function(a,b){for(var d=0;d<a.length;++d)b[d]=a[d]},clone:function(a){for(var b=
Array(a.length),d=0;d<a.length;++d)b[d]=a[d];return b},xi:function(a,b,d){a.forEach(function(e,l){b[l]=e*d})},Ei:function(a){for(var b=a.length-1;0<b;--b){var d=Math.floor(Math.random()*(b+1)),e=a[b];a[b]=a[d];a[d]=e}},Gi:function(a){return a.sort(function(b,d){return b-d})},Ig:function(a){return Array.isArray(a)||a.constructor===Float32Array||a.constructor===Uint8Array}},ub={kc:function(a,b){if(0===b||"object"!==typeof a)return a;a=Object.assign({},a);b=void 0===b||-1===b?-1:b-1;for(var d in a)a[d]=
ub.kc(a[d],b);return a},hh:function(a){return JSON.parse(JSON.stringify(a))}},ob={Fi:function(a,b,d){a=Math.min(Math.max((d-a)/(b-a),0),1);return a*a*(3-2*a)},Nc:function(a,b,d){return Math.min(Math.max((d-a)/(b-a),0),1)},th:function(a,b,d,e){return Math.pow(Math.min(Math.max((e-a)/(b-a),0),1),d)},Ki:function(){return 0},mi:function(){return 1},ii:function(a){return a},qh:function(a){return a*a},vh:function(a){return a*(2-a)},nh:function(a){return.5>a?2*a*a:-1+(4-2*a)*a},lh:function(a){return a*a*
a},uh:function(a){return--a*a*a+1},mh:function(a){return.5>a?4*a*a*a:(a-1)*(2*a-2)*(2*a-2)+1},rh:function(a){return a*a*a*a},wh:function(a){return 1- --a*a*a*a},oh:function(a){return.5>a?8*a*a*a*a:1-8*--a*a*a*a},sh:function(a){return a*a*a*a*a},xh:function(a){return 1+--a*a*a*a*a},ph:function(a){return.5>a?16*a*a*a*a*a:1+16*--a*a*a*a*a}},dc={xf:function(a,b,d){switch(a){case "relu":return d+"=max(vec4(0.),"+b+");";case "elu":return d+"=mix(exp(-abs("+b+"))-vec4(1.),"+b+",step(0.,"+b+"));";case "elu01":return d+
"=mix(0.1*exp(-abs("+b+"))-vec4(0.1),"+b+",step(0.,"+b+"));";case "arctan":return d+"=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}},z=function(){function a(f,m,I){m=f.createShader(m);f.shaderSource(m,I);f.compileShader(m);return f.getShaderParameter(m,f.COMPILE_STATUS)?m:null}function b(f,m,I){m=a(f,f.VERTEX_SHADER,m);I=a(f,f.FRAGMENT_SHADER,I);f===c&&p.push(m,I);var M=f.createProgram();f.attachShader(M,m);f.attachShader(M,I);f.linkProgram(M);return M}
function d(f){return["float","sampler2D","int"].map(function(m){return"precision "+f+" "+m+";\n"}).join("")}function e(f,m){m.u=m.u?!0:!1;if(!m.u){m.sa=m.sa||"precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5);}";m.qb=m.qb||["a0"];m.Qa=m.Qa||[2];m.precision=m.precision||x;m.id=w++;void 0!==m.Ae&&(m.Ae.forEach(function(P,ha){m.g=m.g.replace(P,m.Ub[ha])}),m.Ae.splice(0));m.od=0;m.Qa.forEach(function(P){m.od+=4*P});var I=d(m.precision);m.Ea=
b(f,I+m.sa,I+m.g);m.C={};m.i.forEach(function(P){m.C[P]=f.getUniformLocation(m.Ea,P)});m.attributes={};m.Ra=[];m.qb.forEach(function(P){var ha=f.getAttribLocation(m.Ea,P);m.attributes[P]=ha;m.Ra.push(ha)});if(m.j){f.useProgram(m.Ea);n=m;k=m.id;for(var M in m.j)f.uniform1i(m.C[M],m.j[M])}m.Ba=!0}}function l(f){Ca.vg(N);k!==f.id&&(N.P(),k=f.id,n=f,c.useProgram(f.Ea),f.Ra.forEach(function(m){0!==m&&c.enableVertexAttribArray(m)}))}function q(f,m,I){e(f,m,I);f.useProgram(m.Ea);f.enableVertexAttribArray(m.attributes.a0);
k=-1;return n=m}function u(){return{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:["u1"],j:{u1:0}}}var p=[],k=-1,n=null,w=0,y=!1,x="highp",r=["u1"],G=["u0"],E={u1:0},g={u0:0},F={u1:0,u2:1},K={u1:0,u3:1},C=["u1","u3","u4"],A={u5:0},h=["u6","u7","u8","u9"],t={u6:0,u7:1},J={s0:u(),s1:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",i:r,j:E,precision:"lowp"},s2:{g:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",
i:["u1","u2"],j:F},s3:{g:"uniform sampler2D u1;uniform vec2 u10,u11;varying vec2 vv0;void main(){vec2 a=vv0*u10+u11;gl_FragColor=texture2D(u1,a);}",i:["u1","u10","u11"],j:E,u:!0},s4:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",i:r,j:E},s5:{g:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",i:["u1","u2"],j:F},
s6:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",i:r,j:E},s7:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",i:r,j:E},s8:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u10;}",i:["u0","u10"],j:g},s9:{g:"uniform sampler2D u0;uniform float u10;varying vec2 vv0;const vec4 f=vec4(.25),g=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u10,f);gl_FragColor=b*g;}",
i:["u0","u10"],j:g},s10:{g:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",i:r,j:E},s11:{g:"uniform sampler2D u1,u12;uniform float u13;const vec4 f=vec4(1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u12,vv0);gl_FragColor=mix(b,a,u13*f);}",i:["u1","u12","u13"],j:{u1:0,u12:1}},s12:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u14)+texture2D(u1,vv0+u14*vec2(1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,-1.))+texture2D(u1,vv0+u14*vec2(-1.,1.)));}",
i:["u1","u14"],j:E},s13:{g:"uniform sampler2D u1;varying vec2 vv0;vec4 f(vec3 d){vec3 b=d/65536.,a=clamp(ceil(log2(b)),-128.,127.);float c=max(max(a.r,a.g),a.b),g=exp2(c);vec3 h=clamp(b/g,0.,1.);return vec4(h,(c+128.)/256.);}void main(){vec3 a=texture2D(u1,vv0).rgb;gl_FragColor=f(a);}",i:r,j:E,u:!0},s14:{g:"uniform sampler2D u1;varying vec2 vv0;vec3 f(vec4 a){float b=a.a*256.-128.;vec3 c=a.rgb;return exp2(b)*c*65536.;}void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=vec4(f(a),1.);}",i:r,j:E,u:!0},
s15:{g:"uniform sampler2D u1;uniform vec4 u15;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u15);gl_FragColor=j(a);}",
i:["u1","u15"],j:E},s16:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",i:G,j:g,u:!0},s17:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",i:G,j:g,u:!0},s18:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.);const float g=.797885,h=.044715;vec4 i(vec4 a){vec4 b=exp(-abs(a)),c=b*b,d=sign(a)*(e-c)/(e+c);return d;}void main(){vec4 a=texture2D(u0,vv0),b=a+h*a*a*a,c=i(g*b);gl_FragColor=.5*a*(e+c);}",
i:G,j:g,u:!0},s19:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",i:G,j:g,u:!0},s20:{g:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(a)-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",i:G,j:g},s21:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",i:G,j:g},s22:{g:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=2.*atan(e*texture2D(u0,vv0))/e;}",
i:G,j:g,u:!0},s23:{g:"uniform sampler2D u0,u16;uniform float u17;const vec2 e=vec2(.5);const float f=1e-5;const vec4 g=vec4(1.),i=vec4(0.);varying vec2 vv0;void main(){vec4 a=texture2D(u16,e);float b=u17*u17;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",i:["u0","u16","u17"],j:{u0:0,u16:1},u:!0},s24:{g:"uniform sampler2D u1;uniform vec2 u18;varying vec2 vv0;void main(){float a=u18.x*u18.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u18.y),f=floor(u18.x*fract(b*u18.y)),g=(f*u18.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
i:["u1","u18"],j:E},s25:{g:"uniform sampler2D u7,u6,u19;varying vec2 vv0;void main(){vec4 a=texture2D(u19,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u7,b),f=texture2D(u6,c);gl_FragColor=d*f;}",i:["u7","u6","u19"],j:Object.assign({u19:2},t),u:!0},s26:{g:"uniform float u8,u9;uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec2 b=fract(vv0*u8);float a=u8*u9;vec2 c=(vec2(.5)+floor(a*vv0))/a;vec4 d=texture2D(u7,c),f=texture2D(u6,b);gl_FragColor=d*f;}",i:h,j:t},s27:{g:"uniform float u8,u9;uniform vec2 u20;uniform sampler2D u7,u6;varying vec2 vv0;void main(){float a=u8*u9;vec2 b=mod(vv0*u20,vec2(1.)),c=floor(vv0*u20)/u20,d=c+fract(b*u8)/u20,f=(vec2(.5)+floor(a*b))/a;vec4 g=texture2D(u7,f),h=texture2D(u6,d);gl_FragColor=g*h;}",
i:["u20"].concat(h),j:t,u:!0},s28:{g:"uniform float u8,u9;uniform sampler2D u7,u6,u22,u23,u24,u25;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 c=fract(vv0*u8),d=vv0;float h=u8*u9;d=(.5+floor(h*vv0))/h;vec4 l=texture2D(u7,d),m=texture2D(u6,c),a=texture2D(u25,d);a=floor(.5+a*255.);vec4 n=texture2D(u22,c),o=texture2D(u23,c),p=texture2D(u24,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b,r=i*m+j*n+k*o+q*p;gl_FragColor=l*r;}",
i:["u25","u22","u23","u24"].concat(h),j:Object.assign({u25:3,u22:4,u23:5,u24:6},t),u:!0},s29:{g:"uniform sampler2D u7,u6,u3;uniform float u8,u26,u27,u9;uniform vec2 u28;varying vec2 vv0;const vec2 f=vec2(1.),l=vec2(0.);void main(){vec2 c=floor(u26*vv0),d=u26*vv0-c;float g=u8/u26;vec2 h=floor(d*g),i=d*g-h,j=(c+i)/u26;float m=u26*u9/u8;vec2 b=m*h;b=floor(u28*b+.5*(u9-1.)*(f-u28));vec2 a=(b+i*u27)/u9;a+=.25/u9;vec2 k=step(a,f)*step(l,a);vec4 n=texture2D(u7,j),o=texture2D(u6,a),p=n*o,q=texture2D(u3,j);gl_FragColor=(p*u27*u27+q)*k.x*k.y;}",
i:["u26","u27","u3","u28"].concat(h),j:Object.assign({u3:2},t)},s30:{g:"uniform sampler2D u7,u6;varying vec2 vv0;void main(){vec4 a=texture2D(u7,vv0),b=texture2D(u6,vv0);gl_FragColor=a*b;}",i:["u7","u6"],j:t,u:!0},s31:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0)+u4*texture2D(u1,vv0);}",i:C,j:K},s32:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;void main(){gl_FragColor=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);}",
i:["u20"].concat(C),j:K,u:!0},s33:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",i:C,j:K,u:!0},s34:{g:"uniform sampler2D u1,u3;uniform vec2 u20;uniform float u4;varying vec2 vv0;const vec4 e=vec4(1.);void main(){vec4 a=texture2D(u3,vv0*u20)+u4*texture2D(u1,vv0);vec2 h=mod(gl_FragCoord.xy,vec2(2.)),d=step(h,vec2(.75));float b=d.x+2.*d.y,c=step(2.5,b),g=(1.-c)*step(1.5,b),i=(1.-c)*(1.-g)*step(.5,b);a=mix(a,a.argb,i*e),a=mix(a,a.barg,g*e),a=mix(a,a.gbar,c*e),gl_FragColor=a;}",
i:["u20"].concat(C),j:K,u:!0},s35:{g:"uniform sampler2D u1,u3;uniform float u4;varying vec2 vv0;const vec4 h=vec4(1.);void main(){vec4 a=texture2D(u3,vv0)+u4*texture2D(u1,vv0);vec2 b=floor(gl_FragCoord.xy);vec3 d=b.x*vec3(1.)+vec3(0.,1.,2.);float c=mod(b.y,2.);vec4 f=vec4(c,(1.-c)*step(mod(d,vec3(3.)),vec3(.5)));mat4 g=mat4(a.rgba,a.gbar,a.barg,a.argb);gl_FragColor=g*f;}",i:C,j:K,u:!0},s36:{g:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
i:r,j:E,precision:"lowp"},s37:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",i:["u1","u29"],j:E,precision:"lowp"},s38:{g:"varying vec2 vv0;uniform sampler2D u1;uniform float u29;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u29)).rgb,c=texture2D(u1,vv0+vec2(u29,u29)).rgb,d=texture2D(u1,vv0+vec2(u29,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
i:["u1","u29"],j:E,precision:"lowp"},s39:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u30,vv0.y-u30))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u30))*2.,b-=texture2D(u1,vec2(vv0.x+u30,vv0.y-u30))*1.,b+=texture2D(u1,vec2(vv0.x-u30,vv0.y+u30))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u30))*2.,b+=texture2D(u1,vec2(vv0.x+u30,vv0.y+u30))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
i:["u1","u2","u30"],j:F,u:!0},s40:{g:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u30;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u30,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",i:["u1","u2","u30"],j:F,u:!0},s41:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u14*g;vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*h),d=texture2D(u5,a+u14*i),j=texture2D(u5,a+u14),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
i:["u5","u14"],j:A},s42:{g:"uniform sampler2D u5;uniform vec2 u14;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u5,a),c=texture2D(u5,a+u14*k),d=texture2D(u5,a+u14*l),g=texture2D(u5,a+u14),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u14*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u14*m),d=f(a+u14*2.),g=f(a+u14*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",i:["u5","u14"],
j:A,u:!0},s43:{g:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",i:["u1"],j:E,precision:"lowp",u:!0},s44:{g:"uniform sampler2D u1;uniform vec2 u14;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u14)+2002./e*texture2D(u1,vv0-2.*u14)+3003./e*texture2D(u1,vv0-u14)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u14)+2002./e*texture2D(u1,vv0+2.*u14)+1001./e*texture2D(u1,vv0+3.*u14);gl_FragColor=a;}",i:["u14","u1"],
j:E,precision:"lowp",u:!0},s45:{g:"uniform sampler2D u1,u16,u31;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u16,vv0),b=texture2D(u31,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",i:["u1","u16","u31"],j:{u1:0,u16:1,u31:2},u:!0}},L={s46:{g:"uniform float u8,u32;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u3,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u8,xyTo=floor(vv0*u8+eps2);float weightSize=toSparsity*u8;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u32*(xyPatch-halfFromSparsity))/u8,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:["u8","u7","u6","u3","u32"],Ub:["1.1111","gl_FragColor\\*=2.2222;"]},s47:{g:"uniform float u8,u32,u9;uniform sampler2D u7,u6,u3;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u3,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u9,xyTo=floor(vv0*u8+eps2);float weightSize=fromSparsity*u9;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u8;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u32*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u9,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u7,uvWeight)*texture2D(u6,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
i:"u8 u9 u7 u6 u3 u32".split(" "),Ub:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},v=null,O=null,N={Hb:function(){return y},B:function(){if(!y){v=ub.kc(J,2);O=ub.kc(L,2);x="highp";c.getShaderPrecisionFormat&&(c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.MEDIUM_FLOAT),c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.LOW_FLOAT));for(var f in v)e(c,v[f],f);z.set("s0");c.enableVertexAttribArray(0);y=!0}},mb:function(f){f.forEach(function(m){N.td(m)})},td:function(f){v[f.id]=f;e(c,f,f.id)},Qf:function(f,
m,I){m||(m=f);v[m]=Object.create(O[f]);v[m].Vf=!0;O[f].Ub&&O[f].Ub.forEach(function(M,P){v[m].g=v[m].g.replace(new RegExp(M,"g"),I[P])});e(c,v[m],m)},set:function(f){var m=v[f];m.u&&(m.u=!1,e(c,m,f));l(m)},ib:function(f){return q(f,u(),"s48")},dd:function(f){return q(f,{g:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",i:[],precision:x},"s49")},uf:function(f){return"undefined"===typeof v[f]?!1:v[f].Ba},P:function(){-1!==k&&(k=-1,n.Ra.forEach(function(f){0!==f&&c.disableVertexAttribArray(f)}))},ed:function(){var f=
0;n.Ra.forEach(function(m,I){I=n.Qa[I];c.vertexAttribPointer(m,I,c.FLOAT,!1,n.od,f);f+=4*I})},Fd:function(){c.enableVertexAttribArray(0)},La:function(){N.Vb(c)},Vb:function(f){f.vertexAttribPointer(n.Ra[0],2,f.FLOAT,!1,8,0)},Ai:function(f,m){c.uniform1i(n.C[f],m)},J:function(f,m){c.uniform1f(n.C[f],m)},T:function(f,m,I){c.uniform2f(n.C[f],m,I)},xg:function(f,m){c.uniform2fv(n.C[f],m)},yg:function(f,m){c.uniform3fv(n.C[f],m)},Bi:function(f,m,I,M){c.uniform3f(n.C[f],m,I,M)},zg:function(f,m,I,M,P){c.uniform4f(n.C[f],
m,I,M,P)},Fe:function(f,m){c.uniform4fv(n.C[f],m)},Ge:function(f,m){c.uniformMatrix2fv(n.C[f],!1,m)},Ci:function(f,m){c.uniformMatrix3fv(n.C[f],!1,m)},Di:function(f,m){c.uniformMatrix4fv(n.C[f],!1,m)},K:function(f,m){N.set(f);m.forEach(function(I){switch(I.type){case "4f":c.uniform4fv(n.C[I.name],I.value);break;case "3f":c.uniform3fv(n.C[I.name],I.value);break;case "2f":c.uniform2fv(n.C[I.name],I.value);break;case "1f":c.uniform1f(n.C[I.name],I.value);break;case "1i":c.uniform1i(n.C[I.name],I.value);
break;case "mat2":c.uniformMatrix2fv(n.C[I.name],!1,I.value);break;case "mat3":c.uniformMatrix3fv(n.C[I.name],!1,I.value);break;case "mat4":c.uniformMatrix4fv(n.C[I.name],!1,I.value)}})},Oh:function(){return"lowp"},m:function(){N.P();c.disableVertexAttribArray(0);for(var f in v){var m=v[f];m.Ba&&(m.Ba=!1,c.deleteProgram(m.Ea));m.Vf&&delete v[f]}p.forEach(function(I){c.deleteShader(I)});p.splice(0);w=0;y=!1;n=null;k=-1}};return N}(),c=null,za=function(){function a(r){console.log("ERROR in ContextFF: ",
r);return!1}function b(){return navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1")}function d(r,G,E){r.setAttribute("width",G);r.setAttribute("height",E)}function e(r){if(b())return!1;var G=document.createElement("canvas");d(G,5,5);var E=null;try{E=G.getContext("webgl2",r)}catch(g){return!1}if(!E)return!1;l(E);aa.Gd(E);r=aa.lc(E);if(!r.ka&&!r.ma)return Ha.m(),aa.reset(),!1;E=Ha.ud(E,r);Ha.m();aa.reset();return E?!0:!1}function l(r){r.clearColor(0,0,0,0);r.disable(r.DEPTH_TEST);r.disable(r.BLEND);
r.disable(r.DITHER);r.disable(r.STENCIL_TEST);r.disable(r.CULL_FACE);r.GENERATE_MIPMAP_HINT&&r.FASTEST&&r.hint(r.GENERATE_MIPMAP_HINT,r.FASTEST);r.disable(r.SAMPLE_ALPHA_TO_COVERAGE);r.disable(r.SAMPLE_COVERAGE);r.depthFunc(r.LEQUAL);r.clearDepth(1)}var q=null,u=null,p=null,k=!0,n=null,w=null,y=[],x={I:function(){return q.width},Z:function(){return q.height},Gh:function(){return q},Eh:function(){return c},na:function(){return k},flush:function(){c.flush()},Ac:function(){Ba.ga();x.xe()},xe:function(){Z.reset();
R.reset();z.P();z.Fd();c.disable(c.DEPTH_TEST);c.disable(c.BLEND);R.Ga();z.La()},Af:function(){n||(n=new Uint8Array(q.width*q.height*4));c.readPixels(0,0,q.width,q.height,c.RGBA,c.UNSIGNED_BYTE,n);return n},Hh:function(){return q.toDataURL("image/jpeg")},Ih:function(){Ba.O();u||(u=document.createElement("canvas"),p=u.getContext("2d"));d(u,q.width,q.height);for(var r=x.Af(),G=p.createImageData(u.width,u.height),E=u.width,g=u.height,F=G.data,K=0;K<g;++K)for(var C=g-K-1,A=0;A<E;++A){var h=4*(K*E+A),
t=4*(C*E+A);F[h]=r[t];F[h+1]=r[t+1];F[h+2]=r[t+2];F[h+3]=r[t+3]}p.putImageData(G,0,0);return u.toDataURL("image/png")},zf:function(r){!u&&r&&(u=document.createElement("canvas"),p=u.getContext("2d"));var G=r?u:document.createElement("canvas");d(G,q.width,q.height);(r?p:G.getContext("2d")).drawImage(q,0,0);return G},B:function(r){r=Object.assign({la:null,Uc:null,rb:null,Ad:null,width:512,height:512,premultipliedAlpha:!1,Zd:!0,antialias:!1,debug:!1,gh:!1},r);r.la?(c=r.la,q=r.la.canvas):r.Ad&&!r.rb?q=
document.getElementById(r.Ad):r.rb&&(q=r.rb);q||(q=document.createElement("canvas"));q.width=r.width;q.height=r.height;if(c)k=c instanceof WebGL2RenderingContext;else{k=!0;var G={antialias:r.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:r.premultipliedAlpha,stencil:!1,depth:r.Zd,failIfMajorPerformanceCaveat:!0,powerPreference:"high-performance"};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&(G.antialias=!1);var E=e(G);E||!G.antialias||b()||(G.antialias=
!1,E=e(G));E&&(c=q.getContext("webgl2",G));c?k=!0:((c=q.getContext("webgl",G))||(c=q.getContext("experimental-webgl",G)),k=!1)}if(!c)return a("WebGL1 and 2 are not enabled");r.Uc&&q.addEventListener&&(w=r.Uc,q.addEventListener("webglcontextlost",w,!1));if(!aa.B())return a("Not enough GL capabilities");l(c);z.B();R.B();Ha.ud(c,aa.yf());y.forEach(function(g){g(c)});y.splice(0);return!0},Ug:function(){return new Promise(function(r){c?r(c):y.push(r)})},m:function(){c&&(aa.m(),z.m(),Ha.m());w&&(q.removeEventListener("webglcontextlost",
w,!1),w=null);c=n=p=u=q=null;y.splice(0)}};return x}(),Ca=function(){function a(){null===b&&("undefined"!==typeof z?b=z:"undefined"!==typeof JEShaders&&(b=JEShaders))}var b=null;return{reset:function(){b=null},vg:function(d){b!==d&&(b&&b.P(),b=d)},Hb:function(){return b.Hb()},La:function(){return b.La()},Vb:function(d){return b.Vb(d)},ed:function(){return b.ed()},P:function(){return b.P()},set:function(d){a();return b.set(d)},ib:function(d){a();return b.ib(d)},dd:function(d){a();return b.dd(d)}}}(),
Ea=function(){function a(f){c.bindTexture(c.TEXTURE_2D,f)}function b(f){L[0]=f;f=v[0];var m=f>>16&32768,I=f>>12&2047,M=f>>23&255;return 103>M?m:142<M?m|31744|((255==M?0:1)&&f&8388607):113>M?(I|=2048,m|(I>>114-M)+(I>>113-M&1)):m=(m|M-112<<10|I>>1)+(I&1)}function d(f){var m=new Uint16Array(f.length);f.forEach(function(I,M){m[M]=b(I)});return m}function e(){if(null!==O.yc)return O.yc;var f=q(d([.5,.5,.5,.5]),!0);return null===f?!0:O.yc=f}function l(){if(null!==O.zc)return O.zc;var f=q(new Uint8Array([127,
127,127,127]),!1);return null===f?!0:O.zc=f}function q(f,m){if(!Ca.Hb()||!E)return null;var I=null,M=Math.sqrt(f.length/4);try{var P=c.getError();if("FUCKING_BIG_ERROR"===P)return!1;I=N.instance({isFloat:!1,V:m,array:f,width:M});P=c.getError();if(P!==c.NO_ERROR)return!1}catch(ha){return!1}ra.O();c.viewport(0,0,M,M);c.clearColor(0,0,0,0);c.clear(c.COLOR_BUFFER_BIT);Ca.set("s0");I.wa(0);pa.l(!0,!0);f=4*M*M;m=new Uint8Array(f);c.readPixels(0,0,M,M,c.RGBA,c.UNSIGNED_BYTE,m);M=!0;for(P=0;P<f;++P)M=M&&
3>Math.abs(m[P]-127);I.remove();ra.ga();return M}var u=0,p=null,k=0,n=null,w=null,y=null,x=null,r=null,G=null,E=!1,g=[],F={isFloat:!1,isPot:!0,isLinear:!1,isMipmap:!1,ee:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,L:null,xc:null,Uf:!1,V:!1,G:null,Mb:4,Oc:0},K=!1,C=null,A=null,h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],t=!1,J=!1,L=new Float32Array(1),v=new Int32Array(L.buffer),O={yc:null,zc:null},N={B:function(){E||
(r=[c.RGBA,null,c.RGBA,c.RGBA],G=[c.RGBA,null,c.RGBA,c.RGBA],p=[c.TEXTURE0,c.TEXTURE1,c.TEXTURE2,c.TEXTURE3,c.TEXTURE4,c.TEXTURE5,c.TEXTURE6,c.TEXTURE7],t="undefined"!==typeof JEContext,J="undefined"!==typeof aa,t&&JEContext.hi()&&p.push(c.TEXTURE8,c.TEXTURE9),n=[-1,-1,-1,-1,-1,-1,-1,-1],x=[c.UNSIGNED_BYTE,c.FLOAT,c.FLOAT],E=!0)},Pf:function(){if(!w){for(var f=new Float32Array(16384),m=0;16384>m;++m)f[m]=2*Math.random()-1;w={random:N.instance({isFloat:!0,isPot:!0,array:f,width:64}),Oe:N.instance({isFloat:!1,
isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}N.Ng()},De:function(f){c.framebufferTexture2D(ra.vc(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,f,0)},Xh:function(){return w.Oe},Ng:function(){x[1]=aa.uc(c)},tg:function(){G=r=[c.RGBA,c.RGBA,c.RGBA,c.RGBA]},we:function(f){z.set("s1");ra.O();var m=f.I(),I=f.Z();c.viewport(0,0,m,I);f.h(0);pa.l(!1,!1)},ri:function(f,m){N.we(f);c.readPixels(0,0,f.I(),f.Z(),c.RGBA,c.UNSIGNED_BYTE,m)},si:function(f,m){N.we(f);return aa.Tb(0,0,f.I(),f.Z(),m)},Nd:function(f,m,I,
M,P,ha,xa){f.activeTexture(f.TEXTURE0);var Ja=f.createTexture();f.bindTexture(f.TEXTURE_2D,Ja);P=P instanceof Float32Array?P:new Float32Array(P);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.NEAREST);f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.NEAREST);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,ha);f.texImage2D(f.TEXTURE_2D,0,f.RGBA,I,M,0,f.RGBA,f.FLOAT,P);f.bindTexture(f.TEXTURE_2D,
null);f.pixelStorei(f.UNPACK_FLIP_Y_WEBGL,!1);xa&&(ra.ga(),z.ib(f));f.viewport(0,0,I,M);f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,m,0);f.bindTexture(f.TEXTURE_2D,Ja);xa?pa.l(!0,!0):R.xb(f);f.deleteTexture(Ja);E&&(n[0]=-1,y=null,u=0)},ec:function(f){f!==u&&(c.activeTexture(p[f]),u=f)},instance:function(f){var m;function I(){U=void 0!==D.L.videoWidth?D.L.videoWidth:D.L.width;W=void 0!==D.L.videoHeight?D.L.videoHeight:D.L.height}function M(H){var S=c.getError();if("FUCKING_BIG_ERROR"===
S)return!1;c.texImage2D(c.TEXTURE_2D,0,ka,ia,ja,H);S=c.getError();S!==c.NO_ERROR&&ia!==c.RGBA&&(ia=c.RGBA,c.texImage2D(c.TEXTURE_2D,0,ka,ia,ja,H));return!0}function P(){if(!Nb){a(va);Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,Ia);D.isPot?(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,D.isMirrorX?c.MIRRORED_REPEAT:c.REPEAT),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,D.isMirrorY?c.MIRRORED_REPEAT:c.REPEAT)):(c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,
c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE));D.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&c.texParameterf(c.TEXTURE_2D,JEContext.Jh().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.Qg);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,D.isLinear?c.LINEAR:c.NEAREST);var H=D.isMipmap&&!Ua;c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,D.ee?c.LINEAR_MIPMAP_LINEAR:D.isLinear?H?c.NEAREST_MIPMAP_LINEAR:c.LINEAR:H?c.NEAREST_MIPMAP_NEAREST:c.NEAREST);ia=r[D.Mb-1];ka=G[D.Mb-1];ja=x[vb];aa.na()&&(H=aa.Cf(),ia===
c.RGBA&&ja===c.FLOAT?D.isMipmap||D.isLinear?ka=Ha.Ef(c):aa.vd()?H&&(ka=H):ka=c.RGBA16F||c.RGBA:ia===c.RGB&&ja===c.FLOAT&&H&&(ka=H,ia=c.RGBA));if(D.V&&!D.isFloat||D.isFloat&&D.isMipmap&&Ha.Zf())ka=aa.Df(),ja=aa.uc(c);D.Oc&&(gb=D.Oc);D.isSrgb&&4===D.Mb&&(ia=JEContext.Vh());if(D.L)M(D.L);else if(D.url)M(La);else if(ya){H=ya;try{"FUCKING_BIG_ERROR"!==c.getError()&&(c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,H),c.getError()!==c.NO_ERROR&&(c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,null),c.getError()!==
c.NO_ERROR&&c.texImage2D(c.TEXTURE_2D,0,c.RGBA,U,W,0,c.RGBA,c.UNSIGNED_BYTE,null)))}catch(rc){c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,null)}D.isKeepArray||(ya=null)}else H=c.getError(),"FUCKING_BIG_ERROR"!==H&&(c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,null),H=c.getError(),H!==c.NO_ERROR&&(ia=c.RGBA,D.V&&ja!==c.FLOAT&&(ja=c.FLOAT,c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,null))));if(D.isMipmap)if(!Ua&&ca)ca.zb(),hb=!0;else if(Ua){H=Math.log2(Math.min(U,W));Va=Array(1+H);Va[0]=va;for(var S=1;S<=
H;++S){var na=Math.pow(2,S),X=U/na;na=W/na;var Pa=c.createTexture();a(Pa);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,c.NEAREST);c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,c.NEAREST);c.texImage2D(c.TEXTURE_2D,0,ka,X,na,0,ia,ja,null);a(null);Va[S]=Pa}hb=!0}a(null);n[u]=-1;Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1);Xa=!0;D.G&&ca&&(D.G(ca),D.G=null)}}function ha(){for(var H=U*W,S=2*H,na=3*H,X=0;X<H;++X)Da[0][X]=Ya[X],Da[1][X]=Ya[X+H],Da[2][X]=Ya[X+S],Da[3][X]=Ya[X+na]}function xa(){var H=
U*W*4;Ka=[new Uint8Array(H),new Uint8Array(H),new Uint8Array(H),new Uint8Array(H)];Da=[new Float32Array(Ka[0].buffer),new Float32Array(Ka[1].buffer),new Float32Array(Ka[2].buffer),new Float32Array(Ka[3].buffer)];ib=new Uint8Array(4*H);Ya=new Float32Array(ib.buffer);Za=!0}function Ja(){m=new Uint8Array(U*W*4);Ob=new Float32Array(m.buffer);wb=!0}var D=Object.assign({},F,f),$a=k++;null===D.isFlipY&&(D.isFlipY=D.url?!0:!1);D.data&&(D.array="string"===typeof D.data?Wb(D.data):D.isFloat?new Float32Array(D.data):
new Uint8Array(D.data),D.isFlipY=!1);var vb=0,Pb=D.L?!0:!1,ab=null,xb=null,Qb=!1;D.V=D.V||D.isFloat;D.V&&(vb=1);!D.Uf&&D.isFloat&&J&&!aa.vd()&&(D.isFloat=!1);D.isFloat&&(vb=2);D.isAnisotropicFiltering&&t&&!JEContext.ai()&&(D.isAnisotropicFiltering=!1);var va=D.xc||c.createTexture(),La=null,ya=!1,U=0,W=0,Xa=!1,Nb=!1,Za=!1,Da=null,Ka=null,ib=null,Ya=null,ka=null,ia=null,ja=null,Ia=D.isFlipY,ec=(f=D.V&&D.isMipmap)&&Ha.Ze(),Ua=f&&!ec?!0:!1,Va=null,gb=-1,Rb=-1,hb=!1;var wb=!1;var Ob=m=null;D.width&&(U=
D.width,W=D.height?D.height:U);var ca={get:function(){return va},I:function(){return U},Z:function(){return W},Yh:function(){return D.url},bi:function(){return D.isFloat},di:function(){return D.V},zi:function(H){va=H},ei:function(){return D.isLinear},zb:function(){c.generateMipmap(c.TEXTURE_2D)},We:function(H,S){Ua?(H||(H=ca.Rd()),N.ec(S),a(Va[H]),n[S]=-1):ca.h(S)},Rd:function(){-1===gb&&(gb=Math.log2(U));return gb},Ee:function(H){c.TEXTURE_MAX_LEVEL&&c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAX_LEVEL,
H)},wf:function(H){H||(H=ca.Rd());if(Ua){z.set("s12");N.ec(0);for(var S=U,na=W,X=1;X<=H;++X)S/=2,na/=2,z.T("u14",.25/S,.25/na),c.viewport(0,0,S,na),a(Va[X-1]),c.framebufferTexture2D(ra.vc(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,Va[X],0),pa.l(!1,1===X);n[0]=-1}else H!==Rb&&(Rb=H,ca.Ee(H)),ca.zb()},wg:function(H){(Pb=!cc.Ig(H))?(ya=null,D.L=H,I()):ya=H},h:function(H){if(!Xa)return!1;N.ec(H);if(n[H]===$a)return!1;a(va);n[H]=$a;return!0},wa:function(H){c.activeTexture(p[H]);u=H;a(va);n[H]=$a},v:function(){y=
ca;N.De(va)},N:function(){c.viewport(0,0,U,W);y=ca;N.De(va)},md:N.md,Ce:function(H,S){U=H;W=S},resize:function(H,S){ca.Ce(H,S);P()},clone:function(H){H=N.instance({width:U,height:W,V:D.V,isFloat:D.isFloat,isLinear:D.isLinear,isMirrorY:D.isMirrorY,isFlipY:H?!Ia:Ia,isPot:D.isPot});Ca.set("s0");ra.ga();H.N();ca.h(0);pa.l(!0,!0);return H},Ag:function(){c.viewport(0,0,U,W)},remove:function(){c.deleteTexture(va);Nb=!0;g.splice(g.indexOf(ca),1);ca=null},refresh:function(){ca.wa(0);Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,
!0);Pb?c.texImage2D(c.TEXTURE_2D,0,ka,ia,ja,D.L):c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,ya);Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},ue:function(){Za||xa();c.readPixels(0,0,U,4*W,c.RGBA,c.UNSIGNED_BYTE,ib);ha();return Da},ng:function(){Za||xa();return aa.Tb(0,0,U,4*W,ib).then(function(){ha();return Da})},pg:function(){wb||Ja();c.readPixels(0,0,U,W,c.RGBA,c.UNSIGNED_BYTE,m);return Ob},og:function(){wb||Ja();return aa.Tb(0,0,U,W,m)},Cd:function(H){ra.O();z.set("s15");ca.h(0);if(H)c.viewport(0,
0,U,W),z.zg("u15",.25,.25,.25,.25),pa.l(!1,!0);else for(H=0;4>H;++H)c.viewport(0,W*H,U,W),z.Fe("u15",h[H]),pa.l(!1,0===H)},Na:function(H){var S=ja===x[0]&&!l();a(va);Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);S?(Qb||(ab=document.createElement("canvas"),ab.width=U,ab.height=W,xb=ab.getContext("2d"),xb.createImageData(U,W),Qb=!0),null.data.set(H),xb.putImageData(null,0,0),c.texImage2D(c.TEXTURE_2D,0,ka,ia,ja,ab)):c.texImage2D(c.TEXTURE_2D,0,ka,U,W,0,ia,ja,H);n[u]=$a;Ia&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,
!1)},Ji:function(H,S){a(va);S&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!0);c.texImage2D(c.TEXTURE_2D,0,ka,ia,ja,H);n[u]=$a;S&&c.pixelStorei(c.UNPACK_FLIP_Y_WEBGL,!1)},yi:function(H,S){var na=U*W,X=4*na;H=D.V?H?"RGBE":"JSON":"RGBA";S&&(H=S);S=aa.na()&&!1;var Pa=null;switch(H){case "RGBE":Pa="s13";break;case "JSON":Pa=S?"s0":"s15";break;case "RGBA":case "RGBAARRAY":Pa="s7"}Za||("RGBA"===H||"RGBE"===H||"RGBAARRAY"===H?(Ka=new Uint8Array(X),Za=!0):"JSON"!==H||S||xa());ra.O();z.set(Pa);ca.h(0);X=null;if("RGBA"===
H||"RGBE"===H||"RGBAARRAY"===H){c.viewport(0,0,U,W);pa.l(!0,!0);c.readPixels(0,0,U,W,c.RGBA,c.UNSIGNED_BYTE,Ka);if("RGBAARRAY"===H)return{data:Ka};K||(C=document.createElement("canvas"),A=C.getContext("2d"),K=!0);C.width=U;C.height=W;na=A.createImageData(U,W);na.data.set(Ka);A.putImageData(na,0,0);X=C.toDataURL("image/png")}else if("JSON"===H)if(S)X=new Float32Array(na),c.viewport(0,0,U,W),pa.l(!0,!0),c.readPixels(0,0,U,W,c.RGBA,c.FLOAT,X);else{for(X=0;4>X;++X)c.viewport(0,W*X,U,W),z.Fe("u15",h[X]),
pa.l(!X,!X);ca.ue();X=Array(na);for(S=0;S<na;++S)X[4*S]=Da[0][S],X[4*S+1]=Da[1][S],X[4*S+2]=Da[2][S],X[4*S+3]=Da[3][S]}return{format:H,data:X,width:U,height:W,isMirrorY:D.isMirrorY,isFlipY:"RGBA"===H?D.isFlipY:!D.isFlipY}}};D.isMipmap&&!Ua&&Xa&&!hb&&(ca.zb(),hb=!0);if(D.url)a(va),c.texImage2D(c.TEXTURE_2D,0,c.RGBA,1,1,0,c.RGBA,c.UNSIGNED_BYTE,null),La=new Image,La.fh="Anonymous",La.crossOrigin="Anonymous",La.src=D.url,La.onload=function(){U=La.width;W=La.height;P()};else if(D.L){var Sb=function(){I();
U?P():setTimeout(Sb,1)};Sb()}else D.array?(D.V&&!D.isFloat?D.array instanceof Uint16Array?(ya=D.array,P()):e()?(ya=d(D.array),P()):(P(),N.Nd(c,va,ca.I(),ca.Z(),D.array,Ia,!0)):(ya=D.isFloat?D.array instanceof Float32Array?D.array:new Float32Array(D.array):D.array instanceof Uint8Array?D.array:new Uint8Array(D.array),P()),D.isKeepArray||(ya&&ya!==D.array&&(ya=null),delete D.array)):D.xc?Xa=!0:P();ca.Th=ca.I;D.G&&Xa&&(D.G(ca),D.G=null);g.push(ca);return ca},O:function(f){f!==u&&(c.activeTexture(p[f]),
u=f);n[f]=-1;a(null)},Tg:function(f){w.random.h(f)},md:function(){y=null;c.framebufferTexture2D(ra.vc(),c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0)},reset:function(){0!==u&&c.activeTexture(p[0]);for(var f=0;f<p.length;++f)n[f]=-1;u=-1},vi:function(){u=-1},Kg:function(){for(var f=0;f<p.length;++f)N.O(f)},Od:function(){w&&(w.random.remove(),w.Oe.remove())},Ii:function(f,m){if("RGBA"===f.format||"RGBE"===f.format){var I=new Image;I.src=f.data;I.onload=function(){N.instance({isMirrorY:f.isMirrorY,isFlipY:f.isFlipY,
isFloat:!1,L:I,G:function(M){if("RGBA"===f.format)m(M);else{var P=f.width,ha=f.height,xa=N.instance({isMirrorY:f.isMirrorY,isFloat:!0,width:P,height:ha,isFlipY:f.isFlipY});ra.ga();c.viewport(0,0,P,ha);z.set("s14");xa.v();M.h(0);pa.l(!0,!0);N.O(0);m(xa);aa.flush();M.remove()}}})}}else"JSON"===f.format?m(N.instance({isFloat:!0,isFlipY:f.isFlipY,width:f.width,height:f.height,array:new Float32Array(f.data)})):m(!1)},ff:d,m:function(){y&&(Ba.ga(),N.md(),Ba.O());N.Kg();g.slice(0).forEach(function(f){f.remove()});
g.splice(0);E=!1;k=0;"undefined"!==typeof Ha&&Ha.m();w=null}};return N}(),Zb=function(){return{instance:function(a){var b=[Ea.instance(a),Ea.instance(a)],d=[b[1],b[0]],e=d,l={rg:function(q){e[1].v();e[0].h(q);l.Je()},sg:function(q){e[1].N();e[0].h(q);l.Je()},Je:function(){e=e===b?d:b},refresh:function(){e[0].refresh();e[1].refresh()},h:function(q){e[0].h(q)},wa:function(q){e[0].wa(q)},Sg:function(q){e[1].h(q)},Nh:function(){return e[0]},Rh:function(){return e[1]},Na:function(q){e[0].Na(q);e[1].Na(q)},
remove:function(){e[0].remove();e[1].remove();e=null},sync:function(){l.sg(0);z.set("s0");R.l(!1,!1)}};return l}}}(),pa=function(){function a(k){var n={fa:null,indices:null};n.fa=k.createBuffer();k.bindBuffer(k.ARRAY_BUFFER,n.fa);k.bufferData(k.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,-1,3]),k.STATIC_DRAW);n.indices=k.createBuffer();k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.indices);k.bufferData(k.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),k.STATIC_DRAW);return n}var b=null,d=0,e=!1,l=[],q=-2,u=-2,
p={reset:function(){u=q=-2},B:function(){e||(b=a(c),p.Ga(),e=!0)},instance:function(k){var n=d++,w=k.indices?k.indices.length:0,y="undefined"===typeof k.mode?c.STATIC_DRAW:k.mode,x=c.createBuffer();c.bindBuffer(c.ARRAY_BUFFER,x);c.bufferData(c.ARRAY_BUFFER,k.fa instanceof Float32Array?k.fa:new Float32Array(k.fa),y);q=n;var r=null,G=null,E=null;if(k.indices){r=c.createBuffer();c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r);var g=null;65536>k.indices.length?(g=Uint16Array,G=c.UNSIGNED_SHORT,E=2):(g=Uint32Array,
G=c.UNSIGNED_INT,E=4);g=k.indices instanceof g?k.indices:new g(k.indices);c.bufferData(c.ELEMENT_ARRAY_BUFFER,g,y);u=n}var F={Xe:function(K){q!==n&&(c.bindBuffer(c.ARRAY_BUFFER,x),q=n);K&&Ca.ed()},Ue:function(){u!==n&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,r),u=n)},bind:function(K){F.Xe(K);F.Ue()},jh:function(){c.drawElements(c.TRIANGLES,w,G,0)},kh:function(K,C){c.drawElements(c.TRIANGLES,K,G,C*E)},remove:function(){c.deleteBuffer(x);k.indices&&c.deleteBuffer(r);F=null}};l.push(F);return F},Ga:function(){-1!==
q&&(c.bindBuffer(c.ARRAY_BUFFER,b.fa),q=-1);-1!==u&&(c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,b.indices),u=-1)},l:function(k,n){k&&pa.Ga();n&&Ca.La();c.drawElements(c.TRIANGLES,3,c.UNSIGNED_SHORT,0)},xb:function(k){k=k||c;var n=a(k);k.bindBuffer(k.ARRAY_BUFFER,n.fa);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,n.indices);Ca.Vb(k);k.clear(k.COLOR_BUFFER_BIT);k.drawElements(k.TRIANGLES,3,k.UNSIGNED_SHORT,0);k.flush();k.bindBuffer(k.ARRAY_BUFFER,null);k.bindBuffer(k.ELEMENT_ARRAY_BUFFER,null);k.deleteBuffer(n.fa);
k.deleteBuffer(n.indices);p.reset();e&&(p.Ga(),Ca.La())},Od:function(){var k=c,n=b;k.deleteBuffer(n.fa);k.deleteBuffer(n.indices)},m:function(){p.Od();l.forEach(function(k){k.remove()});c.bindBuffer(c.ARRAY_BUFFER,null);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,null);p.reset();e=!1;l.splice(0);d=0}};return p}(),ra=function(){var a=null,b=null,d=null,e=!1,l=[],q={M:-2,Md:1},u={Hb:function(){return e},B:function(){if(!e){a=c.createFramebuffer();var p=aa.na();b=p&&c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER;
d=p&&c.READ_FRAMEBUFFER?c.READ_FRAMEBUFFER:c.FRAMEBUFFER;e=!0}},Kh:function(){return b},Ff:function(){return d},vc:function(){return c.FRAMEBUFFER},Sh:function(){return q},Dh:function(){return a},instance:function(p){void 0===p.Yd&&(p.Yd=!1);var k=p.D?p.D:null,n=p.width,w=void 0!==p.height?p.height:p.width,y=a,x=null,r=!1,G=!1,E=0;k&&(n=n?n:k.I(),w=w?w:k.Z());var g={Be:function(){r||(y=c.createFramebuffer(),r=!0,E=q.Md++)},Qe:function(){g.Be();g.v();x=c.createRenderbuffer();c.bindRenderbuffer(c.RENDERBUFFER,
x);c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,n,w);c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,x);c.clearDepth(1)},bind:function(F,K){E!==q.M&&(c.bindFramebuffer(b,y),q.M=E);k&&k.v();K&&c.viewport(0,0,n,w);F&&c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},Rg:function(){E!==q.M&&(c.bindFramebuffer(b,y),q.M=E)},clear:function(){c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT)},ah:function(){c.clear(c.COLOR_BUFFER_BIT)},bh:function(){c.clear(c.DEPTH_BUFFER_BIT)},Ag:function(){c.viewport(0,
0,n,w)},v:function(){E!==q.M&&(c.bindFramebuffer(b,y),q.M=E)},rtt:function(F){k=F;q.M!==E&&(c.bindFramebuffer(c.FRAMEBUFFER,y),q.M=E);F.v()},O:function(){c.bindFramebuffer(b,null);q.M=-1},resize:function(F,K){n=F;w=K;x&&(c.bindRenderbuffer(c.RENDERBUFFER,x),c.renderbufferStorage(c.RENDERBUFFER,c.DEPTH_COMPONENT16,n,w))},remove:function(){y===a||G||(c.bindFramebuffer(b,y),c.framebufferTexture2D(b,c.COLOR_ATTACHMENT0,c.TEXTURE_2D,null,0),x&&c.framebufferRenderbuffer(b,c.DEPTH_ATTACHMENT,c.RENDERBUFFER,
null),c.bindFramebuffer(b,null),c.deleteFramebuffer(y),x&&c.deleteRenderbuffer(x));G=!0}};p.Yd&&g.Qe();l.push(g);return g},O:function(){c.bindFramebuffer(b,null);q.M=-1},Lg:function(){c.bindFramebuffer(b,null);c.clear(c.COLOR_BUFFER_BIT|c.DEPTH_BUFFER_BIT);aa.He();q.M=-1},reset:function(){q.M=-2},ga:function(){0!==q.M&&(c.bindFramebuffer(b,a),q.M=0)},clear:function(){aa.He();c.clear(c.COLOR_BUFFER_BIT)},m:function(){u.O();l.forEach(function(p){p.remove()});null!==a&&(c.deleteFramebuffer(a),a=null);
u.reset();e=!1;l.splice(0);q.Md=1}};return u}(),aa=function(){function a(){p="undefined"===typeof za?JEContext:za;k=!0}function b(h,t,J){for(var L=0;L<t.length;++L){var v=J.getExtension(t[L]+"_"+h);if(v)return v}return null}function d(){null!==g.$b&&(clearTimeout(g.$b),g.$b=null);g.Ia=!1}function e(h){if(0===g.Aa.length){g.$=c.PIXEL_PACK_BUFFER;g.Aa.splice(0);g.Bb.splice(0);for(var t=0;t<g.Ua;++t)g.Aa.push(c.createBuffer()),g.Bb.push(-1);g.ja=0;g.Sc=0}c.bindBuffer(g.$,g.Aa[g.ja]);h.byteLength!==g.Bb[g.ja]&&
(c.bufferData(g.$,h.byteLength,c.STREAM_READ),g.Bb[g.ja]=h.byteLength);g.Zh=!0}function l(){c.bindBuffer(g.$,null)}function q(){g.Ha.forEach(function(h){c.deleteSync(h)});g.Ha.splice(0)}function u(){g.ja=(g.ja+1)%g.Ua;++g.Sc}var p=null,k=!1,n={be:!1,hd:null,jd:null,fe:!1,Yf:!1,kd:null,ge:!1,ld:null,ce:!1,ic:null,Rf:!1,jc:null,Sf:!1},w=null,y={ka:!0,ma:!0,sc:!0,te:!1},x=null,r=!0,G=null,E=null,g={gf:1,Ua:-1,ja:0,Sc:0,Ia:!1,Aa:[],Ha:[],Bb:[],$:null,$b:null},F="EXT WEBGL OES MOZ_OES WEBKIT_OES KHR".split(" "),
K=["OES","MOZ_OES","WEBKIT_OES"],C="undefined"===typeof window?{}:window,A={B:function(){if(k)return!0;A.reset();k||a();var h=c;if(!w.be){w.hd=A.Jd(h);C.GL_EXT_FLOAT=w.hd;w.fe=w.hd?!0:!1;if(w.fe||A.na())w.jd=A.Kd(h),w.Yf=w.jd?!0:!1,C.GL_EXT_FLOATLINEAR=w.jd;w.be=!0}if(!w.ce){w.kd=A.vb(h);w.kd&&(w.ge=!0,C.GL_EXT_HALFFLOAT=w.kd);if(w.ge||A.na())w.ld=A.Ld(h),C.GL_EXT_HALFFLOATLINEAR=w.ld;w.$h=w.ld?!0:!1;w.ce=!0}w.ic=A.Hd(h);w.Rf=w.ic?!0:!1;C.GL_EXT_COLORBUFFERFLOAT=w.ic;w.jc=A.Id(h);w.Sf=w.jc?!0:!1;
C.GL_EXT_COLORBUFFERHALFFLOAT=w.jc;ra.B();Ea.B();if(!A.jf())return!1;pa.B();Ea.Pf();return!0},reset:function(){w=Object.assign({},n);x=Object.assign({},y)},I:function(){k||a();return p.I()},Z:function(){k||a();return p.Z()},na:function(){k||a();return p.na()},Gd:function(h){A.Hd(h);A.Id(h);A.Jd(h);A.Kd(h);A.vb(h);A.Ld(h)},Hd:b.bind(null,"color_buffer_float",F),Id:b.bind(null,"color_buffer_half_float",F),Jd:b.bind(null,"texture_float",K),Kd:b.bind(null,"texture_float_linear",K),vb:b.bind(null,"texture_half_float",
K),Ld:b.bind(null,"texture_half_float_linear",K),uc:function(h){var t=A.vb(h);return t&&t.HALF_FLOAT_OES?t.HALF_FLOAT_OES:h.HALF_FLOAT||h.FLOAT},Cf:function(){return E||c.RGBA32F||c.RGBA},Df:function(){return G||c.RGBA16F||c.RGBA},yf:function(){return x},vd:function(){return x.ka},Wg:function(){return x.ma},Vg:function(){return x.sc},$e:function(){return x.te&&r},Me:function(h){r=h;!h&&g.Ia&&(q(),c.bindBuffer(g.$,null),g.Ia=!1)},fi:function(){return g.Ia},Yb:function(h,t,J){function L(){h.bindTexture(h.TEXTURE_2D,
null);h.bindFramebuffer(v,null);h.deleteTexture(f);h.deleteFramebuffer(N)}var v=h.FRAMEBUFFER,O=h.NEAREST,N=h.createFramebuffer();h.bindFramebuffer(v,N);var f=h.createTexture();h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,f);h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,!1);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,O);h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,
O);h.texImage2D(h.TEXTURE_2D,0,t,3,3,0,h.RGBA,J,null);h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,f,0);if(h.checkFramebufferStatus(h.READ_FRAMEBUFFER||h.FRAMEBUFFER)!==h.FRAMEBUFFER_COMPLETE)return L(),!1;Ca.dd(h);h.clearColor(0,0,0,0);h.viewport(0,0,3,3);h.disable(h.DEPTH_TEST);h.clear(h.COLOR_BUFFER_BIT);pa.xb(h);h.bindFramebuffer(v,null);Ca.ib(h);h.activeTexture(h.TEXTURE0);h.bindTexture(h.TEXTURE_2D,f);pa.xb(h);t=new Uint8Array(36);h.readPixels(0,0,3,3,h.RGBA,h.UNSIGNED_BYTE,
t);L();for(J=0;36>J;++J)if(3!==J%4&&3<Math.abs(t[J]-127))return!1;return!0},lc:function(h){var t={ka:!1,ma:!1};h.disable(h.BLEND);h.clearColor(0,0,0,0);h.clear(h.COLOR_BUFFER_BIT);h.RGBA32F&&A.Yb(h,h.RGBA32F,h.FLOAT)&&(t.ka=!0,E=h.RGBA32F);!t.ka&&A.Yb(h,h.RGBA,h.FLOAT)&&(t.ka=!0,E=h.RGBA);var J=A.uc(h);G=null;h.RGBA16F&&A.Yb(h,h.RGBA16F,J)&&(t.ma=!0,G=h.RGBA16F);!t.ma&&A.Yb(h,h.RGBA,J)&&(t.ma=!0,G=h.RGBA);return t},kf:function(){var h=ra.instance({width:2});h.Be();var t=Ea.instance({width:2,isFloat:!0,
Mb:3});h.v();t.v();A.flush();c.checkFramebufferStatus(ra.Ff())!==c.FRAMEBUFFER_COMPLETE?(Ea.tg(),x.sc=!1):x.sc=!0;h.remove();t.remove()},lf:function(){var h=!1;A.na()&&(h="PIXEL_PACK_BUFFER STREAM_READ SYNC_GPU_COMMANDS_COMPLETE WAIT_FAILED fenceSync deleteSync createBuffer".split(" ").every(function(t){return"undefined"!==typeof c[t]}));x.te=h},jf:function(){var h=A.lc(c);Object.assign(x,h);if(!x.ka&&!x.ma)return!1;A.kf();A.lf();return!0},ve:function(h,t,J,L,v){c.readPixels(h,t,J,L,c.RGBA,c.UNSIGNED_BYTE,
v);return Promise.resolve(v,!1)},Tb:function(h,t,J,L,v,O,N){if(!A.$e())return A.ve(h,t,J,L,v);g.Ua=N||g.gf;e(v);c.readPixels(h,t,J,L,c.RGBA,c.UNSIGNED_BYTE,0);g.Ha[g.ja]=c.fenceSync(c.SYNC_GPU_COMMANDS_COMPLETE,0);A.flush();var f=!1;return new Promise(function(m,I){function M(){if(!g.Ia)return d(),l(),u(),I(),!1;var P=(g.ja+1)%g.Ua;switch(c.clientWaitSync(g.Ha[P],0,0)){case c.TIMEOUT_EXPIRED:case c.WAIT_FAILED:break;default:return d(),c.deleteSync(g.Ha[P]),g.Ha[P]=null,c.bindBuffer(g.$,g.Aa[P]),c.getBufferSubData(g.$,
0,v),l(),u(),m(v,f),!0}g.$b=setTimeout(M,0);return!1}d();g.Sc+1<g.Ua?(l(),u(),m(v,!1)):(g.Ia=!0,M()||!O||f||(f=!0,O()))})},He:function(){c.viewport(0,0,A.I(),A.Z())},flush:function(){c.flush()},m:function(){d();q();Ea.m();ra.m();pa.m();g.Aa.forEach(function(h){c.deleteBuffer(h)});g.Aa.splice(0);Ca.reset();k=!1}};return A}(),R=pa,Ba=ra,Z=Ea,Ha=function(){function a(h,t,J,L){g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,L?g.NEAREST_MIPMAP_NEAREST:g.LINEAR);var v=null;if(null!==J)try{v=g.getError();
if("FUCKING_BIG_ERROR"===v)return!1;g.texImage2D(g.TEXTURE_2D,0,h,4,4,0,g.RGBA,t,J);v=g.getError();if(v!==g.NO_ERROR)return!1}catch(O){return!1}L&&g.generateMipmap(g.TEXTURE_2D);g.clear(g.COLOR_BUFFER_BIT);R.xb(g);v=g.getError();if("FUCKING_BIG_ERROR"===v)return!1;g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,w);v=g.getError();v===g.INVALID_OPERATION&&"undefined"!==typeof g.PIXEL_PACK_BUFFER&&(g.bindBuffer(g.PIXEL_PACK_BUFFER,null),g.readPixels(0,0,2,2,g.RGBA,g.UNSIGNED_BYTE,w),v=g.getError());if(v!==
g.NO_ERROR)return!1;J=!0;for(L=0;16>L;++L)J=J&&4>Math.abs(w[L]-127);J&&(k.re=t,k.Xd=h);return J}function b(h,t){return F.ka&&a(h,g.FLOAT,new Float32Array(y),t)?(p=u.rd,!0):!1}function d(h,t,J){if(!F.ma)return!1;var L=Ea.ff(y),v=aa.vb(g);if(v&&v.HALF_FLOAT_OES&&a(h,v.HALF_FLOAT_OES,L,t)||g.HALF_FLOAT&&a(h,g.HALF_FLOAT,L,t))return p=u.Pa,!0;L=new Float32Array(y);if(a(h,g.FLOAT,L,t))return p=u.Pa,!0;g.bindTexture(g.TEXTURE_2D,J);g.texImage2D(g.TEXTURE_2D,0,g.RGBA,2,2,0,g.RGBA,g.UNSIGNED_BYTE,null);g.bindFramebuffer(k.sb,
A);Ea.Nd(g,J,2,2,L,!1,!1);g.bindFramebuffer(k.sb,null);g.bindTexture(g.TEXTURE_2D,J);return a(h,null,null,t)?(p=u.Pa,!0):!1}function e(h,t,J){n=!0;if(d(h,!0,J)||b(t,!0))return!0;n=!1;return d(h,!1,J)||b(t,!1)?!0:!1}function l(h){if(p===u.P){g=h||c;p=u.RGBA8;n=!0;aa.Gd(g);F||(F=aa.lc(g));Ba.reset();A=g.createFramebuffer();k.sb=g.DRAW_FRAMEBUFFER||g.FRAMEBUFFER;g.bindFramebuffer(k.sb,null);g.clearColor(0,0,0,0);g.viewport(0,0,2,2);z.P();K=z.ib(g);h=g.createTexture();g.activeTexture(g.TEXTURE0);g.bindTexture(g.TEXTURE_2D,
h);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.REPEAT);g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST);C=h;var t=h=g.RGBA,J=g.RGBA16F,L=g.RGBA32F;L&&(h=L);J&&(t=J);if((J||L)&&e(t,h,C))return q(),!0;h=t=g.RGBA;if(e(t,h,C))return q(),!0;p=u.RGBA8;q();return!1}}function q(){g.deleteProgram(K.Ea);g.deleteTexture(C);C=K=null}for(var u={P:-1,rd:3,Pa:2,RGBA8:0},p=u.P,k={re:null,Xd:null,sb:null},n=!0,w=new Uint8Array(16),y=Array(64),
x=0;4>x;++x)for(var r=0;4>r;++r){var G=0===(r+x)%2?1:0,E=4*x+r;y[4*E]=G;y[4*E+1]=G;y[4*E+2]=G;y[4*E+3]=G}var g=null,F=null,K=null,C=null,A=null;return{Ze:function(h){l(h);return n},ud:function(h,t){p===u.P&&(typeof("undefined"!==t)&&(F=t),l(h));return p!==u.RGBA8},ci:function(h){l(h);return p===u.rd},Zf:function(h){l(h);return p===u.Pa},Lh:function(h){l(h);return k.re},Ef:function(h){l(h);return k.Xd},m:function(){g=null;n=!0;p=u.P;F=null}}}(),Ub=function(){return{instance:function(a){function b(){x&&
x.remove();x=Z.instance({isFloat:!1,isPot:!1,width:a.size*a.aa[0],height:a.size*a.aa[1]})}var d=null,e=!1,l=!1,q=null,u=!1,p=!1,k=null,n="undefined"===typeof a.preprocessing?!1:a.preprocessing,w="undefined"===typeof a.preprocessingSize?a.size:a.preprocessingSize;a.mask&&(e=!0,qa&&void 0!==qa.Te&&(a.mask=qa.Te+a.mask),d=Z.instance({isFloat:!1,url:a.mask}));var y=!1;a.customInputShader&&(y="s50",z.td({name:"_",id:y,g:a.customInputShader,Hi:["uSource"],precision:"lowp"}),z.K(y,[{type:"1i",name:"_",value:0}]));
switch(n){case "sobel":k="s39";u=!0;break;case "meanNormalization":k="s40";u=!0;break;case "grayScale":k="s36";u=!1;break;case "grayScaleTilt":k="s37";p=!0;u=!1;break;case "rgbGrayTilt":k="s38";p=!0;u=!1;break;case "copy":k=y?y:"s0";break;case "inputLightRegulation":k=y?y:"s36";q=fc.instance({Wd:w,qe:a.size,oe:a.nBlurPass,ba:!1});l=!0;break;case "inputMix0":k="none";q=gc.instance({o:w,ra:a.varianceMin,ha:a.blurKernelSizePx,gain:a.gain||1,ba:!1});l=!0;break;case "inputMix1":k="none";q=hc.instance({o:w,
ra:a.varianceMin,ha:a.blurKernelSizePx,gain:a.gain||1,ba:!1});l=!0;break;case "inputCut4":k="none";q=ic.instance({o:w,ra:a.varianceMin,ha:a.blurKernelSizePx,gain:a.gain||1,bb:a.isNormalized||!1,Zc:a.overlap||0,ba:!1});w*=q.Gf();l=!0;break;case "direct":case "none":case "abort":k="abort";break;default:k="s4"}w=Math.ceil(w);p&&z.K(k,[{name:"u29",type:"1f",value:a.tilt}]);e&&(k+="Mask");var x=null;b();var r={I:function(){return a.size},Hf:function(){return w},wc:function(){return r.I()},Lf:function(){return l?
q.Ya():x},ac:function(G){a.aa=G;b()},W:function(G){Ba.ga();if("abort"===k)return G.h(0),G;"none"!==k&&(z.set(k),u&&z.J("u30",1/a.size),x.N(),e&&d.h(1),R.l(!1,!1),x.h(0),G=x);l&&q.process(G)},m:function(){x.remove();e&&d.remove()}};return r}}}(),Vb=function(){return{instance:function(a){function b(){if(A.Ma){l.input&&(l.input.remove(),l.Eb.remove());var t=a.size*a.sparsity;C=Math.log(t/a.size)/Math.log(2);l.input=Z.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:t*a.aa[0],height:t*a.aa[1],Oc:C});l.Eb=
Z.instance({isFloat:!0,isPot:!0,width:a.size*a.aa[0],height:a.size*a.aa[1]})}}function d(){l.Da&&l.Da.remove();l.Da=Z.instance({isFloat:!0,isPot:!u,isLinear:!u&&p.isLinear,width:a.size*a.aa[0],height:a.size*a.aa[1]})}function e(t){p.buffer.forEach(function(J,L){p.results[L][0]=t[0][J];p.results[L][1]=t[1][J];p.results[L][2]=t[2][J];p.results[L][3]=t[3][J]});return p.results}a.normalize=a.normalize||!1;var l={input:null,bias:null,Eb:null,Da:null,Yc:null,Wc:null,Xc:null},q=null,u=!0,p={type:"undef",
G:null,isLinear:!1,buffer:[],results:[],Fb:!1},k=-1,n=a.isReorganize?a.isReorganize:!1,w=a.kernelsCount?!0:!1,y=[a.$a?"s32":"s31",a.$a?"s34":"s33","s35"][a.shiftRGBAMode||0],x={isEnabled:!1},r=1/a.size;a.Wf?(a.sparsity="undefined"!==typeof a.sparsity?a.sparsity:a.Rb.wc(),u=!1):"full"===a.connectivityUp&&(a.sparsity=a.Rb.wc());var G={elu:"s19",elu01:"s20",relu:"s17",gelu:"s18",arctan:"s21",arctan2:"s22",sigmoid:"s16",copy:"s0"}[a.activation],E=a.sparsity*a.sparsity,g=!1,F=a.size,K="";if(a.maxPooling){switch(a.maxPooling.size){case 2:K=
"s41";break;case 4:K="s42"}g=!0;F/=a.maxPooling.size;l.Wc=Z.instance({isFloat:!0,isPot:!1,width:F})}var C=-1,A=null;u&&d();l.bias=Z.instance(a.bias);var h={I:function(){return a.size},wc:function(){return F},Pd:function(){return a.classesCount},Ve:function(t){q.h(t)},kg:function(){a.remap&&a.remap.isEnabled&&(x={isEnabled:!0,dg:Z.instance(a.remap.maskTexture),fb:a.remap.layers.map(function(t){return a.parent.Jf(t)}),depth:a.remap.depth})},ug:function(){switch(a.connectivityUp){case "direct":A=jc.instance(a.connectivity);
break;case "square":A=kc.instance(a.connectivity);break;case "squareFast":A=lc.instance(a.connectivity,a.activation);break;case "full":A=mc.instance(Object.assign({$a:a.$a},a.connectivity));break;case "conv":k=a.kernelsCount,A=nc.instance(a.connectivity),n&&(l.Yc=Z.instance({width:F,isFloat:!0,isFlipY:!1,isPot:!1}))}b()},W:function(t,J){q=t;A.Ma?(l.input.N(),w&&l.bias.h(2),A.W(x),l.input.h(0),l.input.wf(C),l.Eb.N(),w?z.set("s0"):(z.set(y),z.J("u4",E),l.bias.h(1)),l.input.We(C,0),R.l(!1,!1),z.set(G),
l.Da.v(),l.Eb.h(0),R.l(!1,!1)):(l.Da.N(),l.bias.h(1),A.W());if(u)return J=l.Da,g&&(l.Wc.N(),J.h(0),z.set(K),z.T("u14",r,r),R.l(!1,!1),J=l.Wc),n&&(l.Yc.v(),z.set("s24"),z.T("u18",k,F/k),J.h(0),R.l(!1,!1),J=l.Yc),J.h(0),J;var L=l.Da;if(a.normalize||p.Fb)t=a.normalize,z.set(p.Fb?"s9":"s8"),z.J("u10",t?r:1),l.Xc.N(),L.h(0),R.l(!1,!1),L=l.Xc;t=null;switch(p.type){case "cpuRGBA2Float":L.Cd(!1);J?t=h.lg(L).then(p.G):(L=h.mg(L),p.G(L));break;case "cpuMeanFloat":L.Cd(!0);if(J)t=L.og().then(p.G);else{L=L.pg();
for(var v=0;v<L.length;++v);p.G(L)}break;case "gpuRawAvg":case "gpuRaw":L.h(0);case "none":null!==p.G&&p.G(L)}J&&null===t&&(t=Promise.resolve());return t},ac:function(t){a.aa=t;b();d()},Cg:function(t){t&&(p.type=t.Pb||"none",p.G=t.Ob||null,p.isLinear=t.Vc?!0:!1);d();t="undefined"!==typeof a.classesCount&&a.classesCount?a.classesCount:a.size*a.size;for(var J=0,L=0,v=0;J<t;++J)p.buffer.push(L+(a.size-1-v)*a.size),p.results.push([-1,-1,-1,-1]),++L,L===a.size&&(L=0,++v);p.Fb="gpuRawAvg"===p.type||"cpuMeanFloat"===
p.type;if(a.normalize||p.Fb)l.Xc=Z.instance({isFloat:!0,isPot:!0,width:a.size})},lg:function(t){return t.ng().then(e)},mg:function(t){t=t.ue();e(t);return p.results},m:function(){for(var t in l){var J=l[t];J&&J.remove()}A&&(A.m(),A=null)}};a.Rb&&h.ug(a.Rb);return h}}}(),jc=function(){return{instance:function(a){var b=Z.instance(a.weights);return{Ma:!0,Ab:function(){return 1},m:function(){b.remove()},Of:function(){return b},W:function(){z.set("s30");b.h(1);R.l(!1,!1)}}}}}(),mc=function(){return{instance:function(a){var b=
a.fromLayerSize,d=Z.instance(a.weights),e=a.$a?"s27":"s26";return{Ma:!0,Ab:function(){return b},m:function(){d.remove()},W:function(l){if(l.isEnabled){z.set("s28");l.dg.h(3);for(var q=Math.min(l.fb.length,l.depth),u=0;u<q;++u)l.fb[u].Ve(4+u)}else z.set(e);z.J("u8",a.toLayerSize);z.J("u9",a.fromLayerSize);d.h(1);R.l(!1,!1)}}}}}(),kc=function(){return{instance:function(a){for(var b=a.fromLayerSize,d=a.toLayerSize,e=a.toSparsity,l=e*d,q=l/b,u=b/d,p=0,k=0,n=0,w=Array(e*d*e*d*4),y=Array(e*d*e*d*4),x=Array(b*
b),r=0;r<x.length;++r)x[r]=0;r=Math.floor(e/2);for(var G=.5/d,E=.5/b,g=.5/l,F=0;F<d;++F)for(var K=Math.round(F*u),C=0;C<d;++C){var A=Math.round(C*u),h=F/d,t=C/d;h+=G;t+=G;for(var J=0;J<e;++J){var L=K+J-r;0>L&&(L+=b);L>=b&&(L-=b);for(var v=0;v<e;++v){var O=p/l,N=k/l,f=A+v-r;0>f&&(f+=b);f>=b&&(f-=b);var m=L/b,I=f/b;N=1-N-1/l;m+=E;I+=E;O+=g;N+=g;var M=F*e+J,P=C*e+v;P=d*e-P-1;M=P*d*e+M;w[4*M]=O;w[4*M+1]=N;w[4*M+2]=m;w[4*M+3]=I;I=x[f*b+L]++;M=I%q;m=L*q+M;f=f*q+(I-M)/q;f=b*q-1-f;f=f*b*q+m;y[4*f]=O;y[4*
f+1]=N;y[4*f+2]=h;y[4*f+3]=t;++p>=l&&(p=0,++k);++n}}}x=null;var ha=Z.instance(a.weights);delete a.weights.data;var xa=Z.instance({width:l,isFloat:!0,array:new Float32Array(y),isPot:!0});y=null;var Ja=Z.instance({width:l,isFloat:!0,array:new Float32Array(w),isPot:!0});w=null;return{Ma:!0,Ab:function(){return q},m:function(){xa.remove();Ja.remove();ha.remove()},W:function(){z.set("s25");ha.h(1);Ja.h(2);R.l(!1,!1)}}}}}(),nc=function(){return{instance:function(a){var b=a.kernelsCount,d=a.toSparsity,e=
d*a.toLayerSize/a.fromLayerSize,l=a.inputScale||[1,1],q=Z.instance(a.weights);return{Ma:!0,Ab:function(){return e},Wh:function(){return d},Of:function(){return q},m:function(){q.remove()},W:function(){z.set("s29");z.xg("u28",l);z.J("u26",b);z.J("u27",d);z.J("u8",a.toLayerSize);z.J("u9",a.fromLayerSize);q.h(1);R.l(!1,!1)}}}}}(),lc=function(){return{instance:function(a,b){var d=a.fromLayerSize,e=a.toLayerSize,l=a.toSparsity,q=a.stride?a.stride:1,u=l*e/d,p=e<d,k=d/e,n=Z.instance(a.weights),w="s51"+[d.toString(),
e.toString(),l.toString(),q.toString(),b].join("_");z.uf(w)||(a=dc.xf(b,"gl_FragColor","gl_FragColor"),e=[{type:"1f",name:"u8",value:e},{type:"1f",name:"u32",value:q}],p&&e.push({type:"1f",name:"u9",value:d}),d=[(p?u:l).toFixed(1),a],p&&d.push(k.toFixed(1)),z.Qf(p?"s47":"s46",w,d),z.K(w,e.concat([{type:"1i",name:"u6",value:0},{type:"1i",name:"u3",value:1},{type:"1i",name:"u7",value:3}])));return{Ma:!1,Ab:function(){return u},m:function(){n.remove()},W:function(){z.set(w);n.h(3);R.l(!1,!1)}}}}}(),
fc=function(){return{instance:function(a){var b=a.oe?a.oe:3,d=a.Wd?a.Wd:64,e=a.qe?a.qe:64,l=a.ba?!0:!1;a={isFloat:!1,width:d,isPot:!1,isFlipY:!1};var q=Z.instance(a),u=Z.instance(a),p=Z.instance(a),k=Z.instance(a),n=Z.instance({isFloat:!0,width:e,isPot:!1,isFlipY:!1}),w=1/d;return{process:function(y){z.set("s43");k.v();R.l(l,!1);z.set("s44");for(var x=0;x<b;++x)q.v(),z.T("u14",w,0),R.l(l,!1),p.v(),k.h(0),R.l(l,!1),u.v(),q.h(0),z.T("u14",0,w),R.l(l,!1),k.v(),p.h(0),R.l(l,!1),x!==b-1&&u.h(0);z.set("s45");
n.v();y.h(0);u.h(1);k.h(2);R.l(l,!1);n.h(0)},Ya:function(){return n}}}}}(),gc=function(){return{instance:function(a){function b(w){return Z.instance({isFloat:w,width:d.o,isPot:!1,isFlipY:!1})}var d=Object.assign({ra:.1,ha:9,o:128,gain:1,ba:!1},a),e=b(!1),l=[b(!1),b(!1),b(!1)],q=[b(!1),b(!1),b(!1)],u=b(!0),p=[e,q[0],q[1]];a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){float b=0.,c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).r,c+=f;}b/=c,gl_FragColor=vec4(b,0.,0.,1.);}".replace("1.1111",
Math.round((d.ha-1)/2).toFixed(2)).replace("2.2222",(1/d.o).toFixed(6));var k="uniform sampler2D u34,u35,u36,u37;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec3 a=texture2D(u34,vv0).rgb;float c=texture2D(u35,vv0).r,d=texture2D(u36,vv0).r,i=texture2D(u37,vv0).r,j=a.r*a.r;vec3 b=vec3(c,d,i),k=max(g*f,abs(vec3(j)-b*b)),l=sqrt(k);gl_FragColor=vec4(a.r,h*(a-b)/l);}".replace("1.1111",d.ra.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),n={u1:0};z.mb([{id:"s53",
name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 b=texture2D(u1,vv0).rgb;float a=dot(b,f);gl_FragColor=vec4(a,a,a,a);}",j:n,i:["u1"],precision:"lowp"},{id:"s54",name:"_",g:a,j:n,i:["u1","u33"],precision:"lowp"},{id:"s55",name:"_",g:k,j:{u34:0,u35:1,u36:2,u37:3},i:["u34","u35","u36","u37"],precision:"highp"}]);return{process:function(){z.set("s53");e.N();R.l(d.ba,!1);z.set("s54");for(var w=0;3>w;++w)z.T("u33",1,0),l[w].v(),p[w].h(0),
R.l(!1,!1),z.T("u33",0,1),q[w].v(),l[w].h(0),R.l(!1,!1);z.set("s55");u.v();e.h(0);q[0].h(1);q[1].h(2);q[2].h(3);R.l(!1,!1);u.h(0)},Ya:function(){return u}}}}}(),hc=function(){return{instance:function(a){function b(n){return Z.instance({isFloat:n,width:d.o,isPot:!1,isFlipY:!1})}var d=Object.assign({ra:.1,ha:9,o:128,gain:1,ba:!1},a),e=b(!1),l=b(!1),q=b(!1),u=b(!0);a="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec3 b=vec3(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j).rgb,c+=f;}b/=c,gl_FragColor=vec4(b,1.);}".replace("1.1111",
Math.round((d.ha-1)/2).toFixed(2)).replace("2.2222",(1/d.o).toFixed(6));var p="uniform sampler2D u0,u38;const float f=1.1111;const vec3 g=vec3(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);vec3 c=texture2D(u38,vv0).rgb;float d=a.a*a.a;vec3 b=c.rgb,i=max(g*f,abs(vec3(d)-b*b)),j=sqrt(i);gl_FragColor=vec4(a.a,h*(a.rgb-b)/j);}".replace("1.1111",d.ra.toFixed(4)).replace("2.2222",d.gain.toFixed(4)),k={u1:0};z.mb([{id:"s56",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;const vec3 f=vec3(.2126,.7152,.0722),g=vec3(1.);void main(){vec3 a=texture2D(u1,vv0).rgb;float b=dot(a,f);gl_FragColor=vec4(a.rgb,b);}",
j:k,i:["u1"],precision:"lowp"},{id:"s57",name:"_",g:a,j:k,i:["u1","u33"],precision:"lowp"},{id:"s58",name:"_",g:p,j:{u0:0,u38:1},i:["u0","u38"],precision:"highp"}]);return{process:function(){z.set("s56");e.N();R.l(d.ba,!1);z.set("s57");z.T("u33",1,0);l.v();e.h(0);R.l(!1,!1);z.T("u33",0,1);q.v();l.h(0);R.l(!1,!1);z.set("s58");u.v();e.h(0);q.h(1);R.l(!1,!1);u.h(0)},Ya:function(){return u}}}}}(),ic=function(){return{instance:function(a){function b(w){return Z.instance({isFloat:w,width:d.o,isPot:!1,isFlipY:!1})}
var d=Object.assign({ra:.1,ha:9,o:128,gain:1,Zc:0,bb:!1,ba:!1},a),e=b(!1),l=null,q=null,u=null;d.bb&&(l=b(!1),q=b(!1),u=b(!0));a={u1:0};var p=[{id:"s59",name:"_",g:"uniform sampler2D u1;const float f=1.1111;varying vec2 vv0;const vec3 e=vec3(.2126,.7152,.0722);void main(){vec2 a=vv0*.5*(f+1.);float b=.5*(1.-f),c=dot(texture2D(u1,a).rgb,e),d=dot(texture2D(u1,a+vec2(0.,b)).rgb,e),h=dot(texture2D(u1,a+vec2(b,0.)).rgb,e),i=dot(texture2D(u1,a+vec2(b,b)).rgb,e);gl_FragColor=vec4(c,d,h,i);}".replace("1.1111",
d.Zc.toFixed(4)),j:a,i:["u1"],precision:"lowp"}];if(d.bb){var k="uniform sampler2D u1;const float e=1.1111,g=2.2222;uniform vec2 u33;varying vec2 vv0;void main(){vec4 b=vec4(0.);float c=0.;for(float a=-e;a<=e;a+=1.){vec2 i=u33*a,j=vv0+i*g;float d=1.2*a/e,f=exp(-d*d);b+=f*texture2D(u1,j),c+=f;}gl_FragColor=b/c;}".replace("1.1111",Math.round((d.ha-1)/2).toFixed(2)).replace("2.2222",(1/d.o).toFixed(6)),n="uniform sampler2D u0,u38;const float f=1.1111;const vec4 g=vec4(1.);const float h=2.2222;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u38,vv0),d=a*a,b=c,i=max(g*f,abs(d-b*b)),j=sqrt(i);gl_FragColor=h*(a-b)/j;}".replace("1.1111",
d.ra.toFixed(4)).replace("2.2222",d.gain.toFixed(4));p.push({id:"s60",name:"_",g:k,j:a,i:["u1","u33"],precision:"lowp"},{id:"s61",name:"_",g:n,j:{u0:0,u38:1},i:["u0","u38"],precision:"highp"})}z.mb(p);return{process:function(){z.set("s59");e.N();R.l(d.ba,!1);d.bb?(z.set("s60"),z.T("u33",1,0),l.v(),e.h(0),R.l(!1,!1),z.T("u33",0,1),q.v(),l.h(0),R.l(!1,!1),z.set("s61"),u.v(),e.h(0),q.h(1),R.l(!1,!1),u.h(0)):e.h(0)},Gf:function(){return 2-d.Zc},Ya:function(){return d.bb?u:e}}}}}(),Y={Ud:function(){return Y.zd()?
document.createElement("video"):!1},Xa:function(a,b){a[b]=!0;a.setAttribute(b,"true")},cf:function(){var a=!1,b=navigator.userAgent||navigator.vendor||window.opera;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(b)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(b.substr(0,
4)))a=!0;return a},bf:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},$f:function(){try{return window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(a){return window.innerHeight>window.innerWidth}},Yg:function(){return Y.xd()||Y.bf()},Dg:function(a,b){window.addEventListener("beforeunload",function(){b&&b.getTracks&&b.getTracks().forEach(function(d){b.removeTrack(d)});a.videoStream&&a.videoStream.stop();a.videoStream=null},!1)},xd:function(){var a=navigator.userAgent.toLowerCase();
return-1!==a.indexOf("safari")&&-1===a.indexOf("chrome")?!0:!1},zh:function(){return Y.cf()?Y.$f()?window.innerHeight/window.innerWidth*45:45:45},zd:function(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1},pause:function(a){a.pause()},wi:function(a){a.play()},release:function(a){a.pause();a.videoStream&&a.videoStream.stop();a.videoStream=null},yd:function(a){if(!a)return a;var b=null;if(a.video){var d=function(e){return e&&"object"===typeof e?Object.assign({},e):e};b={};
"undefined"!==typeof a.video.width&&(b.width=d(a.video.width));"undefined"!==typeof a.video.height&&(b.height=d(a.video.height));"undefined"!==typeof a.video.facingMode&&(b.facingMode=d(a.video.facingMode))}b={audio:a.audio,video:b};"undefined"!==typeof a.deviceId&&Y.sd(b,a.deviceId);return b},sd:function(a,b){b&&(a.video=a.video||{},a.video.deviceId={exact:b},a.video.facingMode&&delete a.video.facingMode)},Ke:function(a){var b=a.video.width;a.video.width=a.video.height;a.video.height=b;return a},
hf:function(a){function b(x){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(r,G){return Math.abs(r-x)-Math.abs(G-x)})}function d(x){var r=Y.yd(a);x=x(r);l.push(x);e(x)}function e(x){if(x.video&&x.video.facingMode&&x.video.facingMode.exact){var r=x.video.facingMode.exact;x=Y.yd(x);delete x.video.facingMode.exact;x.video.facingMode.ideal=r;l.push(x)}}var l=[];if(!a||!a.video)return l;e(a);if(a.video.width&&a.video.height){if(a.video.width.ideal&&a.video.height.ideal){var q=
b(a.video.width.ideal).slice(0,3),u=b(a.video.height.ideal).slice(0,3),p={},k=0;for(p.ua=void 0;k<q.length;p={ua:p.ua},++k){p.ua=q[k];var n={},w=0;for(n.ta=void 0;w<u.length;n={ta:n.ta},++w)if(n.ta=u[w],p.ua!==a.video.width.ideal||n.ta!==a.video.height.ideal){var y=Math.max(p.ua,n.ta)/Math.min(p.ua,n.ta);y<4/3-.1||y>16/9+.1||d(function(x,r){return function(G){G.video.width.ideal=x.ua;G.video.height.ideal=r.ta;return G}}(p,n))}}}d(function(x){return Y.Ke(x)})}a.video.width&&a.video.height&&(a.video.width.ideal&&
a.video.height.ideal&&d(function(x){delete x.video.width.ideal;delete x.video.height.ideal;return x}),d(function(x){delete x.video.width;delete x.video.height;return x}));a.video.facingMode&&(d(function(x){delete x.video.facingMode;return x}),a.video.width&&a.video.height&&d(function(x){Y.Ke(x);delete x.video.facingMode;return x}));l.push({audio:a.audio,video:!0});return l},me:function(a){a.volume=0;Y.Xa(a,"muted");if(Y.xd()){if(1===a.volume){var b=function(){a.volume=0;window.removeEventListener("mousemove",
b,!1);window.removeEventListener("touchstart",b,!1)};window.addEventListener("mousemove",b,!1);window.addEventListener("touchstart",b,!1)}setTimeout(function(){a.volume=0;Y.Xa(a,"muted")},5)}},Ne:function(a,b,d){return null===a?Promise.resolve():new Promise(function(e,l){if(a.srcObject&&a.srcObject.getVideoTracks){var q=a.srcObject.getVideoTracks();1!==q.length?l("INVALID_TRACKNUMBER"):(q=q[0],b?Y.get(a,e,l,d):(q.stop(),e()))}else l("BAD_IMPLEMENTATION")})},Sd:function(a,b,d,e){function l(u){q||(q=
!0,d(u))}var q=!1;return navigator.mediaDevices.getUserMedia(e).then(function(u){function p(){setTimeout(function(){if(a.currentTime){var n=a.videoHeight;if(0===a.videoWidth||0===n)l("VIDEO_NULLSIZE");else{n={af:null,Bg:null,eg:null};try{var w=u.getVideoTracks()[0];w&&(n.eg=w,n.af=w.getCapabilities(),n.Bg=w.getSettings())}catch(y){}q||(Y.Dg(a,u),b(a,u,n))}}else l("VIDEO_NOTSTARTED")},700)}function k(){a.removeEventListener("loadeddata",k,!1);var n=a.play();Y.me(a);"undefined"===typeof n?p():n.then(function(){p()}).catch(function(){l("VIDEO_PLAYPROMISEREJECTED")})}
"undefined"!==typeof a.srcObject?a.srcObject=u:(a.src=window.URL.createObjectURL(u),a.videoStream=u);Y.me(a);a.addEventListener("loadeddata",k,!1)}).catch(function(u){l(u)})},Nf:function(a,b){var d=b||Y.Ud();return new Promise(function(e,l){Y.get(d,e,l,a)})},get:function(a,b,d,e){if(!a)return d&&d("VIDEO_NOT_PROVIDED"),!1;if(!Y.zd())return d&&d("MEDIASTREAMAPI_NOT_FOUND"),!1;Y.Xa(a,"autoplay");Y.Xa(a,"playsinline");e&&e.audio?a.volume=0:Y.Xa(a,"muted");Y.ef(e).then(function(){Y.Sd(a,b,function(){function l(u){if(0===
u.length)d("NO_VALID_MEDIASTREAM_FALLBACK_CONSTRAINTS");else{var p=u.shift();Y.Sd(a,b,function(){l(u)},p)}}var q=Y.hf(e);l(q)},e)})},ef:function(a){if(!a||!a.video||!a.video.facingMode)return Promise.resolve("NO_VIDEO_CONSTRAINTS");if(a.video.deviceId)return Promise.resolve("DEVICEID_ALREADY_SET");var b=a.video.facingMode;b=b.exact||b.ideal;if(!b)return Promise.resolve("NO_FACINGMODE");var d={user:[],environment:["camera2 0"]}[b];return d&&0!==d.length?new Promise(function(e){Y.Td(function(l){l?(l=
l.find(function(q){var u=q.label;return u?d.some(function(p){return u.includes(p)}):!1}))?(a.video.deviceId={exact:l.deviceId},e("SUCCESS")):e("NO_PREFERRED_DEVICE_FOUND"):e("NO_DEVICES_FOUND")})}):Promise.resolve("NO_PREFERRED_CAMERAS")},Td:function(a){if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return a(!1,"NOTSUPPORTED"),!1;navigator.mediaDevices.enumerateDevices().then(function(b){(b=b.filter(function(d){return d.kind&&-1!==d.kind.toLowerCase().indexOf("video")&&d.label&&
d.deviceId}))&&b.length&&0<b.length?a(b,!1):a(!1,"NODEVICESFOUND")}).catch(function(){a(!1,"PROMISEREJECTED")})},Xg:function(a,b,d){var e={};e[b]=d;b=[];b.push(e);a.applyConstraints({advanced:b}).catch(function(){})}},oa=function(){function a(E,g,F,K,C,A,h){if(!r)if(h===A.length)C();else{switch(A[h]){case "A":F();break;case "D":E();break;case "S":g().then(function(t,J){G.Zb();a(E,g,F,J?null:K,C,A,++h)}).catch(function(t){console.log("An error occurred in the WebAR loop: ",t);C()});return;case "R":K&&
K()}a(E,g,F,K,C,A,++h)}}var b={n:5,Rc:1,je:0,yb:[35,49],tb:[2,200],k:.7,Mg:200,jg:.05},d=-1,e=null,l=-1,q=-1,u=0,p=-1,k=-1,n=0,w=0,y=b.tb[1],x=Math.log(2),r=!0,G={Kf:function(){switch(d){case -1:return-1;case 0:return k+e.je;case 1:return n}},Fh:function(E){return Math.pow(Math.min(Math.max(p,0),e.n-1)/(e.n-1),E||1)},B:function(E){e=Object.assign({},b,E);p=k=e.Rc;d=0;G.reset()},Zb:function(E){E=("undefined"===typeof E?Date.now():E)||0;var g=Math.min(Math.max(E-w,e.tb[0]),e.tb[1]);y=g;w=E;var F=-1===
l?0:e.k;l=Math.min(Math.max(1E3/g,5),120)*(1-F)+l*F;E-q>e.Mg&&5<++u&&(g=e.k,p=p*(1-g)+(l<e.yb[0]?k-1:l>e.yb[1]?k+1:k)*g,Math.abs(p-k)>1-e.jg&&(g=Math.min(Math.max(Math.round(p),0),e.n-1),g!==k&&(p=k=g,l=(e.yb[1]-e.yb[0])/2)),q=E)},$c:function(E,g,F,K,C,A){r=!1;a(E,g,F,K,C,A,0)},stop:function(){r=!0},bd:function(E){n=E;d=1},nd:function(){d=0;G.reset()},reset:function(){y=b.tb[1];q=l=-1;u=0},Xb:function(E,g,F){F=Math.exp(-x*y/F);return(1-F)*E+F*g},Bf:function(){return y}};return G}(),Na=function(){function a(){d(E+
r.Pc);g.port.postMessage("DONE")}function b(){A.pb=0===r.ob?K(d):K(e)}function d(v){C.Ja&&null!==G&&(v-=E,v=Math.min(Math.max(v,r.Dd[0]),r.Dd[1]),E+=v,q(),h.isEnabled&&h.cb&&C.ca&&E-h.Lc>r.qd&&(n(),h.Lc=E),G(E))}function e(v){C.Ja&&(A.timeout=setTimeout(d.bind(null,v),r.ob))}function l(){G=null;C.Ja=!1;q()}function q(){A.pb&&(window.cancelAnimationFrame(A.pb),A.pb=null);A.timeout&&(window.clearTimeout(A.timeout),A.timeout=null)}function u(v){v&&!C.ca?(C.ca=!0,F&&oa.nd(),g.port.postMessage("STOP"),
aa.Me(!0),b()):!v&&C.ca&&(C.ca=!1,F&&oa.bd(1),aa.Me(!1),g.port.postMessage("START"))}function p(v){v.target.hidden?J():t()}function k(v,O,N){O=v.createShader(O);v.shaderSource(O,N);v.compileShader(O);return O}function n(){h.cb=!1;var v=h.la,O=h.Cb,N=h.Db,f=h.$;v.uniform1f(h.Vd,Math.random());h.Ka?O.beginQueryEXT(f,N):v.beginQuery(f,N);v.drawElements(v.POINTS,1,v.UNSIGNED_SHORT,0);h.Ka?O.endQueryEXT(f):v.endQuery(f);aa.flush();y().then(function(m){0===m||isNaN(m)?(h.isEnabled=!1,console.log("WARNING in benchmark_GPUClock: WebGL timer queries is not working properly. timeElapsedNs =",
m)):(m=r.Pe*r.pd*1E3/m,h.bc=(h.bc+1)%r.Oa,h.Mc[h.bc]=m,++h.ie>r.Oa&&(h.Ib.set(h.Mc),h.Ib.sort(function(I,M){return I-M}),m=h.Ib[Math.floor(r.Oa/2)],h.wb=Math.max(h.wb,m),r.cc(m/h.wb)),h.cb=!0)}).catch(function(){h.cb=!0})}function w(v){var O=h.la,N=h.Cb,f=h.Db;f=h.Ka?N.Ch(f,N.QUERY_RESULT_AVAILABLE_EXT):O.getQueryParameter(f,O.QUERY_RESULT_AVAILABLE);O=O.getParameter(N.GPU_DISJOINT_EXT);f?v(!O):setTimeout(w.bind(null,v),.1)}function y(){return new Promise(function(v,O){w(function(N){if(N){N=h.la;
var f=h.Cb,m=h.Db;N=h.Ka?f.getQueryObjectEXT(m,f.QUERY_RESULT_EXT):N.getQueryParameter(m,N.QUERY_RESULT);v(N)}else O()})})}var x={de:!0,Dd:[1,200],Pc:20,ob:0,pd:50,Pe:240,qd:3E3,Oa:3,cc:null},r=null,G=null,E=0,g=null,F=!1,K=null,C={Ba:!1,ca:!0,Ec:!1,Cc:!1,Bc:!1,Ja:!1},A={pb:null,timeout:null},h={isEnabled:!1,cb:!1,la:null,Cb:null,Db:null,$:null,Vd:null,Ka:!0,Lc:0,ie:0,Mc:null,Ib:null,bc:0,wb:0},t=u.bind(null,!0),J=u.bind(null,!1),L={B:function(v){r=Object.assign(x,v);Object.assign(C,{ca:!0,Ba:!0,
Ja:!1});K=window.requestPostAnimationFrame||window.requestAnimationFrame;if(null!==r.cc){v=document.createElement("canvas");v.setAttribute("width","1");v.setAttribute("height","1");var O={antialias:!1};v=v.getContext("webgl2",O)||v.getContext("webgl",O);if(O=v.getExtension("EXT_disjoint_timer_query")||v.getExtension("EXT_disjoint_timer_query_webgl2")){h.la=v;h.Cb=O;h.isEnabled=!0;h.Ka=O.beginQueryEXT?!0:!1;var N=k(v,v.VERTEX_SHADER,"attribute vec4 a0;void main(){gl_Position=a0;}"),f=k(v,v.FRAGMENT_SHADER,
"precision lowp float;uniform float u39;void main(){vec4 a=u39*vec4(1.,2.,3.,4.);for(int b=0;b<666;b+=1)a=cos(a);gl_FragColor=a;}".replace("666",r.pd.toString())),m=v.createProgram();v.attachShader(m,N);v.attachShader(m,f);v.linkProgram(m);N=v.getAttribLocation(m,"a0");h.Vd=v.getUniformLocation(m,"u39");v.useProgram(m);v.enableVertexAttribArray(N);m=v.createBuffer();v.bindBuffer(v.ARRAY_BUFFER,m);v.bufferData(v.ARRAY_BUFFER,new Float32Array([.5,.5,0,1]),v.STATIC_DRAW);v.vertexAttribPointer(N,4,v.FLOAT,
!1,16,0);m=v.createBuffer();v.bindBuffer(v.ELEMENT_ARRAY_BUFFER,m);v.bufferData(v.ELEMENT_ARRAY_BUFFER,new Uint16Array([0]),v.STATIC_DRAW);v.disable(v.DEPTH_TEST);v.disable(v.DITHER);v.disable(v.STENCIL_TEST);v.viewport(0,0,1,1);m=h.Ka?O.createQueryEXT():v.createQuery();h.Db=m;h.$=O.TIME_ELAPSED_EXT||v.TIME_ELAPSED;h.Lc=-r.qd;h.Mc=new Float32Array(r.Oa);h.Ib=new Float32Array(r.Oa);h.wb=0;h.bc=0;h.ie=0;h.cb=!0}}if(r.de){v=!1;try{if("undefined"===typeof SharedWorker){var I=URL.createObjectURL(new Blob(["let handler = null;\n      self.addEventListener('message', function(e){\n        if (handler !== null){\n          clearTimeout(handler);\n          handler = null;\n        }\n        switch (e.data) {\n          case 'START':\n          case 'DONE':\n            handler = setTimeout(function(){\n              self.postMessage('TICK');\n            }, "+
r.Pc.toString()+");\n            break;\n          case 'STOP':\n            break;\n        };\n      }, false);"],{type:"text/javascript"})),M=new Worker(I);M.addEventListener("message",a);g={se:M,port:M};C.Ec=!0}else{var P=URL.createObjectURL(new Blob(["let handler = null;\n      onconnect = function(e) {\n        const port = e.ports[0];\n        port.addEventListener('message', function(e) {\n          \n          if (handler !== null){\n            clearTimeout(handler);\n            handler = null;\n          }\n          switch (e.data) {\n            case 'START':\n            case 'DONE':\n              handler = setTimeout(function(){\n                port.postMessage('TICK');\n              }, "+
r.Pc.toString()+");\n              break;\n            case 'STOP':\n              break;\n          };\n          \n        });\n        \n        port.start();\n      } // end onconnect()"],{type:"text/javascript"})),ha=new SharedWorker(P);ha.port.start();ha.port.addEventListener("message",a);g={se:ha,port:ha.port};C.Cc=!0}v=!0}catch(xa){}v&&("onvisibilitychange"in document?document.addEventListener("visibilitychange",p):(window.addEventListener("blur",J),window.addEventListener("focus",t)),window.addEventListener("pagehide",
J),window.addEventListener("pageshow",t),C.Bc=!0)}F="undefined"!==typeof oa},m:function(){l();C.Bc&&("onvisibilitychange"in document?document.removeEventListener("visibilitychange",p):(window.removeEventListener("blur",J),window.removeEventListener("focus",t)),window.removeEventListener("pagehide",J),window.removeEventListener("pageshow",t),C.Bc=!1);C.Cc?(g.port.close(),C.Cc=!1):C.Ec&&(g.se.terminate(),C.Ec=!1);Object.assign(C,{ca:!0,Ba:!1,Ja:!1});G=null},bg:function(){return C.ca},update:function(v){Object.assign(r,
v)},$c:function(v){C.Ba||L.B({});q();C.Ja=!0;G=v;C.ca&&b()},stop:l};return L}(),Ra=function(){function a(y,x){var r=y[0]-.5;y=y[1]-.5;var G=x[0]-.5;x=x[1]-.5;return r*r+y*y-(G*G+x*x)}var b={pe:4,Qb:[1.5,1.5,2],X:[.1,.1,.1],ye:1,o:-1,F:-1,Hg:2,ig:1,ad:!0,qf:.8},d=null,e=[],l=[],q=[],u=[0],p=[.5,.5,1],k=null,n=0,w=[0,0,0];return{B:function(y){d=Object.assign({},b,y);e.splice(0);l.splice(0);q.splice(0);n=0;y=d.Qb[0]*d.X[0];var x=d.Qb[1]*d.X[1],r=1/(1+d.Qb[2]*d.X[2]),G=d.ye*Math.min(d.o,d.F),E=G/d.o;
G/=d.F;var g=.5*d.qf;g*=g;for(var F=0;F<d.pe;++F){var K=[];l.push(K);var C=Math.pow(r,F),A=E*C,h=G*C;C=A*d.ig;q.push(C);var t=A*y,J=h*x;A/=2;h/=2;for(var L=1+(1-A-A)/t,v=1+(1-h-h)/J,O=0;O<v;++O)for(var N=h+O*J,f=N-.5,m=0;m<L;++m){var I=A+m*t,M=I-.5;M*M+f*f>g||(I=[I,N,C],e.push(I),K.push(I))}d.ad&&K.sort(a);k=e}d.ad&&e.sort(a)},get:function(y){var x=k.length;if(0===x)return p;for(;y>=u.length;)u.push(0);u[y]>=x&&(u[y]=0);var r=k[Math.floor(u[y])%x];u[y]=(u[y]+1/d.Hg)%x;if(0===n)return r;w[0]=r[0];
w[1]=r[1];w[2]=n;return w},pi:function(y){y>=u.length||(u[y]=Math.floor(Math.random()*k.length))},cd:function(y){n=y;if(0===n)k=e;else{for(var x=q.length,r=x-1,G=0;G<x;++G)if(q[G]<=y){r=G;break}k=l[r]}},reset:function(){for(var y=e.length/u.length,x=0;x<u.length;++x)u[x]=Math.floor(x*y);n=0;k=e}}}(),fa=function(){function a(g,F,K,C){return Math.max(0,K>g?g+F/2-(K-C/2):K+C/2-(g-F/2))}function b(g){return!p.$d(g)}function d(g,F,K){for(var C=g.length;G.length<C;)G.push({oa:[0,0],Jb:[0,0],ia:[0,0],Fa:0,
scale:0,Va:0,jb:0});C=g.length;for(var A=0;A<C;++A){var h=g[A],t=G[A],J=F[A].rz,L=Math.cos(J),v=Math.sin(J);t.Fa=J;t.Va=L;t.jb=v;t.ia[0]=h.x;t.ia[1]=h.y/K;t.scale=h.S;t.oa[0]=h.S*p.Ed[0];t.oa[1]=h.S*p.Ed[1];t.Jb[0]=t.oa[0]*t.oa[0];t.Jb[1]=t.oa[1]*t.oa[1]}}function e(g,F,K){var C=Math.abs(-g.jb*(K-g.ia[1])-g.Va*(F-g.ia[0]));F=Math.abs(g.Va*(K-g.ia[1])-g.jb*(F-g.ia[0]));return 1>=C*C/g.Jb[0]+F*F/g.Jb[1]}function l(g,F,K,C){var A=g[K];d(g,F,C);var h=G[K];return g.some(function(t,J){if(!(t=J===K||A.Ca>
t.Ca||3>t.Ca||!(0<a(A.x,A.S*r,t.x,t.S*r))||!(0<a(A.y,A.S*C*r,t.y,t.S*C*r)))){t=G[J];h.scale>t.scale?J=h:(J=t,t=h);for(var L=0,v=0,O=p.rf,N=0;N<O;++N)for(var f=((N+.5)/O*2-1)*t.oa[1],m=0;m<O;++m){var I=((m+.5)/O*2-1)*t.oa[0],M=t.ia[0]+(-f*t.jb+I*t.Va);I=t.ia[1]+(f*t.Va+I*t.jb);e(t,M,I)&&(++L,e(J,M,I)&&++v)}t=v/L<p.le}return t?!1:!0})}function q(g){return g.isDetected}var u={U:1,le:.3,Ed:[1,1],rf:6,ze:.3,$d:null,Xf:!0},p=null,k=0,n=null,w=!1,y=0,x=0,r=Math.sqrt(2),G=[],E={B:function(g){p=Object.assign({},
u,g);n=[0]},he:function(){return 1!==p.U},Qd:function(){return k},Fc:function(){return w},za:function(){return p.U},Uh:function(){return n},ag:function(g){return n.includes(g)},update:function(g,F){var K=n;if(K.length>g)K.splice(0,K.length-g);else for(;K.length<g;)K.push(0);if(1!==p.U)if(F.every(b)){F=y;for(var C=0;C<g;++C)K[C]=F,F=(F+1)%p.U;y=F}else{C=Math.round(p.ze*g);C=Math.max(1,C);for(var A=y,h=0,t=0;h<g;++h){if(b(F[A])&&++t>C){do++A===p.U&&(A=0);while(b(F[A]))}K[h]=A;A=(A+1)%p.U}y=A}},Zb:function(g){k=
n[g];x=(.5+k)/p.U;w=n.lastIndexOf(k)===g;return k},Eg:function(g,F,K){return 1===p.U?!1:l(g,F,k,K)},Le:function(g){p.Xf&&1===p.U||z.J(g,x)},vf:function(g){return g.find(q)},Ah:function(g){return g.findIndex(q)},yh:function(g){var F=E.vf(g);if(!F||g.every(q))return Ra.cd(0),!1;Ra.cd(F.s);return!0},pf:function(g){for(var F=new Float32Array(g.length*p.U),K=0,C;K<p.U;++K)for(C=0;C<g.length;++C)F[K*g.length+C]=g[C];return F},qc:function(g){for(var F=[],K=0;K<p.U;++K){var C=F,A=C.push,h=void 0,t=g,J={};
for(h in t){var L=h;var v=t[h];var O=typeof v;v=["string","boolean","number"].includes(O)?v:"object"!==O?null:ArrayBuffer.isView(v)?v.slice():JSON.parse(JSON.stringify(v));J[L]=v}A.call(C,J)}return F}};return E}(),Hb=function(){var a={Tf:!0,isLinear:!0,Qc:[4,11]};return{tf:function(b,d,e){return d.isDetected?Math.floor(d.s*b):(b=Math.floor(Math.log2(b/4)),b=Math.min(Math.max(b,4),9),Math.max(e,Math.pow(2,b)))},instance:function(b){var d=Object.assign({},a,b),e=[],l=null,q=-1,u=null,p=!1;for(b=d.Qc[0];b<=
d.Qc[1];++b)e[b]=null;return{N:function(k,n){n!==q&&(l&&l.remove(),l=Z.instance({isLinear:d.isLinear,isPot:!0,width:n}));if(p=d.Tf&&n<.5*k){k=Math.floor(Math.log2(k));var w=d.Qc;k=Math.min(Math.max(k,w[0]),w[1]);w=k;if(!e[w]){var y=Z.instance({isPot:!0,isMipmap:!0,ee:!0,width:Math.pow(2,w)});e[w]={D:y,ke:-1}}k=e[k];u=k.D;k.ke!==n&&(w=Math.log2(n),u.h(0),u.Ee(w),Ea.O(0),k.ke=n)}else u=l;q=n;u.N()},h:function(k){u.h(k);p&&u.zb()},wa:function(k){u.wa(k)},remove:function(){l&&l.remove();e.forEach(function(k){k&&
k.D.remove()})}}}}}(),qa={neuralNetworkPath:"NN_FACE_3.json",va:0,qg:{threshold:.75,nDetectsPerLoop:0,nDetectsPerLoopRange:[1,5],nScaleLevels:3,scale0Factor:.8,overlapFactors:[2,2,4],scanCenterFirst:!0,maxFaceWinScale:1,translationScalingFactors:[.07,.07,.15],antialias:!1,isCleanGLStateAtEachIteration:!0,enableAsyncReadPixels:!1,readPixelsAsyncDelay:1,animateProcessOrder:"SADR"},Jg:50,gg:.4,fg:8,hg:.25,Gg:{translationFactorRange:[.0015,.005],rotationFactorRange:[.12,
.25],qualityFactorRange:[.85,.95],alphaRange:[.05,.9],followZRotAlphaFactor:.01,lightingRelaxationTime:1E3},Re:.2,Se:2,Og:20,Fg:8},wa={facingMode:"user",idealWidth:800,idealHeight:600,minWidth:480,maxWidth:1920,minHeight:480,maxHeight:1920,rotate:0},ba={gb:-1,error:-2,hb:0,Ie:1,play:2,pause:3,Kb:4},da=ba.hb,yb=!1,jb=!1,B=null,oc={eb:!1,ae:!1,gd:null,element:null,D:null,H:[0,0],A:[.5,0,0,.5],ea:[.5,0,0,.5],Sb:0,Ta:null,Gb:!1},V=null,pc={Sa:null,hc:null,dc:"./",lb:null,Y:null,va:qa.va,oi:qa.va,ya:!0,
Dc:!0},bb=null,Ma=[-1,-1],Ga=null,ea=null,ua=null,T=null,qc={o:0,F:0,fc:1,H:[0,0],Za:null},pb=0,Q={size:0,da:null,kb:null,buffer:null,qa:null,X:null,fd:null,ab:!1},Qa=null,ta=null,nb=null,Aa=-1,la={labels:[],Nb:0,Tc:0,rc:1,wd:!1},ma={Lb:{li:3,Wb:1,Li:0},mode:3,Bd:0,xa:{ub:1,tc:0}},cb={VERSION:"1.11.0",init:function(a){function b(){jb||da===ba.hb||da===ba.error||2!==++e||(Lb(),null!==B.element&&(Ta(),Sa()),yb=!0,V.Sa&&V.Sa(!1,{GL:c,canvasElement:V.Y,video:B.element,videoTexture:B.D?B.D.get():null,
videoTransformMat2:B.A,maxFacesDetected:fa.za(),landmarksLabels:la.labels}),Wa())}if(da!==ba.hb)return a.callbackReady&&a.callbackReady("ALREADY_INITIALIZED"),!1;da=ba.gb;B=Object.assign({},oc);V=Object.assign({},pc);T=Object.assign({},qc);Q.qa=[0,0,0];!function(t){if(false&&false)module.exports=t();else if(false&&false)define([],t);else{("undefined"!=typeof window?window:false?global:"undefined"!=typeof self?self:this).zyp=t()}}(function(){return function(){return function t(r,e,o){function n(i,a){if(!e[i]){if(!r[i]){var u=false;if(!a&&u)return u(i,!0);if(s)return s(i,!0);var h=new Error("Cannot find module '"+i+"'");throw h.code="MODULE_NOT_FOUND",h}var f=e[i]={exports:{}};r[i][0].call(f.exports,function(t){return n(r[i][1][t]||t)},f,f.exports,t,r,e,o)}return e[i].exports}for(var s=false,i=0;i<o.length;i++)n(o[i]);return n}}()({1:[function(t,r,e){Object.defineProperty(e,"zzB",{value:!0}),e.default=e.zzZ3=void 0;var o=t("./zzz3/zz04"),n=t("zz14");function s(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i=function t(r){var e=r.shift();if(0===r.length)return new Float32Array(e);for(var o=Array(e),n=0;n<e;++n)o[n]=t(r.slice(0));return o},a=function(t,r){var e=t[0][0]+t[1][1]+t[2][2],o=t[0][0],n=t[1][0],s=t[2][0],i=t[0][1],a=t[1][1],u=t[2][1],h=t[0][2],f=t[1][2],c=t[2][2],l=0,v=0,m=0,g=0;if(e>0){var w=.5/Math.sqrt(e+1);l=.25/w,v=(f-u)*w,m=(s-h)*w,g=(i-n)*w}else if(o>a&&o>c){var p=2*Math.sqrt(1+o-a-c);l=(f-u)/p,v=.25*p,m=(n+i)/p,g=(s+h)/p}else if(a>c){var y=2*Math.sqrt(1+a-o-c);l=(s-h)/y,v=(n+i)/y,m=.25*y,g=(u+f)/y}else{var d=2*Math.sqrt(1+c-o-a);l=(i-n)/d,v=(s+h)/d,m=(u+f)/d,g=.25*d}r[0]=v,r[1]=m,r[2]=g,r[3]=l};e.zzZ3=a;var u=function(){function t(r){var e=r.cameraFocals,n=void 0===e?[1,1]:e,s=r.zz32,a=void 0===s?9:s;!function(t,r){if(!(t instanceof r))throw new Error()}(this,t),this.rMat=o.Matrix.zzJ1(3,3),this.tVec=[0,0,0],this.zyp14(n),this.zz32=a,this.zz42=new Float32Array,this.us=new Float32Array,this.zz52=new Float32Array,this.zz62=new Float32Array,this.zz72=0,this.zz82=0,this.zz92=o.Matrix.zzG1(4,3),this.zzA2=o.Matrix.zzG1(4,3),this.zzk3=0;this.mem={dv:i([4,6,3]),v:new Uint8Array([11,10,9,8]),zzX3:i([4,4]),zzW3Dets:i([4,2]),Rs:i([4,3,3]),ts:i([4,3]),CC:o.Matrix.zzG1(3,3),L6x4:o.Matrix.zzG1(6,4),L6x3:o.Matrix.zzG1(6,3),L6x5:o.Matrix.zzG1(6,5),A:o.Matrix.zzG1(6,4),B:o.Matrix.zzG1(6,1),zzG141:o.Matrix.zzG1(4,1),pc0:new Float32Array(3),pw0:new Float32Array(3),ABt:o.Matrix.zzG1(3,3),L6x10:o.Matrix.zzG1(6,10),zzY3:o.Matrix.zzG1(6,1),zzm3:null,U3:o.Matrix.zzG1(3,3),U12:o.Matrix.zzG1(12,12)},this.zzB2={PW0:null,tPW0:null,M:null,tM:null},this.zzV3={zzl3:-1,zyp13:!1,R:null,t:null,repError:-1,q:new Float32Array(4)}}var r,e,u;return r=t,(e=[{key:"solve",value:function(t,r){this.zzV3.zyp13=!1;var e=t.length;if(e!==r.length||e<4)throw new Error();this.zzk1(e);for(var o=0;o<e;++o)this.zzl1(t[o],r[o],o);return this.zzj1(),this.zzV3}},{key:"zyp14",value:function(t){this.fu=t[0],this.fv=t[1]}},{key:"zzk1",value:function(t){this.zz82!==t&&(this.zzB2.PW0=o.Matrix.zzG1(t,3),this.zzB2.tPW0=o.Matrix.zzG1(3,t),this.zzB2.M=o.Matrix.zzG1(2*t,12),this.zzB2.tM=o.Matrix.zzG1(12,2*t),this.zz82=t),this.zz72<t&&(this.zz42=new Float32Array(3*t),this.us=new Float32Array(2*t),this.zz52=new Float32Array(4*t),this.zz62=new Float32Array(3*t),this.zz72=t)}},{key:"zzl1",value:function(t,r,e){var o=this.zz42,n=this.us;o[3*e]=t[0],o[3*e+1]=t[1],o[3*e+2]=t[2],n[2*e]=r[0],n[2*e+1]=r[1]}},{key:"zzm1",value:function(){var t=this.zz92,r=this.zz82,e=this.zz42,s=this.zzB2,i=s.PW0,a=s.tPW0,u=this.mem.U3;t.set(0,0,0),t.set(0,1,0),t.set(0,2,0);for(var h=0;h<r;++h)for(var f=0;f<3;++f)t.zzn3(0,f,e[3*h+f]);for(var c=0;c<3;++c)t.mulComponent(0,c,1/r);for(var l=0;l<r;++l)for(var v=0;v<3;++v)i.set(l,v,e[3*l+v]-t.get(0,v));i.zz012(a),a.zzr2(i,u);var m=u,g=(0,o.zz92)(m,{zzZ2:!1,zzj3:0});g.U.zz012(u);for(var w=u,p=g.s,y=1;y<4;++y)for(var d=(0,n.zzr3)(p[y-1]/r),b=0;b<3;++b)t.set(y,b,t.get(0,b)+d*w.get(y-1,b))}},{key:"zzn1",value:function(){for(var t=this.zz42,r=this.zz52,e=this.zz92,n=this.zz82,s=this.mem.CC,i=0;i<3;++i)for(var a=1;a<4;++a)s.set(i,a-1,e.get(a,i)-e.get(0,i));for(var u=(0,o.inverse2)(s,!0,20),h=0;h<n;++h){for(var f=3*h,c=4*h,l=0;l<3;++l)r[c+1+l]=u.get(l,0)*(t[f]-e.get(0,0))+u.get(l,1)*(t[f+1]-e.get(0,1))+u.get(l,2)*(t[f+2]-e.get(0,2));r[c]=1-r[c+1]-r[c+2]-r[c+3]}}},{key:"zzLM",value:function(t,r,e,o,n){for(var s=this.zz52,i=this.fu,a=this.fv,u=0;u<4;++u){var h=s[e+u];t.set(r,3*u,h*i),t.set(r,3*u+1,0),t.set(r,3*u+2,-o*h),t.set(r+1,3*u,0),t.set(r+1,3*u+1,h*a),t.set(r+1,3*u+2,-n*h)}}},{key:"zzp1",value:function(t,r){for(var e=this.mem,o=e.dv,s=e.v,i=0;i<4;++i)for(var a=0,u=1,h=0;h<6;++h)o[i][h][0]=t.get(s[i],3*a)-t.get(s[i],3*u),o[i][h][1]=t.get(s[i],3*a+1)-t.get(s[i],3*u+1),o[i][h][2]=t.get(s[i],3*a+2)-t.get(s[i],3*u+2),++u>3&&(u=++a+1);for(var f=0;f<6;++f)r.set(f,0,(0,n.zzs3)(o[0][f],o[0][f])),r.set(f,1,2*(0,n.zzs3)(o[0][f],o[1][f])),r.set(f,2,(0,n.zzs3)(o[1][f],o[1][f])),r.set(f,3,2*(0,n.zzs3)(o[0][f],o[2][f])),r.set(f,4,2*(0,n.zzs3)(o[1][f],o[2][f])),r.set(f,5,(0,n.zzs3)(o[2][f],o[2][f])),r.set(f,6,2*(0,n.zzs3)(o[0][f],o[3][f])),r.set(f,7,2*(0,n.zzs3)(o[1][f],o[3][f])),r.set(f,8,2*(0,n.zzs3)(o[2][f],o[3][f])),r.set(f,9,(0,n.zzs3)(o[3][f],o[3][f]))}},{key:"zzq1",value:function(t){var r=this.zz92;t.set(0,0,(0,n.zzq3)(r,0,1)),t.set(1,0,(0,n.zzq3)(r,0,2)),t.set(2,0,(0,n.zzq3)(r,0,3)),t.set(3,0,(0,n.zzq3)(r,1,2)),t.set(4,0,(0,n.zzq3)(r,1,3)),t.set(5,0,(0,n.zzq3)(r,2,3))}},{key:"zzr1",value:function(t,r,e){for(var s=this.mem.L6x4,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,3)),s.set(i,3,t.get(i,6));var a=(0,o.zzp3)(s,r,!0,10),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(1,0)/e[0],e[2]=u*a.get(2,0)/e[0],e[3]=u*a.get(3,0)/e[0]}},{key:"zzs1",value:function(t,r,e){for(var s=this.mem.L6x3,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,2));var a=(0,o.zzp3)(s,r,!0,11),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(2,0)>0?(0,n.zzr3)(u*a.get(2,0)):0,e[0]*=(0,n.SIGN)(a.get(1,0)),e[2]=0,e[3]=0}},{key:"zzt1",value:function(t,r,e){for(var s=this.mem.L6x5,i=0;i<6;++i)s.set(i,0,t.get(i,0)),s.set(i,1,t.get(i,1)),s.set(i,2,t.get(i,2)),s.set(i,3,t.get(i,3)),s.set(i,4,t.get(i,4));var a=(0,o.zzp3)(s,r,!0,12),u=(0,n.SIGN)(a.get(0,0));e[0]=(0,n.zzr3)(u*a.get(0,0)),e[1]=u*a.get(2,0)>0?(0,n.zzr3)(u*a.get(2,0)):0,a.get(1,0)<0&&(e[0]*=-1),e[2]=a.get(3,0)/e[0],e[3]=0}},{key:"zzu1",value:function(t,r,e){for(var o=this.mem,n=o.A,s=o.B,i=0;i<this.zz32;++i){this.zzv1(t,r,e,n,s);for(var a=this.zzw1(n,s),u=0;u<4;++u)e[u]+=a.get(u,0)}}},{key:"zzv1",value:function(t,r,e,o,n){for(var s=0;s<6;++s)o.set(s,0,2*t.get(s,0)*e[0]+t.get(s,1)*e[1]+t.get(s,3)*e[2]+t.get(s,6)*e[3]),o.set(s,1,t.get(s,1)*e[0]+2*t.get(s,2)*e[1]+t.get(s,4)*e[2]+t.get(s,7)*e[3]),o.set(s,2,t.get(s,3)*e[0]+t.get(s,4)*e[1]+2*t.get(s,5)*e[2]+t.get(s,8)*e[3]),o.set(s,3,t.get(s,6)*e[0]+t.get(s,7)*e[1]+t.get(s,8)*e[2]+2*t.get(s,9)*e[3]),n.set(s,0,r.get(s,0)-(t.get(s,0)*e[0]*e[0]+t.get(s,1)*e[0]*e[1]+t.get(s,2)*e[1]*e[1]+t.get(s,3)*e[0]*e[2]+t.get(s,4)*e[1]*e[2]+t.get(s,5)*e[2]*e[2]+t.get(s,6)*e[0]*e[3]+t.get(s,7)*e[1]*e[3]+t.get(s,8)*e[2]*e[3]+t.get(s,9)*e[3]*e[3]))}},{key:"zzw1",value:function(t,r){var e=null;return this.mem.zzm3?(e=this.mem.zzm3).update(t):(e=new o.zzT2(t),this.mem.zzm3=e),e.zzY1()?e.solve(r):this.mem.zzG141}},{key:"zzx1",value:function(t,r){for(var e=this.zzA2,o=0;o<4;++o)e.set(o,0,0),e.set(o,1,0),e.set(o,2,0);for(var n=0;n<4;++n)for(var s=0;s<4;++s)for(var i=0;i<3;++i)e.zzn3(s,i,t[n]*r.get(11-n,3*s+i))}},{key:"zzy1",value:function(){for(var t=this.zzA2,r=this.zz82,e=this.zz52,o=this.zz62,n=0;n<r;++n)for(var s=4*n,i=3*n,a=0;a<3;++a)o[i+a]=e[s]*t.get(0,a)+e[s+1]*t.get(1,a)+e[s+2]*t.get(2,a)+e[s+3]*t.get(3,a)}},{key:"zzz1",value:function(){var t=this.zz62,r=this.zz82,e=this.zzA2;if(t[2]<0){for(var o=0;o<4;++o)for(var n=0;n<3;++n)e.mulComponent(o,n,-1);for(var s=0;s<r;++s)t[3*s]=-t[3*s],t[3*s+1]=-t[3*s+1],t[3*s+2]=-t[3*s+2]}}},{key:"zz02",value:function(t,r){var e=this.zz62,s=this.zz42,i=this.zz82,a=this.mem,u=a.pc0,h=a.pw0,f=a.ABt;f.zzi3();for(var c=0;c<i;++c)for(var l=0;l<3;++l)u[l]+=e[3*c+l],h[l]+=s[3*c+l];for(var v=0;v<3;++v)u[v]/=i,h[v]/=i;for(var m=0;m<i;++m)for(var g=0;g<3;++g)f.zzn3(g,0,(e[3*m+g]-u[g])*(s[3*m]-h[0])),f.zzn3(g,1,(e[3*m+g]-u[g])*(s[3*m+1]-h[1])),f.zzn3(g,2,(e[3*m+g]-u[g])*(s[3*m+2]-h[2]));for(var w=(0,o.zz92)(f,{zzj3:2}),p=w.U,y=w.V,d=0;d<3;++d)for(var b=0;b<3;++b)t[d][b]=(0,n.zzs3)(p.zzM(d),y.zzM(b));var M=new o.Matrix(t),x=(0,o.zzU1)(M);return x<=0&&(t[2][0]*=-1,t[2][1]*=-1,t[2][2]*=-1),r[0]=u[0]-(0,n.zzs3)(t[0],h),r[1]=u[1]-(0,n.zzs3)(t[1],h),r[2]=u[2]-(0,n.zzs3)(t[2],h),x}},{key:"zz12",value:function(t,r){for(var e=0,o=this.zz82,s=this.fu,i=this.fv,a=this.zz42,u=this.us,h=0;h<o;++h){var f=a.slice(3*h,3*h+3),c=(0,n.zzs3)(t[0],f)+r[0],l=(0,n.zzs3)(t[1],f)+r[1],v=1/((0,n.zzs3)(t[2],f)+r[2]),m=s*c*v,g=i*l*v,w=u[2*h],p=u[2*h+1];e+=(0,n.zzr3)((w-m)*(w-m)+(p-g)*(p-g))}return e/o}},{key:"zz22",value:function(t,r,e,o,n){this.zzx1(r,t),this.zzy1(),this.zzz1(),n[1]=this.zz02(e,o),n[0]=this.zz12(e,o)}},{key:"zzj1",value:function(){var t=this.zz82,r=this.us,e=this.mem,n=this.zzV3,s=this.zzk3,i=e.L6x10,u=e.zzY3,h=e.zzX3,f=e.zzW3Dets,c=e.Rs,l=e.ts,v=e.U12,m=this.zzB2,g=m.M,w=m.tM;this.zzm1(),this.zzn1();for(var p=0;p<t;++p)this.zzLM(g,2*p,4*p,r[2*p],r[2*p+1]);g.zz012(w),w.zzr2(g,v);var y=v;(0,o.zz92)(y,{zzZ2:!1,zzj3:1}).U.zz012(v);var d=v;this.zzp1(d,i),this.zzq1(u),this.zzr1(i,u,h[0]),this.zzu1(i,u,h[0]),this.zz22(d,h[0],c[0],l[0],f[0]),this.zzs1(i,u,h[1]),this.zzu1(i,u,h[1]),this.zz22(d,h[1],c[1],l[1],f[1]),this.zzt1(i,u,h[2]),this.zzu1(i,u,h[2]),this.zz22(d,h[2],c[2],l[2],f[2]),this.zzu1(i,u,h[3]),this.zz22(d,h[3],c[3],l[3],f[3]),f[3][0]/=1.02;var b=-1;f[0][1]*s>=0&&(b=0),(-1===b||f[1][0]<f[b][0])&&f[1][1]*s>=0&&(b=1),(-1===b||f[2][0]<f[b][0])&&f[2][1]*s>=0&&(b=2),(-1===b||f[3][0]<f[b][0])&&f[3][1]*s>=0&&(b=3),-1===b&&(b=0,f[1][0]<f[b][0]&&(b=1),f[2][0]<f[b][0]&&(b=2),f[3][0]<f[b][0]&&(b=3)),this.zzk3=f[b][1],h[3].set(h[b]);var M=c[b];M[0][2]*=-1,M[1][2]*=-1,M[2][0]*=-1,M[2][1]*=-1,a(M,n.q),n.zzl3=b,n.zyp13=!0,n.repError=f[b][0],n.R=M,n.t=l[b]}}])&&s(r.prototype,e),u&&s(r,u),t}();e.default=u},{"zz14":3,"./zzz3/zz04":4}],2:[function(t,r,e){var o,n=(o=t("./zypSolver"))&&o.zzB?o:{default:o};r.exports={zypSolver:n.default}},{"./zypSolver":1}],3:[function(t,r,e){Object.defineProperty(e,"zzB",{value:!0}),e.zzq3=e.zzs3=e.SIGN=e.zzr3=void 0;var o=Math.sqrt;e.zzr3=o;var n=Math.sign;e.SIGN=n;e.zzs3=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]};e.zzq3=function(t,r,e){var o=t.get(r,0),n=t.get(r,1),s=t.get(r,2),i=t.get(e,0),a=t.get(e,1),u=t.get(e,2);return(o-i)*(o-i)+(n-a)*(n-a)+(s-u)*(s-u)}},{}],4:[function(t,r,e){function o(t,r){if("function"!=typeof r&&null!==r)throw new Error();t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),r&&n(t,r)}function n(t,r){return(n=Object.setPrototypeOf||function(t,r){return t.__proto__=r,t})(t,r)}function s(t){var r=function(){if("undefined"==typeof zzt3||!zzt3.construct)return!1;if(zzt3.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(zzt3.construct(Date,[],function(){})),!0}catch(t){return!1}}();return function(){var e,o=a(t);if(r){var n=a(this).constructor;e=zzt3.construct(o,arguments,n)}else e=o.apply(this,arguments);return i(this,e)}}function i(t,r){return!r||"object"!==c(r)&&"function"!=typeof r?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):r}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,r){if(!(t instanceof r))throw new Error()}function h(t,r){for(var e=0;e<r.length;e++){var o=r[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function f(t,r,e){return r&&h(t.prototype,r),e&&h(t,e),t}function c(t){"@babel/helpers - typeof";return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var l,v;l=void 0,v=function(t){var r=Object.prototype.toString;function e(t){return r.call(t).endsWith("Array]")}function n(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();if(void 0!==o.output){if(!e(o.output))throw new Error();r=o.output}else r=new Array(t.length);var n=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();var o=r.fromIndex,n=void 0===o?0:o,s=r.toIndex,i=void 0===s?t.length:s;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error();if(i<=n||i>t.length||!Number.isInteger(i))throw new Error();for(var a=t[n],u=n+1;u<i;u++)t[u]<a&&(a=t[u]);return a}(t),s=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e(t))throw new Error();if(0===t.length)throw new Error();var o=r.fromIndex,n=void 0===o?0:o,s=r.toIndex,i=void 0===s?t.length:s;if(n<0||n>=t.length||!Number.isInteger(n))throw new Error();if(i<=n||i>t.length||!Number.isInteger(i))throw new Error();for(var a=t[n],u=n+1;u<i;u++)t[u]>a&&(a=t[u]);return a}(t);if(n===s)throw new Error();var i=o.min,a=void 0===i?o.autoMinMax?n:0:i,u=o.max,h=void 0===u?o.autoMinMax?s:1:u;if(a>=h)throw new Error();for(var f=(h-a)/(s-n),c=0;c<t.length;c++)r[c]=(t[c]-n)*f+a;return r}var a=" ".repeat(2),h=" ".repeat(4);function l(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.zzgs,o=void 0===e?15:e,n=r.zzks,s=void 0===n?10:n,i=r.zzo3,u=void 0===i?8:i;return"".concat(t.constructor.name," {\\n").concat(a,"[\\n").concat(h).concat(function(t,r,e,o){for(var n=t.zzk2,s=t.zzj2,i=Math.min(n,r),a=Math.min(s,e),u=[],f=0;f<i;f++){for(var c=[],l=0;l<a;l++)c.push(v(t.get(f,l),o));u.push("".concat(c.join(" ")))}return a!==s&&(u[u.length-1]+=" ... ".concat(s-e," more zzj2")),i!==n&&u.push("... ".concat(n-r," more zzk2")),u.join("\\n".concat(h))}(t,o,s,u),"\\n").concat(a,"]\\n").concat(a,"zzk2: ").concat(t.zzk2,"\\n").concat(a,"zzj2: ").concat(t.zzj2,"\\n}")}function v(t,r){var e=String(t);if(e.length<=r)return e.padEnd(r," ");var o=t.toPrecision(r-2);if(o.length<=r)return o;var n=t.zzP3(r-2),s=n.indexOf("e"),i=n.slice(s);return n.slice(0,r-i.length)+i}function m(t,r,e){var o=e?t.zzk2:t.zzk2-1;if(r<0||r>o)throw new Error()}function g(t,r,e){var o=e?t.zzj2:t.zzj2-1;if(r<0||r>o)throw new Error()}function w(t,r){if(r.zzC&&(r=r.zzC()),r.length!==t.zzj2)throw new Error();return r}function p(t,r){if(r.zzC&&(r=r.zzC()),r.length!==t.zzk2)throw new Error();return r}function y(t,r,e){return{row:function(t,r){if("object"!=c(r))throw new Error();if(r.some(function(r){return r<0||r>=t.zzk2}))throw new Error();return Array.isArray(r)||(r=Array.from(r)),r}(t,r),zz23:function(t,r){if("object"!=c(r))throw new Error();if(r.some(function(r){return r<0||r>=t.zzj2}))throw new Error();return Array.isArray(r)||(r=Array.from(r)),r}(t,e)}}function d(t,r,e,o,n){if(5!==arguments.length)throw new Error();if(M("zz0",r),M("zz1",e),M("zz2",o),M("zz3",n),r>e||o>n||r<0||r>=t.zzk2||e<0||e>=t.zzk2||o<0||o>=t.zzj2||n<0||n>=t.zzj2)throw new Error()}function b(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=[],o=0;o<t;o++)e.push(r);return e}function M(t,r){if("number"!=typeof r)throw new Error("".concat(t," must be a number"))}function x(t){if(t.zzu3())throw new Error()}var k=function(){function t(){u(this,t)}return f(t,[{key:"apply",value:function(t){if("function"!=typeof t)throw new Error();for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.call(this,r,e);return this}},{key:"zzC",value:function(){for(var t=[],r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.push(this.get(r,e));return t}},{key:"zzD",value:function(){for(var t=[],r=0;r<this.zzk2;r++){t.push([]);for(var e=0;e<this.zzj2;e++)t[r].push(this.get(r,e))}return t}},{key:"toJSON",value:function(){return this.zzD()}},{key:"zzE",value:function(){return 1===this.zzk2}},{key:"zzF",value:function(){return 1===this.zzj2}},{key:"zzG",value:function(){return 1===this.zzk2||1===this.zzj2}},{key:"zzH",value:function(){return this.zzk2===this.zzj2}},{key:"zzu3",value:function(){return 0===this.zzk2||0===this.zzj2}},{key:"zzI",value:function(){if(this.zzH()){for(var t=0;t<this.zzk2;t++)for(var r=0;r<=t;r++)if(this.get(t,r)!==this.get(r,t))return!1;return!0}return!1}},{key:"zzJ",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.zzk2&&o;){for(r=0,n=!1;r<this.zzj2&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);t++}return o}},{key:"zzK",value:function(){for(var t=0,r=0,e=-1,o=!0,n=!1;t<this.zzk2&&o;){for(r=0,n=!1;r<this.zzj2&&!1===n;)0===this.get(t,r)?r++:1===this.get(t,r)&&r>e?(n=!0,e=r):(o=!1,n=!0);for(var s=r+1;s<this.zzk2;s++)0!==this.get(t,s)&&(o=!1);t++}return o}},{key:"zzv3",value:function(){for(var t=this.clone(),r=0,e=0;r<t.zzk2&&e<t.zzj2;){for(var o=r,n=r;n<t.zzk2;n++)t.get(n,e)>t.get(o,e)&&(o=n);if(0===t.get(o,e))e++;else{t.zzP(r,o);for(var s=t.get(r,e),i=e;i<t.zzj2;i++)t.set(r,i,t.get(r,i)/s);for(var a=r+1;a<t.zzk2;a++){var u=t.get(a,e)/t.get(r,e);t.set(a,e,0);for(var h=e+1;h<t.zzj2;h++)t.set(a,h,t.get(a,h)-t.get(r,h)*u)}r++,e++}}return t}},{key:"reducedEchelonForm",value:function(){for(var t=this.zzv3(),r=t.zzj2,e=t.zzk2,o=e-1;o>=0;)if(0===t.zzg(o))o--;else{for(var n=0,s=!1;n<e&&!1===s;)1===t.get(o,n)?s=!0:n++;for(var i=0;i<o;i++)for(var a=t.get(i,n),u=n;u<r;u++){var h=t.get(i,u)-a*t.get(o,u);t.set(i,u,h)}o--}return t}},{key:"set",value:function(){throw new Error()}},{key:"get",value:function(){throw new Error()}},{key:"repeat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.zzk2,e=void 0===r?1:r,o=t.zzj2,n=void 0===o?1:o;if(!Number.isInteger(e)||e<=0)throw new Error();if(!Number.isInteger(n)||n<=0)throw new Error();for(var s=new R(this.zzk2*e,this.zzj2*n),i=0;i<e;i++)for(var a=0;a<n;a++)s.zz61(this,this.zzk2*i,this.zzj2*a);return s}},{key:"zzL",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,t);return this}},{key:"neg",value:function(){return this.mulS(-1)}},{key:"zzM",value:function(t){m(this,t);for(var r=[],e=0;e<this.zzj2;e++)r.push(this.get(t,e));return r}},{key:"zzMVector",value:function(t){return R.zzE1(this.zzM(t))}},{key:"zzO",value:function(t,r){m(this,t),r=w(this,r);for(var e=0;e<this.zzj2;e++)this.set(t,e,r[e]);return this}},{key:"zzP",value:function(t,r){m(this,t),m(this,r);for(var e=0;e<this.zzj2;e++){var o=this.get(t,e);this.set(t,e,this.get(r,e)),this.set(r,e,o)}return this}},{key:"zzQ",value:function(t){g(this,t);for(var r=[],e=0;e<this.zzk2;e++)r.push(this.get(e,t));return r}},{key:"zzQVector",value:function(t){return R.zzF1(this.zzQ(t))}},{key:"zzS",value:function(t,r){g(this,t),r=p(this,r);for(var e=0;e<this.zzk2;e++)this.set(e,t,r[e]);return this}},{key:"zzT",value:function(t,r){g(this,t),g(this,r);for(var e=0;e<this.zzk2;e++){var o=this.get(e,t);this.set(e,t,this.get(e,r)),this.set(e,r,o)}return this}},{key:"zzU",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t[e]);return this}},{key:"zzV",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t[e]);return this}},{key:"zzW",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t[e]);return this}},{key:"zzX",value:function(t){t=w(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t[e]);return this}},{key:"zzY",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t[r]);return this}},{key:"zzZ",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t[r]);return this}},{key:"zza",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t[r]);return this}},{key:"zzb",value:function(t){t=p(this,t);for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t[r]);return this}},{key:"zzc",value:function(t,r){m(this,t);for(var e=0;e<this.zzj2;e++)this.set(t,e,this.get(t,e)*r);return this}},{key:"zzd",value:function(t,r){g(this,t);for(var e=0;e<this.zzk2;e++)this.set(e,t,this.get(e,t)*r);return this}},{key:"max",value:function(){if(this.zzu3())return NaN;for(var t=this.get(0,0),r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.get(r,e)>t&&(t=this.get(r,e));return t}},{key:"zze",value:function(){x(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.get(e,o)>t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"min",value:function(){if(this.zzu3())return NaN;for(var t=this.get(0,0),r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.get(r,e)<t&&(t=this.get(r,e));return t}},{key:"zzf",value:function(){x(this);for(var t=this.get(0,0),r=[0,0],e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.get(e,o)<t&&(t=this.get(e,o),r[0]=e,r[1]=o);return r}},{key:"zzg",value:function(t){if(m(this,t),this.zzu3())return NaN;for(var r=this.get(t,0),e=1;e<this.zzj2;e++)this.get(t,e)>r&&(r=this.get(t,e));return r}},{key:"zzgIndex",value:function(t){m(this,t),x(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.zzj2;o++)this.get(t,o)>r&&(r=this.get(t,o),e[1]=o);return e}},{key:"zzi",value:function(t){if(m(this,t),this.zzu3())return NaN;for(var r=this.get(t,0),e=1;e<this.zzj2;e++)this.get(t,e)<r&&(r=this.get(t,e));return r}},{key:"zziIndex",value:function(t){m(this,t),x(this);for(var r=this.get(t,0),e=[t,0],o=1;o<this.zzj2;o++)this.get(t,o)<r&&(r=this.get(t,o),e[1]=o);return e}},{key:"zzk",value:function(t){if(g(this,t),this.zzu3())return NaN;for(var r=this.get(0,t),e=1;e<this.zzk2;e++)this.get(e,t)>r&&(r=this.get(e,t));return r}},{key:"zzkIndex",value:function(t){g(this,t),x(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.zzk2;o++)this.get(o,t)>r&&(r=this.get(o,t),e[0]=o);return e}},{key:"zzm",value:function(t){if(g(this,t),this.zzu3())return NaN;for(var r=this.get(0,t),e=1;e<this.zzk2;e++)this.get(e,t)<r&&(r=this.get(e,t));return r}},{key:"zzmIndex",value:function(t){g(this,t),x(this);for(var r=this.get(0,t),e=[0,t],o=1;o<this.zzk2;o++)this.get(o,t)<r&&(r=this.get(o,t),e[0]=o);return e}},{key:"zzo",value:function(){for(var t=Math.min(this.zzk2,this.zzj2),r=[],e=0;e<t;e++)r.push(this.get(e,e));return r}},{key:"zzp",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"zzw3",r=0;if("max"===t)return this.max();if("zzw3"===t){for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)r+=this.get(e,o)*this.get(e,o);return Math.sqrt(r)}throw new Error("unknown zzp type: ".concat(t))}},{key:"zzq",value:function(){for(var t=0,r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t+=this.get(r,e),this.set(r,e,t);return this}},{key:"dot",value:function(r){t.zzM1(r)&&(r=r.zzC());var e=this.zzC();if(e.length!==r.length)throw new Error();for(var o=0,n=0;n<e.length;n++)o+=e[n]*r[n];return o}},{key:"zzr",value:function(t){t=R.zzL1(t);var r=new R(this.zzk2,t.zzj2);return this.zzr2(t,r),r}},{key:"zzr2",value:function(t,r){var e=this.zzk2,o=this.zzj2,n=t.zzj2;this.Bcolj=this.Bcolj||new Float32Array(o);for(var s=this.Bcolj,i=0;i<n;i++){for(var a=0;a<o;a++)s[a]=t.get(a,i);for(var u=0;u<e;u++){for(var h=0,f=0;f<o;f++)h+=this.get(u,f)*s[f];r.set(u,i,h)}}}},{key:"zzs",value:function(t){t=R.zzL1(t);var r=new R(2,2),e=this.get(0,0),o=t.get(0,0),n=this.get(0,1),s=t.get(0,1),i=this.get(1,0),a=t.get(1,0),u=this.get(1,1),h=t.get(1,1),f=(e+u)*(o+h),c=(i+u)*o,l=e*(s-h),v=u*(a-o),m=(e+n)*h,g=f+v-m+(n-u)*(a+h),w=l+m,p=c+v,y=f-c+l+(i-e)*(o+s);return r.set(0,0,g),r.set(0,1,w),r.set(1,0,p),r.set(1,1,y),r}},{key:"zzt",value:function(t){t=R.zzL1(t);var r=new R(3,3),e=this.get(0,0),o=this.get(0,1),n=this.get(0,2),s=this.get(1,0),i=this.get(1,1),a=this.get(1,2),u=this.get(2,0),h=this.get(2,1),f=this.get(2,2),c=t.get(0,0),l=t.get(0,1),v=t.get(0,2),m=t.get(1,0),g=t.get(1,1),w=t.get(1,2),p=t.get(2,0),y=t.get(2,1),d=t.get(2,2),b=(e-s)*(-l+g),M=(-e+s+i)*(c-l+g),x=(s+i)*(-c+l),k=e*c,S=(-e+u+h)*(c-v+w),E=(-e+u)*(v-w),T=(u+h)*(-c+v),A=(-n+h+f)*(g+p-y),C=(n-f)*(g-y),I=n*p,D=(h+f)*(-p+y),N=(-n+i+a)*(w+p-d),O=(n-a)*(w-d),F=(i+a)*(-p+d),P=k+I+o*m,j=(e+o+n-s-i-h-f)*g+M+x+k+A+I+D,q=k+S+T+(e+o+n-i-a-u-h)*w+I+N+F,V=b+i*(-c+l+m-g-w-p+d)+M+k+I+N+O,z=b+M+x+k+a*y,Q=I+N+O+F+s*v,L=k+S+E+h*(-c+v+m-g-w-p+y)+A+C+I,B=A+C+I+D+u*l,U=k+S+E+T+f*d;return r.set(0,0,P),r.set(0,1,j),r.set(0,2,q),r.set(1,0,V),r.set(1,1,z),r.set(1,2,Q),r.set(2,0,L),r.set(2,1,B),r.set(2,2,U),r}},{key:"zzrStrassen",value:function(r){r=R.zzL1(r);var e=this.clone(),o=e.zzk2,n=e.zzj2,s=r.zzk2,i=r.zzj2;function a(r,e,o){var n=r.zzk2,s=r.zzj2;if(n===e&&s===o)return r;var i=t.zzG1(e,o);return i=i.zz61(r,0,0)}n!==s&&1;var u=Math.max(o,s),h=Math.max(n,i);return function r(e,o,n,s){if(n<=512||s<=512)return e.zzr(o);n%2==1&&s%2==1?(e=a(e,n+1,s+1),o=a(o,n+1,s+1)):n%2==1?(e=a(e,n+1,s),o=a(o,n+1,s)):s%2==1&&(e=a(e,n,s+1),o=a(o,n,s+1));var i=parseInt(e.zzk2/2,10),u=parseInt(e.zzj2/2,10),h=e.zz31(0,i-1,0,u-1),f=o.zz31(0,i-1,0,u-1),c=e.zz31(0,i-1,u,e.zzj2-1),l=o.zz31(0,i-1,u,o.zzj2-1),v=e.zz31(i,e.zzk2-1,0,u-1),m=o.zz31(i,o.zzk2-1,0,u-1),g=e.zz31(i,e.zzk2-1,u,e.zzj2-1),w=o.zz31(i,o.zzk2-1,u,o.zzj2-1),p=r(t.add(h,g),t.add(f,w),i,u),y=r(t.add(v,g),f,i,u),d=r(h,t.sub(l,w),i,u),b=r(g,t.sub(m,f),i,u),M=r(t.add(h,c),w,i,u),x=r(t.sub(v,h),t.add(f,l),i,u),k=r(t.sub(c,g),t.add(m,w),i,u),S=t.add(p,b);S.sub(M),S.add(k);var R=t.add(d,M),E=t.add(y,b),T=t.sub(p,y);T.add(d),T.add(x);var A=t.zzG1(2*S.zzk2,2*S.zzj2);return(A=(A=(A=(A=A.zz61(S,0,0)).zz61(R,S.zzk2,0)).zz61(E,0,S.zzj2)).zz61(T,S.zzk2,S.zzj2)).zz31(0,n-1,0,s-1)}(e=a(e,u,h),r=a(r,u,h),u,h)}},{key:"zzv",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.min,e=void 0===r?0:r,o=t.max,s=void 0===o?1:o;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(s))throw new Error();if(e>=s)throw new Error();for(var i=new R(this.zzk2,this.zzj2),a=0;a<this.zzk2;a++){var u=this.zzM(a);u.length>0&&n(u,{min:e,max:s,output:u}),i.zzO(a,u)}return i}},{key:"zzw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("object"!=c(t))throw new Error();var r=t.min,e=void 0===r?0:r,o=t.max,s=void 0===o?1:o;if(!Number.isFinite(e))throw new Error();if(!Number.isFinite(s))throw new Error();if(e>=s)throw new Error();for(var i=new R(this.zzk2,this.zzj2),a=0;a<this.zzj2;a++){var u=this.zzQ(a);u.length&&n(u,{min:e,max:s,output:u}),i.zzS(a,u)}return i}},{key:"zzx",value:function(){for(var t=Math.ceil(this.zzj2/2),r=0;r<this.zzk2;r++)for(var e=0;e<t;e++){var o=this.get(r,e),n=this.get(r,this.zzj2-1-e);this.set(r,e,n),this.set(r,this.zzj2-1-e,o)}return this}},{key:"zzy",value:function(){for(var t=Math.ceil(this.zzk2/2),r=0;r<this.zzj2;r++)for(var e=0;e<t;e++){var o=this.get(e,r),n=this.get(this.zzk2-1-e,r);this.set(e,r,n),this.set(this.zzk2-1-e,r,o)}return this}},{key:"zzz",value:function(t){t=R.zzL1(t);for(var r=this.zzk2,e=this.zzj2,o=t.zzk2,n=t.zzj2,s=new R(r*o,e*n),i=0;i<r;i++)for(var a=0;a<e;a++)for(var u=0;u<o;u++)for(var h=0;h<n;h++)s.set(o*i+u,n*a+h,this.get(i,a)*t.get(u,h));return s}},{key:"kroneckerSum",value:function(t){if(t=R.zzL1(t),!this.zzH()||!t.zzH())throw new Error();var r=this.zzk2,e=t.zzk2,o=this.zzz(R.zzJ1(e,e)),n=R.zzJ1(r,r).zzz(t);return o.add(n)}},{key:"zz01",value:function(){var t=new R(this.zzj2,this.zzk2);return this.zz012(t),t}},{key:"zz012",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)t.set(e,r,this.get(r,e))}},{key:"zz11",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.zzk2;r++)this.zzO(r,this.zzM(r).sort(t));return this}},{key:"zz21",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,r=0;r<this.zzj2;r++)this.zzS(r,this.zzQ(r).sort(t));return this}},{key:"zz31",value:function(t,r,e,o){d(this,t,r,e,o);for(var n=new R(r-t+1,o-e+1),s=t;s<=r;s++)for(var i=e;i<=o;i++)n.set(s-t,i-e,this.get(s,i));return n}},{key:"zz31Row",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.zzj2-1),r>e||r<0||r>=this.zzj2||e<0||e>=this.zzj2)throw new Error();for(var o=new R(t.length,e-r+1),n=0;n<t.length;n++)for(var s=r;s<=e;s++){if(t[n]<0||t[n]>=this.zzk2)throw new Error("Row index out of range: ".concat(t[n]));o.set(n,s-r,this.get(t[n],s))}return o}},{key:"zz31Column",value:function(t,r,e){if(void 0===r&&(r=0),void 0===e&&(e=this.zzk2-1),r>e||r<0||r>=this.zzk2||e<0||e>=this.zzk2)throw new Error();for(var o=new R(e-r+1,t.length),n=0;n<t.length;n++)for(var s=r;s<=e;s++){if(t[n]<0||t[n]>=this.zzj2)throw new Error("Column index out of range: ".concat(t[n]));o.set(s-r,n,this.get(s,t[n]))}return o}},{key:"zz61",value:function(t,r,e){if((t=R.zzL1(t)).zzu3())return this;d(this,r,r+t.zzk2-1,e,e+t.zzj2-1);for(var o=0;o<t.zzk2;o++)for(var n=0;n<t.zzj2;n++)this.set(r+o,e+n,t.get(o,n));return this}},{key:"zz71",value:function(t,r){for(var e=y(this,t,r),o=new R(t.length,r.length),n=0;n<e.row.length;n++)for(var s=e.row[n],i=0;i<e.zz23.length;i++){var a=e.zz23[i];o.set(n,i,this.get(s,a))}return o}},{key:"trace",value:function(){for(var t=Math.min(this.zzk2,this.zzj2),r=0,e=0;e<t;e++)r+=this.get(e,e);return r}},{key:"copy",value:function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,t.get(r,e))}},{key:"reset",value:function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,0)}},{key:"clone",value:function(){var t=new R(this.zzk2,this.zzj2);return t.copy(this),t}},{key:"sum",value:function(t){switch(t){case"row":return function(t){for(var r=b(t.zzk2),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[e]+=t.get(e,o);return r}(this);case"zz23":return function(t){for(var r=b(t.zzj2),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[o]+=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=0,e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)r+=t.get(e,o);return r}(this);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zz81",value:function(t){switch(t){case"row":return function(t){for(var r=b(t.zzk2,1),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[e]*=t.get(e,o);return r}(this);case"zz23":return function(t){for(var r=b(t.zzj2,1),e=0;e<t.zzk2;++e)for(var o=0;o<t.zzj2;++o)r[o]*=t.get(e,o);return r}(this);case void 0:return function(t){for(var r=1,e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)r*=t.get(e,o);return r}(this);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zz91",value:function(t){var r=this.sum(t);switch(t){case"row":for(var e=0;e<this.zzk2;e++)r[e]/=this.zzj2;return r;case"zz23":for(var o=0;o<this.zzj2;o++)r[o]/=this.zzk2;return r;case void 0:return r/this.zzC1;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zzA1",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r,o=e.unbiased,n=void 0===o||o,s=e.zz91,i=void 0===s?this.zz91(t):s;if("boolean"!=typeof n)throw new Error();switch(t){case"row":if(!Array.isArray(i))throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=[],i=0;i<o;i++){for(var a=0,u=0,h=0,f=0;f<n;f++)a+=h=t.get(i,f)-e[i],u+=h*h;r?s.push((u-a*a/n)/(n-1)):s.push((u-a*a/n)/n)}return s}(this,n,i);case"zz23":if(!Array.isArray(i))throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=[],i=0;i<n;i++){for(var a=0,u=0,h=0,f=0;f<o;f++)a+=h=t.get(f,i)-e[i],u+=h*h;r?s.push((u-a*a/o)/(o-1)):s.push((u-a*a/o)/o)}return s}(this,n,i);case void 0:if("number"!=typeof i)throw new Error();return function(t,r,e){for(var o=t.zzk2,n=t.zzj2,s=o*n,i=0,a=0,u=0,h=0;h<o;h++)for(var f=0;f<n;f++)i+=u=t.get(h,f)-e,a+=u*u;return r?(a-i*i/s)/(s-1):(a-i*i/s)/s}(this,n,i);default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"zzB1",value:function(t,r){"object"==c(t)&&(r=t,t=void 0);var e=this.zzA1(t,r);if(void 0===t)return Math.sqrt(e);for(var o=0;o<e.length;o++)e[o]=Math.sqrt(e[o]);return e}},{key:"center",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r.center,o=void 0===e?this.zz91(t):e;switch(t){case"row":if(!Array.isArray(o))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r[e])}(this,o),this;case"zz23":if(!Array.isArray(o))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r[o])}(this,o),this;case void 0:if("number"!=typeof o)throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)-r)}(this,o),this;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"scale",value:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"==c(t)&&(r=t,t=void 0),"object"!=c(r))throw new Error();var e=r.scale;switch(t){case"row":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.zzk2;e++){for(var o=0,n=0;n<t.zzj2;n++)o+=Math.pow(t.get(e,n),2)/(t.zzj2-1);r.push(Math.sqrt(o))}return r}(this);else if(!Array.isArray(e))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r[e])}(this,e),this;case"zz23":if(void 0===e)e=function(t){for(var r=[],e=0;e<t.zzj2;e++){for(var o=0,n=0;n<t.zzk2;n++)o+=Math.pow(t.get(n,e),2)/(t.zzk2-1);r.push(Math.sqrt(o))}return r}(this);else if(!Array.isArray(e))throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r[o])}(this,e),this;case void 0:if(void 0===e)e=function(t){for(var r=t.zzC1-1,e=0,o=0;o<t.zzj2;o++)for(var n=0;n<t.zzk2;n++)e+=Math.pow(t.get(n,o),2)/r;return Math.sqrt(e)}(this);else if("number"!=typeof e)throw new Error();return function(t,r){for(var e=0;e<t.zzk2;e++)for(var o=0;o<t.zzj2;o++)t.set(e,o,t.get(e,o)/r)}(this,e),this;default:throw new Error("inzyp13 option: ".concat(t))}}},{key:"toString",value:function(t){return l(this,t)}},{key:"zzC1",get:function(){return this.zzk2*this.zzj2}}],[{key:"zzD1",value:function(t,r,e){if(t*r!==e.length)throw new Error();for(var o=new R(t,r),n=0;n<t;n++)for(var s=0;s<r;s++)o.set(n,s,e[n*r+s]);return o}},{key:"zzE1",value:function(t){for(var r=new R(1,t.length),e=0;e<t.length;e++)r.set(0,e,t[e]);return r}},{key:"zzF1",value:function(t){for(var r=new R(t.length,1),e=0;e<t.length;e++)r.set(e,0,t[e]);return r}},{key:"zzG1",value:function(t,r){return new R(t,r)}},{key:"zzH1",value:function(t,r){return new R(t,r).zzL(1)}},{key:"rand",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=c(e))throw new Error();for(var o=e.random,n=void 0===o?Math.random:o,s=new R(t,r),i=0;i<t;i++)for(var a=0;a<r;a++)s.set(i,a,n());return s}},{key:"zzI1",value:function(t,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"!=c(e))throw new Error();var o=e.min,n=void 0===o?0:o,s=e.max,i=void 0===s?1e3:s,a=e.random,u=void 0===a?Math.random:a;if(!Number.isInteger(n))throw new Error();if(!Number.isInteger(i))throw new Error();if(n>=i)throw new Error();for(var h=i-n,f=new R(t,r),l=0;l<t;l++)for(var v=0;v<r;v++){var m=n+Math.round(u()*h);f.set(l,v,m)}return f}},{key:"zzJ1",value:function(t,r,e){void 0===r&&(r=t),void 0===e&&(e=1);for(var o=Math.min(t,r),n=this.zzG1(t,r),s=0;s<o;s++)n.set(s,s,e);return n}},{key:"zzo",value:function(t,r,e){var o=t.length;void 0===r&&(r=o),void 0===e&&(e=r);for(var n=Math.min(o,r,e),s=this.zzG1(r,e),i=0;i<n;i++)s.set(i,i,t[i]);return s}},{key:"min",value:function(t,r){t=this.zzL1(t),r=this.zzL1(r);for(var e=t.zzk2,o=t.zzj2,n=new R(e,o),s=0;s<e;s++)for(var i=0;i<o;i++)n.set(s,i,Math.min(t.get(s,i),r.get(s,i)));return n}},{key:"max",value:function(t,r){t=this.zzL1(t),r=this.zzL1(r);for(var e=t.zzk2,o=t.zzj2,n=new this(e,o),s=0;s<e;s++)for(var i=0;i<o;i++)n.set(s,i,Math.max(t.get(s,i),r.get(s,i)));return n}},{key:"zzL1",value:function(r){return t.zzM1(r)?r:new R(r)}},{key:"zzM1",value:function(t){return null!=t&&"Matrix"===t.klass}}]),t}();function S(t,r){return t-r}k.prototype.klass="Matrix","undefined"!=typeof Symbol&&(k.prototype[Symbol.for("zze3")]=function(){return l(this)}),k.random=k.rand,k.randomInt=k.zzI1,k.zzoonal=k.zzo,k.prototype.zzoonal=k.prototype.zzo,k.zzo2=k.zzJ1,k.prototype.negate=k.prototype.neg,k.prototype.zzI3=k.prototype.zzz;var R=function(t){o(e,k);var r=s(e);function e(t,o){var n;if(u(this,e),n=r.call(this),e.zzM1(t))return i(n,t.clone());if(Number.isInteger(t)&&t>=0)n.dataFlatten=new Float32Array(o*t);else{if(!Array.isArray(t))throw new Error();var s=t;if("number"!=typeof(o=(t=s.length)?s[0].length:0))n.dataFlatten=new Float32Array(s);else{n.dataFlatten=new Float32Array(o*t);for(var a=0;a<t;a++)for(var h=0;h<o;h++)n.dataFlatten[a*o+h]=s[a][h]}}return n.zzk2=t,n.zzj2=o,i(n)}return f(e,[{key:"set",value:function(t,r,e){return this.dataFlatten[t*this.zzj2+r]=e,this}},{key:"get",value:function(t,r){return this.dataFlatten[t*this.zzj2+r]}},{key:"zzn3",value:function(t,r,e){this.dataFlatten[t*this.zzj2+r]+=e}},{key:"mulComponent",value:function(t,r,e){this.dataFlatten[t*this.zzj2+r]*=e}}]),e}();!function(t,r){t.prototype.add=function(t){return"number"==typeof t?this.addS(t):this.addM(t)},t.prototype.addS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)+t);return this},t.prototype.addM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)+t.get(e,o));return this},t.add=function(t,e){return new r(t).add(e)},t.prototype.sub=function(t){return"number"==typeof t?this.subS(t):this.subM(t)},t.prototype.subS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)-t);return this},t.prototype.subM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)-t.get(e,o));return this},t.sub=function(t,e){return new r(t).sub(e)},t.prototype.subtract=t.prototype.sub,t.prototype.subtractS=t.prototype.subS,t.prototype.subtractM=t.prototype.subM,t.subtract=t.sub,t.prototype.zzi3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,0)},t.prototype.mul=function(t){return"number"==typeof t?this.mulS(t):this.mulM(t)},t.prototype.mulS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)*t);return this},t.prototype.mulM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)*t.get(e,o));return this},t.mul=function(t,e){return new r(t).mul(e)},t.prototype.multiply=t.prototype.mul,t.prototype.multiplyS=t.prototype.mulS,t.prototype.multiplyM=t.prototype.mulM,t.multiply=t.mul,t.prototype.div=function(t){return"number"==typeof t?this.divS(t):this.divM(t)},t.prototype.divS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)/t);return this},t.prototype.divM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)/t.get(e,o));return this},t.div=function(t,e){return new r(t).div(e)},t.prototype.divide=t.prototype.div,t.prototype.divideS=t.prototype.divS,t.prototype.divideM=t.prototype.divM,t.divide=t.div,t.prototype.mod=function(t){return"number"==typeof t?this.modS(t):this.modM(t)},t.prototype.modS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)%t);return this},t.prototype.modM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)%t.get(e,o));return this},t.mod=function(t,e){return new r(t).mod(e)},t.prototype.zzO3=t.prototype.mod,t.prototype.zzO3S=t.prototype.modS,t.prototype.zzO3M=t.prototype.modM,t.zzO3=t.mod,t.prototype.and=function(t){return"number"==typeof t?this.andS(t):this.andM(t)},t.prototype.andS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)&t);return this},t.prototype.andM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)&t.get(e,o));return this},t.and=function(t,e){return new r(t).and(e)},t.prototype.or=function(t){return"number"==typeof t?this.orS(t):this.orM(t)},t.prototype.orS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)|t);return this},t.prototype.orM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)|t.get(e,o));return this},t.or=function(t,e){return new r(t).or(e)},t.prototype.xor=function(t){return"number"==typeof t?this.xorS(t):this.xorM(t)},t.prototype.xorS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)^t);return this},t.prototype.xorM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)^t.get(e,o));return this},t.xor=function(t,e){return new r(t).xor(e)},t.prototype.zzQ3=function(t){return"number"==typeof t?this.zzQ3S(t):this.zzQ3M(t)},t.prototype.zzQ3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)<<t);return this},t.prototype.zzQ3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)<<t.get(e,o));return this},t.zzQ3=function(t,e){return new r(t).zzQ3(e)},t.prototype.zzJ3=function(t){return"number"==typeof t?this.zzJ3S(t):this.zzJ3M(t)},t.prototype.zzJ3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)>>t);return this},t.prototype.zzJ3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)>>t.get(e,o));return this},t.zzJ3=function(t,e){return new r(t).zzJ3(e)},t.prototype.zzL3=function(t){return"number"==typeof t?this.zzL3S(t):this.zzL3M(t)},t.prototype.zzL3S=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,this.get(r,e)>>>t);return this},t.prototype.zzL3M=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,this.get(e,o)>>>t.get(e,o));return this},t.zzL3=function(t,e){return new r(t).zzL3(e)},t.prototype.zzK3=t.prototype.zzL3,t.prototype.zzK3S=t.prototype.zzL3S,t.prototype.zzK3M=t.prototype.zzL3M,t.zzK3=t.zzL3,t.prototype.not=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,~this.get(t,r));return this},t.not=function(t){return new r(t).not()},t.prototype.abs=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.abs(this.get(t,r)));return this},t.abs=function(t){return new r(t).abs()},t.prototype.acos=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.acos(this.get(t,r)));return this},t.acos=function(t){return new r(t).acos()},t.prototype.zzM3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.zzM3(this.get(t,r)));return this},t.zzM3=function(t){return new r(t).zzM3()},t.prototype.asin=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.asin(this.get(t,r)));return this},t.asin=function(t){return new r(t).asin()},t.prototype.zzN3=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.zzN3(this.get(t,r)));return this},t.zzN3=function(t){return new r(t).zzN3()},t.prototype.atan=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.atan(this.get(t,r)));return this},t.atan=function(t){return new r(t).atan()},t.prototype.atanh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.atanh(this.get(t,r)));return this},t.atanh=function(t){return new r(t).atanh()},t.prototype.cbrt=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cbrt(this.get(t,r)));return this},t.cbrt=function(t){return new r(t).cbrt()},t.prototype.ceil=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.ceil(this.get(t,r)));return this},t.ceil=function(t){return new r(t).ceil()},t.prototype.clz32=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.clz32(this.get(t,r)));return this},t.clz32=function(t){return new r(t).clz32()},t.prototype.cos=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cos(this.get(t,r)));return this},t.cos=function(t){return new r(t).cos()},t.prototype.cosh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.cosh(this.get(t,r)));return this},t.cosh=function(t){return new r(t).cosh()},t.prototype.exp=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.exp(this.get(t,r)));return this},t.exp=function(t){return new r(t).exp()},t.prototype.expm1=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.expm1(this.get(t,r)));return this},t.expm1=function(t){return new r(t).expm1()},t.prototype.floor=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.floor(this.get(t,r)));return this},t.floor=function(t){return new r(t).floor()},t.prototype.fround=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.fround(this.get(t,r)));return this},t.fround=function(t){return new r(t).fround()},t.prototype.log=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log(this.get(t,r)));return this},t.log=function(t){return new r(t).log()},t.prototype.log1p=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log1p(this.get(t,r)));return this},t.log1p=function(t){return new r(t).log1p()},t.prototype.log10=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log10(this.get(t,r)));return this},t.log10=function(t){return new r(t).log10()},t.prototype.log2=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.log2(this.get(t,r)));return this},t.log2=function(t){return new r(t).log2()},t.prototype.round=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.round(this.get(t,r)));return this},t.round=function(t){return new r(t).round()},t.prototype.sign=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sign(this.get(t,r)));return this},t.sign=function(t){return new r(t).sign()},t.prototype.sin=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sin(this.get(t,r)));return this},t.sin=function(t){return new r(t).sin()},t.prototype.sinh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sinh(this.get(t,r)));return this},t.sinh=function(t){return new r(t).sinh()},t.prototype.sqrt=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.sqrt(this.get(t,r)));return this},t.sqrt=function(t){return new r(t).sqrt()},t.prototype.tan=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.tan(this.get(t,r)));return this},t.tan=function(t){return new r(t).tan()},t.prototype.tanh=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.tanh(this.get(t,r)));return this},t.tanh=function(t){return new r(t).tanh()},t.prototype.trunc=function(){for(var t=0;t<this.zzk2;t++)for(var r=0;r<this.zzj2;r++)this.set(t,r,Math.trunc(this.get(t,r)));return this},t.trunc=function(t){return new r(t).trunc()},t.pow=function(t,e){return new r(t).pow(e)},t.prototype.pow=function(t){return"number"==typeof t?this.powS(t):this.powM(t)},t.prototype.powS=function(t){for(var r=0;r<this.zzk2;r++)for(var e=0;e<this.zzj2;e++)this.set(r,e,Math.pow(this.get(r,e),t));return this},t.prototype.powM=function(t){if(t=r.zzL1(t),this.zzk2!==t.zzk2||this.zzj2!==t.zzj2)throw new Error();for(var e=0;e<this.zzk2;e++)for(var o=0;o<this.zzj2;o++)this.set(e,o,Math.pow(this.get(e,o),t.get(e,o)));return this}}(k,R);var E=function(t){o(e,k);var r=s(e);function e(t){var o;u(this,e),(o=r.call(this)).zzk2=t.length,o.zzj2=t[0].length,o.dataFlatten=new Float32Array(o.zzk2*o.zzj2);for(var n=0;n<o.zzk2;n++)for(var s=0;s<o.zzj2;s++)o.dataFlatten[n*o.zzj2+s]=t[n][s];return o}return f(e,[{key:"set",value:function(t,r,e){return this.dataFlatten[t*this.zzj2+r]=e,this}},{key:"get",value:function(t,r){return this.dataFlatten[t*this.zzj2+r]}}]),e}();function T(t,r){var e=0;return Math.abs(t)>Math.abs(r)?(e=r/t,Math.abs(t)*Math.sqrt(1+e*e)):0!==r?(e=t/r,Math.abs(r)*Math.sqrt(1+e*e)):0}var A=function(){function t(r){u(this,t);var e=(r=E.zzL1(r)).zzk2,o=r.zzj2;this.QR=r.clone(),this.X=r.clone(),this.Rzzo=new Float32Array(o),this.m=e,this.n=o,this.update(r)}return f(t,[{key:"update",value:function(t){var r,e,o,n,s=this.QR,i=this.m,a=this.n,u=this.Rzzo;for(s.copy(t),o=0;o<a;o++){var h=0;for(r=o;r<i;r++)h=T(h,s.get(r,o));if(0!==h){for(s.get(o,o)<0&&(h=-h),r=o;r<i;r++)s.set(r,o,s.get(r,o)/h);for(s.set(o,o,s.get(o,o)+1),e=o+1;e<a;e++){for(n=0,r=o;r<i;r++)n+=s.get(r,o)*s.get(r,e);for(n=-n/s.get(o,o),r=o;r<i;r++)s.set(r,e,s.get(r,e)+n*s.get(r,o))}}u[o]=-h}}},{key:"solve",value:function(t){var r=this.QR,e=r.zzk2,o=t.zzj2,n=this.X;n.copy(t);var s,i,a,u,h=r.zzj2;for(a=0;a<h;a++)for(i=0;i<o;i++){for(u=0,s=a;s<e;s++)u+=r.get(s,a)*n.get(s,i);for(u=-u/r.get(a,a),s=a;s<e;s++)n.set(s,i,n.get(s,i)+u*r.get(s,a))}for(a=h-1;a>=0;a--){for(i=0;i<o;i++)n.set(a,i,n.get(a,i)/this.Rzzo[a]);for(s=0;s<a;s++)for(i=0;i<o;i++)n.set(s,i,n.get(s,i)-n.get(a,i)*r.get(s,a))}return n.zz31(0,h-1,0,o-1)}},{key:"zzY1",value:function(){for(var t=this.QR.zzj2,r=0;r<t;r++)if(0===this.Rzzo[r])return!1;return!0}},{key:"zzW1",get:function(){var t,r,e=this.QR,o=e.zzj2,n=new R(o,o);for(t=0;t<o;t++)for(r=0;r<o;r++)t<r?n.set(t,r,e.get(t,r)):t===r?n.set(t,r,this.Rzzo[t]):n.set(t,r,0);return n}},{key:"zzZ1",get:function(){var t,r,e,o,n=this.QR,s=n.zzk2,i=n.zzj2,a=new R(s,i);for(e=i-1;e>=0;e--){for(t=0;t<s;t++)a.set(t,e,0);for(a.set(e,e,1),r=e;r<i;r++)if(0!==n.get(e,e)){for(o=0,t=e;t<s;t++)o+=n.get(t,e)*a.get(t,r);for(o=-o/n.get(e,e),t=e;t<s;t++)a.set(t,r,a.get(t,r)+o*n.get(t,e))}}return a}}]),t}(),C=function(){function t(r,e){u(this,t);var o=r.zzk2,n=r.zzj2,s=Boolean(e.zzx3),i=Boolean(e.zzZ2),a=r.clone(),h=Math.min(o+1,n),f=Math.min(o,n),c=new Float32Array(h),l=new R(o,f),v=new R(n,n),m=new Float32Array(n),g=new Float32Array(o),w=new Float32Array(h),p=R.zzG1(h,h),y=R.zzG1(v.zzk2,l.zzk2),d=new R(v.zzk2,h),b=new R(v.zzk2,l.zzk2);this.m=o,this.n=n,this.ni=h,this.nu=f,this.s=c,this.si=w,this.work=g,this.e=m,this.U=l,this.V=v,this.wantu=s,this.wantv=i,this.a=a,this.Ls=p,this.VLU=y,this.X=d,this.Y=b,this.compute()}return f(t,[{key:"zz24",value:function(t){this.a.copy(t),this.U.reset(),this.V.reset(),this.compute()}},{key:"compute",value:function(){for(var t=this.m,r=this.n,e=this.ni,o=this.nu,n=this.s,s=this.si,i=this.work,a=this.e,u=this.U,h=this.V,f=this.wantu,c=this.wantv,l=this.a,v=0;v<e;v++)s[v]=v;for(var m=Math.min(t-1,r),g=Math.max(0,Math.min(r-2,t)),w=Math.max(m,g),p=0;p<w;p++){if(p<m){n[p]=0;for(var y=p;y<t;y++)n[p]=T(n[p],l.get(y,p));if(0!==n[p]){l.get(p,p)<0&&(n[p]=-n[p]);for(var d=p;d<t;d++)l.set(d,p,l.get(d,p)/n[p]);l.set(p,p,l.get(p,p)+1)}n[p]=-n[p]}for(var b=p+1;b<r;b++){if(p<m&&0!==n[p]){for(var M=0,x=p;x<t;x++)M+=l.get(x,p)*l.get(x,b);M=-M/l.get(p,p);for(var k=p;k<t;k++)l.set(k,b,l.get(k,b)+M*l.get(k,p))}a[b]=l.get(p,b)}if(f&&p<m)for(var S=p;S<t;S++)u.set(S,p,l.get(S,p));if(p<g){a[p]=0;for(var R=p+1;R<r;R++)a[p]=T(a[p],a[R]);if(0!==a[p]){a[p+1]<0&&(a[p]=0-a[p]);for(var E=p+1;E<r;E++)a[E]/=a[p];a[p+1]+=1}if(a[p]=-a[p],p+1<t&&0!==a[p]){for(var A=p+1;A<t;A++)i[A]=0;for(var C=p+1;C<t;C++)for(var I=p+1;I<r;I++)i[C]+=a[I]*l.get(C,I);for(var D=p+1;D<r;D++)for(var N=-a[D]/a[p+1],O=p+1;O<t;O++)l.set(O,D,l.get(O,D)+N*i[O])}if(c)for(var F=p+1;F<r;F++)h.set(F,p,a[F])}}var P=Math.min(r,t+1);if(m<r&&(n[m]=l.get(m,m)),t<P&&(n[P-1]=0),g+1<P&&(a[g]=l.get(g,P-1)),a[P-1]=0,f){for(var j=m;j<o;j++){for(var q=0;q<t;q++)u.set(q,j,0);u.set(j,j,1)}for(var V=m-1;V>=0;V--)if(0!==n[V]){for(var z=V+1;z<o;z++){for(var Q=0,L=V;L<t;L++)Q+=u.get(L,V)*u.get(L,z);Q=-Q/u.get(V,V);for(var B=V;B<t;B++)u.set(B,z,u.get(B,z)+Q*u.get(B,V))}for(var U=V;U<t;U++)u.set(U,V,-u.get(U,V));u.set(V,V,1+u.get(V,V));for(var _=0;_<V-1;_++)u.set(_,V,0)}else{for(var G=0;G<t;G++)u.set(G,V,0);u.set(V,V,1)}}if(c)for(var W=r-1;W>=0;W--){if(W<g&&0!==a[W])for(var X=W+1;X<r;X++){for(var Y=0,J=W+1;J<r;J++)Y+=h.get(J,W)*h.get(J,X);Y=-Y/h.get(W+1,W);for(var K=W+1;K<r;K++)h.set(K,X,h.get(K,X)+Y*h.get(K,W))}for(var H=0;H<r;H++)h.set(H,W,0);h.set(W,W,1)}for(var Z=P-1,$=Number.EPSILON;P>0;){var tt=void 0,rt=void 0;for(tt=P-2;tt>=-1&&-1!==tt;tt--){var et=Number.MIN_VALUE+$*Math.abs(n[tt]+Math.abs(n[tt+1]));if(Math.abs(a[tt])<=et||Number.isNaN(a[tt])){a[tt]=0;break}}if(tt===P-2)rt=4;else{var ot=void 0;for(ot=P-1;ot>=tt&&ot!==tt;ot--){var nt=(ot!==P?Math.abs(a[ot]):0)+(ot!==tt+1?Math.abs(a[ot-1]):0);if(Math.abs(n[ot])<=$*nt){n[ot]=0;break}}ot===tt?rt=3:ot===P-1?rt=1:(rt=2,tt=ot)}switch(tt++,rt){case 1:var st=a[P-2];a[P-2]=0;for(var it=P-2;it>=tt;it--){var at=T(n[it],st),ut=n[it]/at,ht=st/at;if(n[it]=at,it!==tt&&(st=-ht*a[it-1],a[it-1]=ut*a[it-1]),c)for(var ft=0;ft<r;ft++)at=ut*h.get(ft,it)+ht*h.get(ft,P-1),h.set(ft,P-1,-ht*h.get(ft,it)+ut*h.get(ft,P-1)),h.set(ft,it,at)}break;case 2:var ct=a[tt-1];a[tt-1]=0;for(var lt=tt;lt<P;lt++){var vt=T(n[lt],ct),mt=n[lt]/vt,gt=ct/vt;if(n[lt]=vt,ct=-gt*a[lt],a[lt]=mt*a[lt],f)for(var wt=0;wt<t;wt++)vt=mt*u.get(wt,lt)+gt*u.get(wt,tt-1),u.set(wt,tt-1,-gt*u.get(wt,lt)+mt*u.get(wt,tt-1)),u.set(wt,lt,vt)}break;case 3:var pt=Math.max(Math.abs(n[P-1]),Math.abs(n[P-2]),Math.abs(a[P-2]),Math.abs(n[tt]),Math.abs(a[tt])),yt=n[P-1]/pt,dt=n[P-2]/pt,bt=a[P-2]/pt,Mt=n[tt]/pt,xt=a[tt]/pt,kt=((dt+yt)*(dt-yt)+bt*bt)/2,St=yt*bt*(yt*bt),Rt=0;0===kt&&0===St||(Rt=St/(kt+(Rt=kt<0?0-Math.sqrt(kt*kt+St):Math.sqrt(kt*kt+St))));for(var Et=(Mt+yt)*(Mt-yt)+Rt,Tt=Mt*xt,At=tt;At<P-1;At++){var Ct=T(Et,Tt);0===Ct&&(Ct=Number.MIN_VALUE);var It=Et/Ct,Dt=Tt/Ct;if(At!==tt&&(a[At-1]=Ct),Et=It*n[At]+Dt*a[At],a[At]=It*a[At]-Dt*n[At],Tt=Dt*n[At+1],n[At+1]=It*n[At+1],c)for(var Nt=0;Nt<r;Nt++)Ct=It*h.get(Nt,At)+Dt*h.get(Nt,At+1),h.set(Nt,At+1,-Dt*h.get(Nt,At)+It*h.get(Nt,At+1)),h.set(Nt,At,Ct);if(0===(Ct=T(Et,Tt))&&(Ct=Number.MIN_VALUE),It=Et/Ct,Dt=Tt/Ct,n[At]=Ct,Et=It*a[At]+Dt*n[At+1],n[At+1]=-Dt*a[At]+It*n[At+1],Tt=Dt*a[At+1],a[At+1]=It*a[At+1],f&&At<t-1)for(var Ot=0;Ot<t;Ot++)Ct=It*u.get(Ot,At)+Dt*u.get(Ot,At+1),u.set(Ot,At+1,-Dt*u.get(Ot,At)+It*u.get(Ot,At+1)),u.set(Ot,At,Ct)}a[P-2]=Et;break;case 4:if(n[tt]<=0&&(n[tt]=n[tt]<0?-n[tt]:0,c))for(var Ft=0;Ft<=Z;Ft++)h.set(Ft,tt,-h.get(Ft,tt));for(;tt<Z&&!(n[tt]>=n[tt+1]);){var Pt=n[tt];if(n[tt]=n[tt+1],n[tt+1]=Pt,c&&tt<r-1)for(var jt=0;jt<r;jt++)Pt=h.get(jt,tt+1),h.set(jt,tt+1,h.get(jt,tt)),h.set(jt,tt,Pt);if(f&&tt<t-1)for(var qt=0;qt<t;qt++)Pt=u.get(qt,tt+1),u.set(qt,tt+1,u.get(qt,tt)),u.set(qt,tt,Pt);tt++}P--}}}},{key:"solve",value:function(t){for(var r=t,e=this.zzf1,o=this.s.length,n=this.Ls,s=this.VLU,i=0;i<o;i++)Math.abs(this.s[i])<=e?n.set(i,i,0):n.set(i,i,1/this.s[i]);for(var a=this.U,u=this.zzh1,h=u.zzr(n),f=u.zzk2,c=a.zzk2,l=0;l<f;l++)for(var v=0;v<c;v++){for(var m=0,g=0;g<o;g++)m+=h.get(l,g)*a.get(v,g);s.set(l,v,m)}return s.zzr(r)}},{key:"zza1",value:function(t){return this.solve(R.zzo(t))}},{key:"inverse",value:function(){for(var t=this.V,r=this.zzf1,e=t.zzk2,o=t.zzj2,n=this.X,s=this.Y,i=0;i<e;i++)for(var a=0;a<o;a++)Math.abs(this.s[a])>r&&n.set(i,a,t.get(i,a)/this.s[a]);for(var u=this.U,h=u.zzk2,f=u.zzj2,c=0;c<e;c++)for(var l=0;l<h;l++){for(var v=0,m=0;m<f;m++)v+=n.get(c,m)*u.get(l,m);s.set(c,l,v)}return s}},{key:"zzb1",get:function(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}},{key:"zzp2",get:function(){return this.s[0]}},{key:"zzd1",get:function(){for(var t=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,r=0,e=this.s,o=0,n=e.length;o<n;o++)e[o]>t&&r++;return r}},{key:"zzoonal",get:function(){return Array.from(this.s)}},{key:"zzf1",get:function(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}},{key:"zzg1",get:function(){return this.U}},{key:"zzh1",get:function(){return this.V}},{key:"zzoonalMatrix",get:function(){return R.zzo(this.s)}}]),t}(),I=[],D=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{zzj3:-1},e=r.zzj3;if(-1!==e&&I[e]){var o=I[e];return o.zz24(t),o}var n=new C(t,Object.assign({zzx3:!0,zzZ2:!0},r));return-1!==e&&(I[e]=n),n};function N(t,r){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;return e?D(t,{zzj3:o}).solve(r):new A(t).solve(r)}var O=function(t){o(e,k);var r=s(e);function e(t,o,n){var s;return u(this,e),(s=r.call(this)).matrix=t,s.zzk2=o,s.zzj2=n,s}return e}(),F=function(t){o(e,O);var r=s(e);function e(t,o,n){var s;u(this,e);var i=y(t,o,n);return(s=r.call(this,t,i.row.length,i.zz23.length)).zzy3=i.row,s.zzl2=i.zz23,s}return f(e,[{key:"set",value:function(t,r,e){return this.matrix.set(this.zzy3[t],this.zzl2[r],e),this}},{key:"get",value:function(t,r){return this.matrix.get(this.zzy3[t],this.zzl2[r])}}]),e}();t.Matrix=R,t.QR=A,t.zzT2=A,t.zz92=D,t.default=R,t.zzU1=function t(r){if(0===r.zzj2)return 1;var e,o,n,s,i,a;if(2===r.zzj2)return e=r.get(0,0),o=r.get(0,1),n=r.get(1,0),e*r.get(1,1)-o*n;if(3===r.zzj2)return s=new F(r,[1,2],[1,2]),i=new F(r,[1,2],[0,2]),a=new F(r,[1,2],[0,1]),e=r.get(0,0),o=r.get(0,1),n=r.get(0,2),e*t(s)-o*t(i)+n*t(a);throw new Error()},t.inverse2=function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=arguments.length>2?arguments[2]:void 0;return r?D(t,{zzj3:e}).inverse():N(t,R.zzJ1(t.zzk2))},t.zzp3=N,Object.defineProperty(t,"zzB",{value:!0})},"object"==(void 0===e?"undefined":c(e))&&void 0!==r?v(e):v((l=falseThis?globalThis:l||self).mlMatrix={})},{}]},{},[2])(2)});;tb=window.zyp;a.callbackReady&&(V.Sa=a.callbackReady);a.callbackTrack&&(V.hc=a.callbackTrack);"undefined"!==typeof a.animateDelay&&(V.va=a.animateDelay);"undefined"!==typeof a.NNCPath&&(V.dc=a.NNCPath);"undefined"!==typeof a.NN&&(V.lb=
a.NN);"undefined"!==typeof a.followZRot&&(V.ya=a.followZRot?!0:!1);"undefined"!==typeof a.isTrackingEnabled&&(V.Dc=a.isTrackingEnabled?!0:!1);ea=Object.create(qa.qg);a.scanSettings&&Object.assign(ea,a.scanSettings);Q.X=ea.translationScalingFactors.slice(0);ua=Object.create(qa.Gg);a.stabilizationSettings&&Object.assign(ua,a.stabilizationSettings);var d=1;"undefined"!==typeof a.maxFacesDetected&&(d=Math.max(1,a.maxFacesDetected));if(d>qa.fg)return Oa("MAXFACES_TOOHIGH"),!1;fa.B({U:d,le:qa.gg,ze:qa.hg,
$d:function(l){return l.isDetected}});if(a.canvas)V.Y=a.canvas;else{if(!a.canvasId)return Oa("NO_CANVASID"),!1;V.Y=document.getElementById(a.canvasId);if(!V.Y)return Oa("INVALID_CANVASID"),!1}T.o=V.Y.width;T.F=V.Y.height;if(!T.o||!T.F)return Oa("INVALID_CANVASDIMENSIONS"),!1;T.fc=T.o/T.F;Na.B({de:a.isKeepRunningOnWinFocusLost||!1,cc:a.GPUBenchmarkerCallback||null,ob:V.va});oa.B({Rc:0,n:ea.nDetectsPerLoopRange[1]-ea.nDetectsPerLoopRange[0]+1,je:ea.nDetectsPerLoopRange[0]});0!==ea.nDetectsPerLoop?oa.bd(ea.nDetectsPerLoop):
oa.nd();var e=0;a.videoSettings&&a.videoSettings.videoElement?fb(a.videoSettings.videoElement,b):null===a.videoSettings?b():(a.videoSettings&&Object.assign(wa,a.videoSettings),Mb(a.onWebcamAsk,a.onWebcamGet,function(l){fb(l,b)}));T.Za=Hb.instance({});Ib(function(l){if(!bc())return!1;z.mb([{id:"s66",name:"_",sa:"attribute vec2 a0;uniform mat2 u46;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u46*a0*vec2(1.,-1.);}",qb:["a0"],Qa:[2],g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
i:["u1","u46"],precision:"lowp"},{id:"s64",name:"_",g:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",sa:"attribute vec2 a0;uniform sampler2D u47;uniform mat2 u46;uniform vec2 u48;uniform float u49,u40,u50,u51;varying vec2 vv0;void main(){vec2 f=a0;vec4 a=texture2D(u47,vec2(u40,u49));vec2 g=a.gb,b=a.a*u48;b.x*=u51;float c=cos(u50),d=sin(u50);vec2 h=mat2(c,d,-d,c)*f,i=g+.5*h*b;vv0=.5+2.*u46*(i-.5),gl_Position=vec4(a0,0.,1.);}",qb:["a0"],Qa:[2],i:"u1 u47 u48 u49 u40 u50 u51 u46".split(" "),
precision:"lowp"},{id:"s63",name:"_",g:"uniform sampler2D u52,u47;uniform vec3 u53,u54;uniform float u55,u56,u49,u40,u57,u58,u50,u59;const vec4 e=vec4(.25);void main(){float b=(u58-.5)/u58;vec4 f=texture2D(u52,vec2(3.5/u58,b));bool g=dot(f,e)>u56;vec4 a=texture2D(u47,vec2(u40,u49));a.r<-.5?a.r+=1.:g?a.r=2.:a.r>u55?a.r=0.:a.r>1.9?a.r+=1.:0.,a.r=mix(-2.,a.r,u57);if(a.r<.9)a=vec4(1.,u53);else{a.r*=step(1.9,a.r);float h=dot(e,texture2D(u52,vec2(.5/u58,b))),i=dot(e,texture2D(u52,vec2(1.5/u58,b))),j=dot(e,texture2D(u52,vec2(2.5/u58,b))),c=cos(u50),d=sin(u50);vec2 k=mat2(c,d*u59,-d/u59,c)*vec2(h,i);a.gba+=vec3(k,j)*u54*a.a;}gl_FragColor=a;}",
sa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",i:"u52 u47 u53 u55 u54 u57 u56 u49 u40 u58 u50 u59".split(" ")},{id:"s67",name:"_",sa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u52;uniform float u58,u57;const vec4 e=vec4(.25,.25,.25,.25);void main(){float a=(u58-.5)/u58,b=dot(e,texture2D(u52,vec2(5.5/u58,a))),c=dot(e,texture2D(u52,vec2(6.5/u58,a))),d=dot(e,texture2D(u52,vec2(7.5/u58,a))),f=dot(e,texture2D(u52,vec2(3.5/u58,a)));vec3 g=vec3(b,c,d);gl_FragColor=vec4(g,f*u57);}",
i:["u52","u58","u57"]},{id:"s68",name:"_",sa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u52;uniform float u58;const vec4 e=vec4(.25),h=vec4(.5);vec2 f(float a){float b=floor(a/u58),c=a-b*u58;return vec2(c,u58-.5-b)/u58;}vec2 g(float a){vec2 b=f(a*2.),c=f(a*2.+1.);float d=dot(e,texture2D(u52,b)),i=dot(e,texture2D(u52,c));return vec2(d,i);}void main(){float a=2.*gl_FragCoord.x-2.;vec2 b=g(a-1.),c=g(a);gl_FragColor=h+.5*vec4(b,c)/1.2;}",i:["u52","u58"]},{id:"s65",
name:"_",sa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",g:"uniform sampler2D u52;uniform vec2 u41,u42,u43,u44,u45;const vec4 e=vec4(.25,.25,.25,.25);const float f=3.141593,g=1e-7;void main(){float b=dot(e,texture2D(u52,u41)),c=dot(e,texture2D(u52,u42))/2.,a=dot(e,texture2D(u52,u43)),d=dot(e,texture2D(u52,u44));a+=(step(0.,a)-.5)*g;float h=.5+.5*atan(d,a)/f,i=dot(e,texture2D(u52,u45));gl_FragColor=vec4(b,c,h,i);}",i:"u52 u41 u42 u43 u44 u45".split(" ")},{id:"s62",name:"_",g:"uniform sampler2D u47,u60;uniform vec2 u61;uniform float u62,u40;varying vec2 vv0;void main(){float f=step(.5,mod(gl_FragCoord.y+1.5,2.)),a=step(u40,vv0.x);vec2 d=vv0+u61;vec4 b=mix(texture2D(u60,d),texture2D(u47,d),vec4(1.,a,a,a));b.a*=mix(u62,1.,a);vec4 g=floor(255.*b),h=255.*fract(255.*b),c=mix(g,h,f)/255.;c.x=mix(step(b.x,1.5),c.x,a),gl_FragColor=c;}",
i:["u47","u60","u62","u61","u40"]}]);Kb(l);b()});return!0},update:function(a){if(!yb)return Promise.reject("NOT_READY");a.scanSettings&&cb.set_scanSettings(a.scanSettings);a.stabilizationSettings&&cb.set_stabilizationSettings(a.stabilizationSettings);var b=Promise.resolve();if(a.NNCPath||a.NN){mb();da=ba.gb;Ga&&Ga.m();Ga=null;for(b=0;b<fa.za();++b)ta[b].detected=0,ta.isDetected=!1,ta[b].detectedRaw=0,Qa[b].Wa=0;a.NNCPath?V.dc=a.NNCPath:a.NN&&(V.lb=a.NN);b=new Promise(function(d){Ib(function(e){Kb(e);
Wa();d()})})}return b},destroy:function(){if(jb)return Promise.reject("ALREADY_DESTROYING");bb=null;yb=!1;jb=!0;Na.m();return new Promise(function(a){cb.toggle_pause(!0,!0).finally(function(){Ga&&Ga.m();za.m();Ga=nb=ta=Qa=null;T.Za=null;Q.da=null;Q.kb=null;B.D=null;da=ba.hb;jb=!1;a()}).catch(function(){})})},toggle_videoStream:function(a){return B.Gb||!B.element?Promise.resolve():Y.Ne(B.element,a,B.Ta)},toggle_pause:function(a,b){if(da===ba.gb||da===ba.Kb)return da=a?ba.Kb:ba.gb,Promise.resolve();
if(-1===[ba.play,ba.pause].indexOf(da))return Promise.reject("NOT_READY");b=b?cb.toggle_videoStream(!a):Promise.resolve();a?mb():b.then(function(){Wa()});return b},toggle_tracking:function(a){-1!==[ba.play,ba.pause].indexOf(da)&&(V.Dc=a)},reset_GLState:function(){za.xe()},update_videoSettings:function(a){if(da===ba.gb||da===ba.Kb||da===ba.hb)return Promise.reject("NOT_READY");mb();return null===a&&null===B.element?Promise.resolve(null):new Promise(function(b,d){Y.Ne(B.element,!1,B.Ta).then(function(){null===
a?b(null):(Object.assign(wa,a),Mb(null,null,function(e){fb(e,function(){B.D.wg(e);Ta();Sa();Wa();b(B.element)})}))}).catch(d)})},set_animateDelay:function(a){V.va=a;Na.update({ob:V.va})},resize:function(){if(!(B&&B.element&&V&&V.Y))return!1;var a=V.Y.width,b=V.Y.height;if(!sb()&&a===T.o&&b===T.F)return!1;T.o=a;T.F=b;T.fc=T.o/T.F;z.P();rb();qb();Ta();Sa();return!0},set_inputTexture:function(a,b,d,e){B.H[0]=b;B.H[1]=d;B.ae=e||!1;B.D=Z.instance({width:b,height:d,xc:a});B.eb=!0;Ta();za.Ac();Sa()},reset_inputTexture:function(){B.eb=
!1;B.D=B.gd;sb();Ta();Sa()},render_video:function(){Ba.O();z.P();z.set("s66");z.Ge("u46",B.ea);c.viewport(0,0,T.o,T.F);B.D.h(0);R.l(!0,!0);z.Ge("u46",B.A)},get_videoDevices:function(a){return Y.Td(a)},get_videoUVScaleMat2:function(){return B.A},is_winFocus:function(){return Na.bg()},set_scanSettings:function(a){Object.assign(ea,a);0!==ea.nDetectsPerLoop?oa.bd(ea.nDetectsPerLoop):oa.nd();rb();qb()},set_stabilizationSettings:function(a){Object.assign(ua,a)},update_videoElement:function(a,b){fb(a,function(){Lb();
Ta();Sa();b&&b(B.D.get());da===ba.Ie&&Wa()})},bind_croppedTextureToSampler:function(a){T.Za.wa(a)},capture_image:function(a){return za.zf(a)},get_LMLabels:function(){return la.labels},get_widthPx:function(){return T?T.o:-1},get_heightPx:function(){return T?T.F:-1},force_animate:function(){za.Ac();Db();Cb();Eb();db()},reset:function(){ta.forEach(function(a){Object.assign(a,{detected:0,detectedRaw:0,isDetected:!1,x:0,y:0,s:1,rx:0,ry:0,rz:0,lAmb:0,lDir:0,lTheta:0,lPhi:0})});Q.da.Na(Q.fd);Q.kb.Na(Q.fd);
Ra.reset()},is_outputLighting:function(){return Q.ab},compute_pose:function(a,b,d,e){null===bb&&(Ma[0]=d,Ma[1]=e,bb=new tb.zypSolver({cameraFocals:Ma,zyp15:qa.Fg}));if(Ma[0]!==d||Ma[1]!==e)Ma[0]=d,Ma[1]=e,bb.zyp14(Ma);a=bb.solve(a,b,!1);return{ok:a.zyp13,repError:a.repError,rotation:a.R,translation:a.t}}};return cb}();
;return WEBARROCKSFACE||window.WEBARROCKSFACE;})();